"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/neo4j-driver-bolt-connection";
exports.ids = ["vendor-chunks/neo4j-driver-bolt-connection"];
exports.modules = {

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.assertNotificationFilterIsEmpty = exports.assertImpersonatedUserIsEmpty = exports.assertTxConfigIsEmpty = exports.assertDatabaseIsEmpty = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\n// eslint-disable-next-line no-unused-vars\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\n/**\n * @param {TxConfig} txConfig the auto-commit transaction configuration.\n * @param {function(error: string)} onProtocolError called when the txConfig is not empty.\n * @param {ResultStreamObserver} observer the response observer.\n */\nfunction assertTxConfigIsEmpty(txConfig, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (txConfig && !txConfig.isEmpty()) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support transaction configuration. ' +\n            'Please upgrade to neo4j 3.5.0 or later in order to use this functionality');\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertTxConfigIsEmpty = assertTxConfigIsEmpty;\n/**\n * Asserts that the passed-in database name is empty.\n * @param {string} database\n * @param {fuction(err: String)} onProtocolError Called when it doesn't have database set\n */\nfunction assertDatabaseIsEmpty(database, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (database) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support multiple databases. ' +\n            'Please upgrade to neo4j 4.0.0 or later in order to use this functionality');\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertDatabaseIsEmpty = assertDatabaseIsEmpty;\n/**\n * Asserts that the passed-in impersonated user is empty\n * @param {string} impersonatedUser\n * @param {function (err:Error)} onProtocolError Called when it does have impersonated user set\n * @param {any} observer\n */\nfunction assertImpersonatedUserIsEmpty(impersonatedUser, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (impersonatedUser) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support user impersonation. ' +\n            'Please upgrade to neo4j 4.4.0 or later in order to use this functionality. ' +\n            \"Trying to impersonate \".concat(impersonatedUser, \".\"));\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertImpersonatedUserIsEmpty = assertImpersonatedUserIsEmpty;\n/**\n * Asserts that the passed-in notificationFilter is empty\n * @param {NotificationFilter} notificationFilter\n * @param {function (err:Error)} onProtocolError Called when it does have notificationFilter user set\n * @param {any} observer\n */\nfunction assertNotificationFilterIsEmpty(notificationFilter, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (notificationFilter !== undefined) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support user notification filters. ' +\n            'Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. ' +\n            \"Trying to set notifications to \".concat(neo4j_driver_core_1.json.stringify(notificationFilter), \".\"));\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertNotificationFilterIsEmpty = assertNotificationFilterIsEmpty;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXV0aWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUNBQXVDLEdBQUcscUNBQXFDLEdBQUcsNkJBQTZCLEdBQUcsNkJBQTZCO0FBQy9JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JEO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcseUJBQXlCO0FBQ3BDLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxzQkFBc0I7QUFDakM7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLHNCQUFzQjtBQUNqQyxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxzQkFBc0I7QUFDakMsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdXRpbC5qcz8xZDlhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5ID0gZXhwb3J0cy5hc3NlcnRJbXBlcnNvbmF0ZWRVc2VySXNFbXB0eSA9IGV4cG9ydHMuYXNzZXJ0VHhDb25maWdJc0VtcHR5ID0gZXhwb3J0cy5hc3NlcnREYXRhYmFzZUlzRW1wdHkgPSB2b2lkIDA7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBzdHJlYW1fb2JzZXJ2ZXJzXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tb2JzZXJ2ZXJzXCIpO1xuLyoqXG4gKiBAcGFyYW0ge1R4Q29uZmlnfSB0eENvbmZpZyB0aGUgYXV0by1jb21taXQgdHJhbnNhY3Rpb24gY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyb3I6IHN0cmluZyl9IG9uUHJvdG9jb2xFcnJvciBjYWxsZWQgd2hlbiB0aGUgdHhDb25maWcgaXMgbm90IGVtcHR5LlxuICogQHBhcmFtIHtSZXN1bHRTdHJlYW1PYnNlcnZlcn0gb2JzZXJ2ZXIgdGhlIHJlc3BvbnNlIG9ic2VydmVyLlxuICovXG5mdW5jdGlvbiBhc3NlcnRUeENvbmZpZ0lzRW1wdHkodHhDb25maWcsIG9uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpIHtcbiAgICBpZiAob25Qcm90b2NvbEVycm9yID09PSB2b2lkIDApIHsgb25Qcm90b2NvbEVycm9yID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgaWYgKHR4Q29uZmlnICYmICF0eENvbmZpZy5pc0VtcHR5KCkpIHtcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdEcml2ZXIgaXMgY29ubmVjdGVkIHRvIHRoZSBkYXRhYmFzZSB0aGF0IGRvZXMgbm90IHN1cHBvcnQgdHJhbnNhY3Rpb24gY29uZmlndXJhdGlvbi4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZ3JhZGUgdG8gbmVvNGogMy41LjAgb3IgbGF0ZXIgaW4gb3JkZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb25hbGl0eScpO1xuICAgICAgICAvLyB1bnN1cHBvcnRlZCBBUEkgd2FzIHVzZWQsIGNvbnNpZGVyIHRoaXMgYSBmYXRhbCBlcnJvciBmb3IgdGhlIGN1cnJlbnQgY29ubmVjdGlvblxuICAgICAgICBvblByb3RvY29sRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG5leHBvcnRzLmFzc2VydFR4Q29uZmlnSXNFbXB0eSA9IGFzc2VydFR4Q29uZmlnSXNFbXB0eTtcbi8qKlxuICogQXNzZXJ0cyB0aGF0IHRoZSBwYXNzZWQtaW4gZGF0YWJhc2UgbmFtZSBpcyBlbXB0eS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZVxuICogQHBhcmFtIHtmdWN0aW9uKGVycjogU3RyaW5nKX0gb25Qcm90b2NvbEVycm9yIENhbGxlZCB3aGVuIGl0IGRvZXNuJ3QgaGF2ZSBkYXRhYmFzZSBzZXRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0RGF0YWJhc2VJc0VtcHR5KGRhdGFiYXNlLCBvblByb3RvY29sRXJyb3IsIG9ic2VydmVyKSB7XG4gICAgaWYgKG9uUHJvdG9jb2xFcnJvciA9PT0gdm9pZCAwKSB7IG9uUHJvdG9jb2xFcnJvciA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgIGlmIChkYXRhYmFzZSkge1xuICAgICAgICB2YXIgZXJyb3IgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0RyaXZlciBpcyBjb25uZWN0ZWQgdG8gdGhlIGRhdGFiYXNlIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBtdWx0aXBsZSBkYXRhYmFzZXMuICcgK1xuICAgICAgICAgICAgJ1BsZWFzZSB1cGdyYWRlIHRvIG5lbzRqIDQuMC4wIG9yIGxhdGVyIGluIG9yZGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uYWxpdHknKTtcbiAgICAgICAgLy8gdW5zdXBwb3J0ZWQgQVBJIHdhcyB1c2VkLCBjb25zaWRlciB0aGlzIGEgZmF0YWwgZXJyb3IgZm9yIHRoZSBjdXJyZW50IGNvbm5lY3Rpb25cbiAgICAgICAgb25Qcm90b2NvbEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBvYnNlcnZlci5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuZXhwb3J0cy5hc3NlcnREYXRhYmFzZUlzRW1wdHkgPSBhc3NlcnREYXRhYmFzZUlzRW1wdHk7XG4vKipcbiAqIEFzc2VydHMgdGhhdCB0aGUgcGFzc2VkLWluIGltcGVyc29uYXRlZCB1c2VyIGlzIGVtcHR5XG4gKiBAcGFyYW0ge3N0cmluZ30gaW1wZXJzb25hdGVkVXNlclxuICogQHBhcmFtIHtmdW5jdGlvbiAoZXJyOkVycm9yKX0gb25Qcm90b2NvbEVycm9yIENhbGxlZCB3aGVuIGl0IGRvZXMgaGF2ZSBpbXBlcnNvbmF0ZWQgdXNlciBzZXRcbiAqIEBwYXJhbSB7YW55fSBvYnNlcnZlclxuICovXG5mdW5jdGlvbiBhc3NlcnRJbXBlcnNvbmF0ZWRVc2VySXNFbXB0eShpbXBlcnNvbmF0ZWRVc2VyLCBvblByb3RvY29sRXJyb3IsIG9ic2VydmVyKSB7XG4gICAgaWYgKG9uUHJvdG9jb2xFcnJvciA9PT0gdm9pZCAwKSB7IG9uUHJvdG9jb2xFcnJvciA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgIGlmIChpbXBlcnNvbmF0ZWRVc2VyKSB7XG4gICAgICAgIHZhciBlcnJvciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnRHJpdmVyIGlzIGNvbm5lY3RlZCB0byB0aGUgZGF0YWJhc2UgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHVzZXIgaW1wZXJzb25hdGlvbi4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZ3JhZGUgdG8gbmVvNGogNC40LjAgb3IgbGF0ZXIgaW4gb3JkZXIgdG8gdXNlIHRoaXMgZnVuY3Rpb25hbGl0eS4gJyArXG4gICAgICAgICAgICBcIlRyeWluZyB0byBpbXBlcnNvbmF0ZSBcIi5jb25jYXQoaW1wZXJzb25hdGVkVXNlciwgXCIuXCIpKTtcbiAgICAgICAgLy8gdW5zdXBwb3J0ZWQgQVBJIHdhcyB1c2VkLCBjb25zaWRlciB0aGlzIGEgZmF0YWwgZXJyb3IgZm9yIHRoZSBjdXJyZW50IGNvbm5lY3Rpb25cbiAgICAgICAgb25Qcm90b2NvbEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBvYnNlcnZlci5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuZXhwb3J0cy5hc3NlcnRJbXBlcnNvbmF0ZWRVc2VySXNFbXB0eSA9IGFzc2VydEltcGVyc29uYXRlZFVzZXJJc0VtcHR5O1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIHBhc3NlZC1pbiBub3RpZmljYXRpb25GaWx0ZXIgaXMgZW1wdHlcbiAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBub3RpZmljYXRpb25GaWx0ZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24gKGVycjpFcnJvcil9IG9uUHJvdG9jb2xFcnJvciBDYWxsZWQgd2hlbiBpdCBkb2VzIGhhdmUgbm90aWZpY2F0aW9uRmlsdGVyIHVzZXIgc2V0XG4gKiBAcGFyYW0ge2FueX0gb2JzZXJ2ZXJcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eShub3RpZmljYXRpb25GaWx0ZXIsIG9uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpIHtcbiAgICBpZiAob25Qcm90b2NvbEVycm9yID09PSB2b2lkIDApIHsgb25Qcm90b2NvbEVycm9yID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBlcnJvciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnRHJpdmVyIGlzIGNvbm5lY3RlZCB0byBhIGRhdGFiYXNlIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB1c2VyIG5vdGlmaWNhdGlvbiBmaWx0ZXJzLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBncmFkZSB0byBOZW80aiA1LjcuMCBvciBsYXRlciBpbiBvcmRlciB0byB1c2UgdGhpcyBmdW5jdGlvbmFsaXR5LiAnICtcbiAgICAgICAgICAgIFwiVHJ5aW5nIHRvIHNldCBub3RpZmljYXRpb25zIHRvIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG5vdGlmaWNhdGlvbkZpbHRlciksIFwiLlwiKSk7XG4gICAgICAgIC8vIHVuc3VwcG9ydGVkIEFQSSB3YXMgdXNlZCwgY29uc2lkZXIgdGhpcyBhIGZhdGFsIGVycm9yIGZvciB0aGUgY3VycmVudCBjb25uZWN0aW9uXG4gICAgICAgIG9uUHJvdG9jb2xFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub25FcnJvcihlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmV4cG9ydHMuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSA9IGFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\n// eslint-disable-next-line no-unused-vars\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar request_message_1 = __importStar(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, ACCESS_MODE_WRITE = _a.ACCESS_MODE_WRITE, BOLT_PROTOCOL_V1 = _a.BOLT_PROTOCOL_V1, Logger = neo4j_driver_core_1.internal.logger.Logger, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar BoltProtocol = /** @class */ (function () {\n    /**\n     * @callback CreateResponseHandler Creates the response handler\n     * @param {BoltProtocol} protocol The bolt protocol\n     * @returns {ResponseHandler} The response handler\n     */\n    /**\n     * @callback OnProtocolError Handles protocol error\n     * @param {string} error The description\n     */\n    /**\n     * @constructor\n     * @param {Object} server the server informatio.\n     * @param {Chunker} chunker the chunker.\n     * @param {Object} packstreamConfig Packstream configuration\n     * @param {boolean} packstreamConfig.disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n     * @param {CreateResponseHandler} createResponseHandler Function which creates the response handler\n     * @param {Logger} log the logger\n     * @param {OnProtocolError} onProtocolError handles protocol errors\n     */\n    function BoltProtocol(server, chunker, _a, createResponseHandler, log, onProtocolError) {\n        var _b = _a === void 0 ? {} : _a, disableLosslessIntegers = _b.disableLosslessIntegers, useBigInt = _b.useBigInt;\n        if (createResponseHandler === void 0) { createResponseHandler = function () { return null; }; }\n        this._server = server || {};\n        this._chunker = chunker;\n        this._packer = this._createPacker(chunker);\n        this._unpacker = this._createUnpacker(disableLosslessIntegers, useBigInt);\n        this._responseHandler = createResponseHandler(this);\n        this._log = log;\n        this._onProtocolError = onProtocolError;\n        this._fatalError = null;\n        this._lastMessageSignature = null;\n        this._config = { disableLosslessIntegers: disableLosslessIntegers, useBigInt: useBigInt };\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        /**\n         * Returns the numerical version identifier for this protocol\n         */\n        get: function () {\n            return BOLT_PROTOCOL_V1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"supportsReAuth\", {\n        /**\n         * @property {boolean} supportsReAuth Either if the protocol version supports re-auth or not.\n         */\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"initialized\", {\n        /**\n         * @property {boolean} initialized Either if the protocol was initialized or not\n         */\n        get: function () {\n            return !!this._initialized;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"authToken\", {\n        /**\n         * @property {object} authToken The token used in the last login\n         */\n        get: function () {\n            return this._authToken;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Get the packer.\n     * @return {Packer} the protocol's packer.\n     */\n    BoltProtocol.prototype.packer = function () {\n        return this._packer;\n    };\n    /**\n     * Creates a packable function out of the provided value\n     * @param x the value to pack\n     * @returns Function\n     */\n    BoltProtocol.prototype.packable = function (x) {\n        return this._packer.packable(x, this.transformer.toStructure);\n    };\n    /**\n     * Get the unpacker.\n     * @return {Unpacker} the protocol's unpacker.\n     */\n    BoltProtocol.prototype.unpacker = function () {\n        return this._unpacker;\n    };\n    /**\n     * Unpack a buffer\n     * @param {Buffer} buf\n     * @returns {any|null} The unpacked value\n     */\n    BoltProtocol.prototype.unpack = function (buf) {\n        return this._unpacker.unpack(buf, this.transformer.fromStructure);\n    };\n    /**\n     * Transform metadata received in SUCCESS message before it is passed to the handler.\n     * @param {Object} metadata the received metadata.\n     * @return {Object} transformed metadata.\n     */\n    BoltProtocol.prototype.transformMetadata = function (metadata) {\n        return metadata;\n    };\n    /**\n     * Perform initialization and authentication of the underlying connection.\n     * @param {Object} param\n     * @param {string} param.userAgent the user agent.\n     * @param {Object} param.authToken the authentication token.\n     * @param {NotificationFilter} param.notificationFilter the notification filter.\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.init(userAgent, authToken), observer, true);\n        return observer;\n    };\n    /**\n     * Performs logoff of the underlying connection\n     *\n     * @param {Object} param\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @param {boolean} param.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.logoff = function (_a) {\n        var _b = _a === void 0 ? {} : _a, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LogoffObserver({\n            onCompleted: onComplete,\n            onError: onError\n        });\n        // TODO: Verify the Neo4j version in the message\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support logoff. ' +\n            'Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.');\n        // unsupported API was used, consider this a fatal error for the current connection\n        this._onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    };\n    /**\n     * Performs login of the underlying connection\n     *\n     * @param {Object} args\n     * @param {Object} args.authToken the authentication token.\n     * @param {function(err: Error)} args.onError the callback to invoke on error.\n     * @param {function()} args.onComplete the callback to invoke on completion.\n     * @param {boolean} args.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.logon = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, authToken = _b.authToken, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LoginObserver({\n            onCompleted: function () { return _this._onLoginCompleted({}, authToken, onComplete); },\n            onError: function (error) { return _this._onLoginError(error, onError); }\n        });\n        // TODO: Verify the Neo4j version in the message\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support logon. ' +\n            'Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.');\n        // unsupported API was used, consider this a fatal error for the current connection\n        this._onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    };\n    /**\n     * Perform protocol related operations for closing this connection\n     */\n    BoltProtocol.prototype.prepareToClose = function () {\n        // no need to notify the database in this protocol version\n    };\n    /**\n     * Begin an explicit transaction.\n     * @param {Object} param\n     * @param {Bookmarks} param.bookmarks the bookmarks.\n     * @param {TxConfig} param.txConfig the configuration.\n     * @param {string} param.database the target database name.\n     * @param {string} param.mode the access mode.\n     * @param {string} param.impersonatedUser the impersonated user\n     * @param {NotificationFilter} param.notificationFilter the notification filter.\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        return this.run('BEGIN', bookmarks ? bookmarks.asBeginTransactionParameters() : {}, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser,\n            notificationFilter: notificationFilter,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            flush: false\n        });\n    };\n    /**\n     * Commit the explicit transaction.\n     * @param {Object} param\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.commitTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        // WRITE access mode is used as a place holder here, it has\n        // no effect on behaviour for Bolt V1 & V2\n        return this.run('COMMIT', {}, {\n            bookmarks: Bookmarks.empty(),\n            txConfig: TxConfig.empty(),\n            mode: ACCESS_MODE_WRITE,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n    };\n    /**\n     * Rollback the explicit transaction.\n     * @param {Object} param\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.rollbackTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        // WRITE access mode is used as a place holder here, it has\n        // no effect on behaviour for Bolt V1 & V2\n        return this.run('ROLLBACK', {}, {\n            bookmarks: Bookmarks.empty(),\n            txConfig: TxConfig.empty(),\n            mode: ACCESS_MODE_WRITE,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n    };\n    /**\n     * Send a Cypher query through the underlying connection.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @param {Object} param\n     * @param {Bookmarks} param.bookmarks the bookmarks.\n     * @param {TxConfig} param.txConfig the transaction configuration.\n     * @param {string} param.database the target database name.\n     * @param {string} param.impersonatedUser the impersonated user\n     * @param {NotificationFilter} param.notificationFilter the notification filter.\n     * @param {string} param.mode the access mode.\n     * @param {function(keys: string[])} param.beforeKeys the callback to invoke before handling the keys.\n     * @param {function(keys: string[])} param.afterKeys the callback to invoke after handling the keys.\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @param {boolean} param.flush whether to flush the buffered messages.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.highRecordWatermark, highRecordWatermark = _d === void 0 ? Number.MAX_VALUE : _d, _e = _b.lowRecordWatermark, lowRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // bookmarks and mode are ignored in this version of the protocol\n        (0, bolt_protocol_util_1.assertTxConfigIsEmpty)(txConfig, this._onProtocolError, observer);\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.run(query, parameters), observer, false);\n        this.write(request_message_1.default.pullAll(), observer, flush);\n        return observer;\n    };\n    Object.defineProperty(BoltProtocol.prototype, \"currentFailure\", {\n        get: function () {\n            return this._responseHandler.currentFailure;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send a RESET through the underlying connection.\n     * @param {Object} param\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.reset = function (_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.ResetObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onComplete: onComplete\n        });\n        this.write(request_message_1.default.reset(), observer, true);\n        return observer;\n    };\n    /**\n     * Send a TELEMETRY through the underlying connection.\n     *\n     * @param {object} param0 Message params\n     * @param {number} param0.api The API called\n     * @param {object} param1 Configuration and callbacks\n     * @param {function()} param1.onCompleted Called when completed\n     * @param {function()} param1.onError Called when error\n     * @return {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.telemetry = function (_a, _b) {\n        var api = _a.api;\n        var _c = _b === void 0 ? {} : _b, onError = _c.onError, onCompleted = _c.onCompleted;\n        var observer = new stream_observers_1.CompletedObserver();\n        if (onCompleted) {\n            onCompleted();\n        }\n        return observer;\n    };\n    BoltProtocol.prototype._createPacker = function (chunker) {\n        return new packstream_1.v1.Packer(chunker);\n    };\n    BoltProtocol.prototype._createUnpacker = function (disableLosslessIntegers, useBigInt) {\n        return new packstream_1.v1.Unpacker(disableLosslessIntegers, useBigInt);\n    };\n    /**\n     * Write a message to the network channel.\n     * @param {RequestMessage} message the message to write.\n     * @param {StreamObserver} observer the response observer.\n     * @param {boolean} flush `true` if flush should happen after the message is written to the buffer.\n     */\n    BoltProtocol.prototype.write = function (message, observer, flush) {\n        var queued = this.queueObserverIfProtocolIsNotBroken(observer);\n        if (queued) {\n            if (this._log.isDebugEnabled()) {\n                this._log.debug(\"C: \".concat(message));\n            }\n            this._lastMessageSignature = message.signature;\n            var messageStruct = new packstream_1.structure.Structure(message.signature, message.fields);\n            this.packable(messageStruct)();\n            this._chunker.messageBoundary();\n            if (flush) {\n                this._chunker.flush();\n            }\n        }\n    };\n    BoltProtocol.prototype.isLastMessageLogon = function () {\n        return this._lastMessageSignature === request_message_1.SIGNATURES.HELLO ||\n            this._lastMessageSignature === request_message_1.SIGNATURES.LOGON;\n    };\n    BoltProtocol.prototype.isLastMessageReset = function () {\n        return this._lastMessageSignature === request_message_1.SIGNATURES.RESET;\n    };\n    /**\n     * Notifies faltal erros to the observers and mark the protocol in the fatal error state.\n     * @param {Error} error The error\n     */\n    BoltProtocol.prototype.notifyFatalError = function (error) {\n        this._fatalError = error;\n        return this._responseHandler._notifyErrorToObservers(error);\n    };\n    /**\n     * Updates the the current observer with the next one on the queue.\n     */\n    BoltProtocol.prototype.updateCurrentObserver = function () {\n        return this._responseHandler._updateCurrentObserver();\n    };\n    /**\n     * Checks if exist an ongoing observable requests\n     * @return {boolean}\n     */\n    BoltProtocol.prototype.hasOngoingObservableRequests = function () {\n        return this._responseHandler.hasOngoingObservableRequests();\n    };\n    /**\n     * Enqueue the observer if the protocol is not broken.\n     * In case it's broken, the observer will be notified about the error.\n     *\n     * @param {StreamObserver} observer The observer\n     * @returns {boolean} if it was queued\n     */\n    BoltProtocol.prototype.queueObserverIfProtocolIsNotBroken = function (observer) {\n        if (this.isBroken()) {\n            this.notifyFatalErrorToObserver(observer);\n            return false;\n        }\n        return this._responseHandler._queueObserver(observer);\n    };\n    /**\n     * Veritfy the protocol is not broken.\n     * @returns {boolean}\n     */\n    BoltProtocol.prototype.isBroken = function () {\n        return !!this._fatalError;\n    };\n    /**\n     * Notifies the current fatal error to the observer\n     *\n     * @param {StreamObserver} observer The observer\n     */\n    BoltProtocol.prototype.notifyFatalErrorToObserver = function (observer) {\n        if (observer && observer.onError) {\n            observer.onError(this._fatalError);\n        }\n    };\n    /**\n     * Reset current failure on the observable response handler to null.\n     */\n    BoltProtocol.prototype.resetFailure = function () {\n        this._responseHandler._resetFailure();\n    };\n    BoltProtocol.prototype._onLoginCompleted = function (metadata, authToken, onCompleted) {\n        this._initialized = true;\n        this._authToken = authToken;\n        if (metadata) {\n            var serverVersion = metadata.server;\n            if (!this._server.version) {\n                this._server.version = serverVersion;\n            }\n        }\n        if (onCompleted) {\n            onCompleted(metadata);\n        }\n    };\n    BoltProtocol.prototype._onLoginError = function (error, onError) {\n        this._onProtocolError(error.message);\n        if (onError) {\n            onError(error);\n        }\n    };\n    return BoltProtocol;\n}());\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYxLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pEO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsMEZBQVk7QUFDcEMsbUJBQW1CLG1CQUFPLENBQUMsZ0dBQWU7QUFDMUMscUNBQXFDLG1CQUFPLENBQUMsd0dBQW1CO0FBQ2hFLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQscURBQXFELG1CQUFPLENBQUMsa0lBQWdDO0FBQzdGLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QixlQUFlLFNBQVM7QUFDeEIsZUFBZSx1QkFBdUI7QUFDdEMsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsZ0RBQWdELHNDQUFzQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRJQUE0SSwyQ0FBMkM7QUFDdkw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHNCQUFzQixRQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixVQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLFlBQVk7QUFDM0IsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSx3Q0FBd0MsNkNBQTZDO0FBQ3JGLCtDQUErQztBQUMvQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLFlBQVk7QUFDM0IsZUFBZSxTQUFTO0FBQ3hCO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLFlBQVk7QUFDM0IsZUFBZSxTQUFTO0FBQ3hCO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSx1Q0FBdUMsaUNBQWlDLDJCQUEyQjtBQUNuRyx3Q0FBd0M7QUFDeEMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsV0FBVztBQUMxQixlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsWUFBWTtBQUMzQixpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsMEZBQTBGO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFlBQVk7QUFDM0IsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFlBQVk7QUFDM0IsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxXQUFXO0FBQzFCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsUUFBUTtBQUN2QixlQUFlLDBCQUEwQjtBQUN6QyxlQUFlLDBCQUEwQjtBQUN6QyxlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLFlBQVk7QUFDM0IsZUFBZSxZQUFZO0FBQzNCLGVBQWUsU0FBUztBQUN4QixpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLFlBQVk7QUFDM0IsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsWUFBWTtBQUMzQixlQUFlLFlBQVk7QUFDM0IsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0IsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYxLmpzP2ZkZTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF91dGlsXzEgPSByZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXV0aWxcIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBjaGFubmVsXzEgPSByZXF1aXJlKFwiLi4vY2hhbm5lbFwiKTtcbnZhciBwYWNrc3RyZWFtXzEgPSByZXF1aXJlKFwiLi4vcGFja3N0cmVhbVwiKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBib2x0X3Byb3RvY29sX3YxX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12MS50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgQm9va21hcmtzID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5ib29rbWFya3MuQm9va21hcmtzLCBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBBQ0NFU1NfTU9ERV9XUklURSA9IF9hLkFDQ0VTU19NT0RFX1dSSVRFLCBCT0xUX1BST1RPQ09MX1YxID0gX2EuQk9MVF9QUk9UT0NPTF9WMSwgTG9nZ2VyID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5sb2dnZXIuTG9nZ2VyLCBUeENvbmZpZyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwudHhDb25maWcuVHhDb25maWc7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBjYWxsYmFjayBDcmVhdGVSZXNwb25zZUhhbmRsZXIgQ3JlYXRlcyB0aGUgcmVzcG9uc2UgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7Qm9sdFByb3RvY29sfSBwcm90b2NvbCBUaGUgYm9sdCBwcm90b2NvbFxuICAgICAqIEByZXR1cm5zIHtSZXNwb25zZUhhbmRsZXJ9IFRoZSByZXNwb25zZSBoYW5kbGVyXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQGNhbGxiYWNrIE9uUHJvdG9jb2xFcnJvciBIYW5kbGVzIHByb3RvY29sIGVycm9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVycm9yIFRoZSBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZXJ2ZXIgdGhlIHNlcnZlciBpbmZvcm1hdGlvLlxuICAgICAqIEBwYXJhbSB7Q2h1bmtlcn0gY2h1bmtlciB0aGUgY2h1bmtlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFja3N0cmVhbUNvbmZpZyBQYWNrc3RyZWFtIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhY2tzdHJlYW1Db25maWcuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgaWYgdGhpcyBjb25uZWN0aW9uIHNob3VsZCBjb252ZXJ0IGFsbCByZWNlaXZlZCBpbnRlZ2VycyB0byBuYXRpdmUgSlMgbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhY2tzdHJlYW1Db25maWcudXNlQmlnSW50IGlmIHRoaXMgY29ubmVjdGlvbiBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEJpZ0ludCBudW1iZXJzLlxuICAgICAqIEBwYXJhbSB7Q3JlYXRlUmVzcG9uc2VIYW5kbGVyfSBjcmVhdGVSZXNwb25zZUhhbmRsZXIgRnVuY3Rpb24gd2hpY2ggY3JlYXRlcyB0aGUgcmVzcG9uc2UgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7TG9nZ2VyfSBsb2cgdGhlIGxvZ2dlclxuICAgICAqIEBwYXJhbSB7T25Qcm90b2NvbEVycm9yfSBvblByb3RvY29sRXJyb3IgaGFuZGxlcyBwcm90b2NvbCBlcnJvcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woc2VydmVyLCBjaHVua2VyLCBfYSwgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvcikge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBfYi5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50ID0gX2IudXNlQmlnSW50O1xuICAgICAgICBpZiAoY3JlYXRlUmVzcG9uc2VIYW5kbGVyID09PSB2b2lkIDApIHsgY3JlYXRlUmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfTsgfVxuICAgICAgICB0aGlzLl9zZXJ2ZXIgPSBzZXJ2ZXIgfHwge307XG4gICAgICAgIHRoaXMuX2NodW5rZXIgPSBjaHVua2VyO1xuICAgICAgICB0aGlzLl9wYWNrZXIgPSB0aGlzLl9jcmVhdGVQYWNrZXIoY2h1bmtlcik7XG4gICAgICAgIHRoaXMuX3VucGFja2VyID0gdGhpcy5fY3JlYXRlVW5wYWNrZXIoZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlSGFuZGxlciA9IGNyZWF0ZVJlc3BvbnNlSGFuZGxlcih0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9nID0gbG9nO1xuICAgICAgICB0aGlzLl9vblByb3RvY29sRXJyb3IgPSBvblByb3RvY29sRXJyb3I7XG4gICAgICAgIHRoaXMuX2ZhdGFsRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0TWVzc2FnZVNpZ25hdHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHsgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnM6IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQ6IHVzZUJpZ0ludCB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92MV90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbnVtZXJpY2FsIHZlcnNpb24gaWRlbnRpZmllciBmb3IgdGhpcyBwcm90b2NvbFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInN1cHBvcnRzUmVBdXRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gc3VwcG9ydHNSZUF1dGggRWl0aGVyIGlmIHRoZSBwcm90b2NvbCB2ZXJzaW9uIHN1cHBvcnRzIHJlLWF1dGggb3Igbm90LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJpbml0aWFsaXplZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGluaXRpYWxpemVkIEVpdGhlciBpZiB0aGUgcHJvdG9jb2wgd2FzIGluaXRpYWxpemVkIG9yIG5vdFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLl9pbml0aWFsaXplZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcImF1dGhUb2tlblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gYXV0aFRva2VuIFRoZSB0b2tlbiB1c2VkIGluIHRoZSBsYXN0IGxvZ2luXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRoVG9rZW47XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhY2tlci5cbiAgICAgKiBAcmV0dXJuIHtQYWNrZXJ9IHRoZSBwcm90b2NvbCdzIHBhY2tlci5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnBhY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhY2tlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwYWNrYWJsZSBmdW5jdGlvbiBvdXQgb2YgdGhlIHByb3ZpZGVkIHZhbHVlXG4gICAgICogQHBhcmFtIHggdGhlIHZhbHVlIHRvIHBhY2tcbiAgICAgKiBAcmV0dXJucyBGdW5jdGlvblxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucGFja2FibGUgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFja2VyLnBhY2thYmxlKHgsIHRoaXMudHJhbnNmb3JtZXIudG9TdHJ1Y3R1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1bnBhY2tlci5cbiAgICAgKiBAcmV0dXJuIHtVbnBhY2tlcn0gdGhlIHByb3RvY29sJ3MgdW5wYWNrZXIuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS51bnBhY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja2VyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5wYWNrIGEgYnVmZmVyXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZlxuICAgICAqIEByZXR1cm5zIHthbnl8bnVsbH0gVGhlIHVucGFja2VkIHZhbHVlXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS51bnBhY2sgPSBmdW5jdGlvbiAoYnVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tlci51bnBhY2soYnVmLCB0aGlzLnRyYW5zZm9ybWVyLmZyb21TdHJ1Y3R1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIG1ldGFkYXRhIHJlY2VpdmVkIGluIFNVQ0NFU1MgbWVzc2FnZSBiZWZvcmUgaXQgaXMgcGFzc2VkIHRvIHRoZSBoYW5kbGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtZXRhZGF0YSB0aGUgcmVjZWl2ZWQgbWV0YWRhdGEuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0cmFuc2Zvcm1lZCBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnRyYW5zZm9ybU1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gaW5pdGlhbGl6YXRpb24gYW5kIGF1dGhlbnRpY2F0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLnVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0uYXV0aFRva2VuIHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbi5cbiAgICAgKiBAcGFyYW0ge05vdGlmaWNhdGlvbkZpbHRlcn0gcGFyYW0ubm90aWZpY2F0aW9uRmlsdGVyIHRoZSBub3RpZmljYXRpb24gZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3IgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtLm9uQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBvbiBjb21wbGV0aW9uLlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHVzZXJBZ2VudCA9IF9iLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2IuYm9sdEFnZW50LCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luQ29tcGxldGVkKG1ldGFkYXRhLCBvbkNvbXBsZXRlKTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5pbml0KHVzZXJBZ2VudCwgYXV0aFRva2VuKSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBsb2dvZmYgb2YgdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0ub25Db21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGNvbXBsZXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbS5mbHVzaCB3aGV0aGVyIHRvIGZsdXNoIHRoZSBidWZmZXJlZCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmxvZ29mZiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGUsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBmbHVzaCA9IF9iLmZsdXNoO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ29mZk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBvbkNvbXBsZXRlLFxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvclxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogVmVyaWZ5IHRoZSBOZW80aiB2ZXJzaW9uIGluIHRoZSBtZXNzYWdlXG4gICAgICAgIHZhciBlcnJvciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnRHJpdmVyIGlzIGNvbm5lY3RlZCB0byBhIGRhdGFiYXNlIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBsb2dvZmYuICcgK1xuICAgICAgICAgICAgJ1BsZWFzZSB1cGdyYWRlIHRvIE5lbzRqIDUuNS4wIG9yIGxhdGVyIGluIG9yZGVyIHRvIHVzZSB0aGlzIGZ1bmN0aW9uYWxpdHkuJyk7XG4gICAgICAgIC8vIHVuc3VwcG9ydGVkIEFQSSB3YXMgdXNlZCwgY29uc2lkZXIgdGhpcyBhIGZhdGFsIGVycm9yIGZvciB0aGUgY3VycmVudCBjb25uZWN0aW9uXG4gICAgICAgIHRoaXMuX29uUHJvdG9jb2xFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub25FcnJvcihlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgbG9naW4gb2YgdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3NcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncy5hdXRoVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IGFyZ3Mub25FcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gYXJncy5vbkNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gY29tcGxldGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFyZ3MuZmx1c2ggd2hldGhlciB0byBmbHVzaCB0aGUgYnVmZmVyZWQgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyZWFtT2JzZXJ2ZXJ9IHRoZSBzdHJlYW0gb2JzZXJ2ZXIgdGhhdCBtb25pdG9ycyB0aGUgY29ycmVzcG9uZGluZyBzZXJ2ZXIgcmVzcG9uc2UuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5sb2dvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYXV0aFRva2VuID0gX2IuYXV0aFRva2VuLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIGZsdXNoID0gX2IuZmx1c2g7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9naW5PYnNlcnZlcih7XG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX29uTG9naW5Db21wbGV0ZWQoe30sIGF1dGhUb2tlbiwgb25Db21wbGV0ZSk7IH0sXG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luRXJyb3IoZXJyb3IsIG9uRXJyb3IpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiBWZXJpZnkgdGhlIE5lbzRqIHZlcnNpb24gaW4gdGhlIG1lc3NhZ2VcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdEcml2ZXIgaXMgY29ubmVjdGVkIHRvIGEgZGF0YWJhc2UgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IGxvZ29uLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBncmFkZSB0byBOZW80aiA1LjUuMCBvciBsYXRlciBpbiBvcmRlciB0byB1c2UgdGhpcyBmdW5jdGlvbmFsaXR5LicpO1xuICAgICAgICAvLyB1bnN1cHBvcnRlZCBBUEkgd2FzIHVzZWQsIGNvbnNpZGVyIHRoaXMgYSBmYXRhbCBlcnJvciBmb3IgdGhlIGN1cnJlbnQgY29ubmVjdGlvblxuICAgICAgICB0aGlzLl9vblByb3RvY29sRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gcHJvdG9jb2wgcmVsYXRlZCBvcGVyYXRpb25zIGZvciBjbG9zaW5nIHRoaXMgY29ubmVjdGlvblxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucHJlcGFyZVRvQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5vIG5lZWQgdG8gbm90aWZ5IHRoZSBkYXRhYmFzZSBpbiB0aGlzIHByb3RvY29sIHZlcnNpb25cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2luIGFuIGV4cGxpY2l0IHRyYW5zYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbVxuICAgICAqIEBwYXJhbSB7Qm9va21hcmtzfSBwYXJhbS5ib29rbWFya3MgdGhlIGJvb2ttYXJrcy5cbiAgICAgKiBAcGFyYW0ge1R4Q29uZmlnfSBwYXJhbS50eENvbmZpZyB0aGUgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0uZGF0YWJhc2UgdGhlIHRhcmdldCBkYXRhYmFzZSBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5tb2RlIHRoZSBhY2Nlc3MgbW9kZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0uaW1wZXJzb25hdGVkVXNlciB0aGUgaW1wZXJzb25hdGVkIHVzZXJcbiAgICAgKiBAcGFyYW0ge05vdGlmaWNhdGlvbkZpbHRlcn0gcGFyYW0ubm90aWZpY2F0aW9uRmlsdGVyIHRoZSBub3RpZmljYXRpb24gZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLmJlZm9yZUVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYmVmb3JlIGhhbmRsaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5hZnRlckVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgaGFuZGxpbmcgdGhlIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0uYmVmb3JlQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBiZWZvcmUgaGFuZGxpbmcgdGhlIGNvbXBsZXRpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5hZnRlckNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgaGFuZGxpbmcgdGhlIGNvbXBsZXRpb24uXG4gICAgICogQHJldHVybnMge1N0cmVhbU9ic2VydmVyfSB0aGUgc3RyZWFtIG9ic2VydmVyIHRoYXQgbW9uaXRvcnMgdGhlIGNvcnJlc3BvbmRpbmcgc2VydmVyIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuYmVnaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gdGhpcy5ydW4oJ0JFR0lOJywgYm9va21hcmtzID8gYm9va21hcmtzLmFzQmVnaW5UcmFuc2FjdGlvblBhcmFtZXRlcnMoKSA6IHt9LCB7XG4gICAgICAgICAgICBib29rbWFya3M6IGJvb2ttYXJrcyxcbiAgICAgICAgICAgIHR4Q29uZmlnOiB0eENvbmZpZyxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBkYXRhYmFzZSxcbiAgICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgICBpbXBlcnNvbmF0ZWRVc2VyOiBpbXBlcnNvbmF0ZWRVc2VyLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uRmlsdGVyOiBub3RpZmljYXRpb25GaWx0ZXIsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZSxcbiAgICAgICAgICAgIGZsdXNoOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbW1pdCB0aGUgZXhwbGljaXQgdHJhbnNhY3Rpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0uYmVmb3JlRXJyb3IgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBiZWZvcmUgaGFuZGxpbmcgdGhlIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLmFmdGVyRXJyb3IgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBhZnRlciBoYW5kbGluZyB0aGUgZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5iZWZvcmVDb21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGJlZm9yZSBoYW5kbGluZyB0aGUgY29tcGxldGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtLmFmdGVyQ29tcGxldGUgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBhZnRlciBoYW5kbGluZyB0aGUgY29tcGxldGlvbi5cbiAgICAgKiBAcmV0dXJucyB7U3RyZWFtT2JzZXJ2ZXJ9IHRoZSBzdHJlYW0gb2JzZXJ2ZXIgdGhhdCBtb25pdG9ycyB0aGUgY29ycmVzcG9uZGluZyBzZXJ2ZXIgcmVzcG9uc2UuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5jb21taXRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICAvLyBXUklURSBhY2Nlc3MgbW9kZSBpcyB1c2VkIGFzIGEgcGxhY2UgaG9sZGVyIGhlcmUsIGl0IGhhc1xuICAgICAgICAvLyBubyBlZmZlY3Qgb24gYmVoYXZpb3VyIGZvciBCb2x0IFYxICYgVjJcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuKCdDT01NSVQnLCB7fSwge1xuICAgICAgICAgICAgYm9va21hcmtzOiBCb29rbWFya3MuZW1wdHkoKSxcbiAgICAgICAgICAgIHR4Q29uZmlnOiBUeENvbmZpZy5lbXB0eSgpLFxuICAgICAgICAgICAgbW9kZTogQUNDRVNTX01PREVfV1JJVEUsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJvbGxiYWNrIHRoZSBleHBsaWNpdCB0cmFuc2FjdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5iZWZvcmVFcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGJlZm9yZSBoYW5kbGluZyB0aGUgZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0uYWZ0ZXJFcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIGhhbmRsaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtLmJlZm9yZUNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYmVmb3JlIGhhbmRsaW5nIHRoZSBjb21wbGV0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0uYWZ0ZXJDb21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIGhhbmRsaW5nIHRoZSBjb21wbGV0aW9uLlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJvbGxiYWNrVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZTtcbiAgICAgICAgLy8gV1JJVEUgYWNjZXNzIG1vZGUgaXMgdXNlZCBhcyBhIHBsYWNlIGhvbGRlciBoZXJlLCBpdCBoYXNcbiAgICAgICAgLy8gbm8gZWZmZWN0IG9uIGJlaGF2aW91ciBmb3IgQm9sdCBWMSAmIFYyXG4gICAgICAgIHJldHVybiB0aGlzLnJ1bignUk9MTEJBQ0snLCB7fSwge1xuICAgICAgICAgICAgYm9va21hcmtzOiBCb29rbWFya3MuZW1wdHkoKSxcbiAgICAgICAgICAgIHR4Q29uZmlnOiBUeENvbmZpZy5lbXB0eSgpLFxuICAgICAgICAgICAgbW9kZTogQUNDRVNTX01PREVfV1JJVEUsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBDeXBoZXIgcXVlcnkgdGhyb3VnaCB0aGUgdW5kZXJseWluZyBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSB0aGUgY3lwaGVyIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIHRoZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbVxuICAgICAqIEBwYXJhbSB7Qm9va21hcmtzfSBwYXJhbS5ib29rbWFya3MgdGhlIGJvb2ttYXJrcy5cbiAgICAgKiBAcGFyYW0ge1R4Q29uZmlnfSBwYXJhbS50eENvbmZpZyB0aGUgdHJhbnNhY3Rpb24gY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0uZGF0YWJhc2UgdGhlIHRhcmdldCBkYXRhYmFzZSBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5pbXBlcnNvbmF0ZWRVc2VyIHRoZSBpbXBlcnNvbmF0ZWQgdXNlclxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBwYXJhbS5ub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLm1vZGUgdGhlIGFjY2VzcyBtb2RlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oa2V5czogc3RyaW5nW10pfSBwYXJhbS5iZWZvcmVLZXlzIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYmVmb3JlIGhhbmRsaW5nIHRoZSBrZXlzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oa2V5czogc3RyaW5nW10pfSBwYXJhbS5hZnRlcktleXMgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBhZnRlciBoYW5kbGluZyB0aGUga2V5cy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5iZWZvcmVFcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGJlZm9yZSBoYW5kbGluZyB0aGUgZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0uYWZ0ZXJFcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIGhhbmRsaW5nIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtLmJlZm9yZUNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2UgYmVmb3JlIGhhbmRsaW5nIHRoZSBjb21wbGV0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0uYWZ0ZXJDb21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIGhhbmRsaW5nIHRoZSBjb21wbGV0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0uZmx1c2ggd2hldGhlciB0byBmbHVzaCB0aGUgYnVmZmVyZWQgbWVzc2FnZXMuXG4gICAgICogQHJldHVybnMge1N0cmVhbU9ic2VydmVyfSB0aGUgc3RyZWFtIG9ic2VydmVyIHRoYXQgbW9uaXRvcnMgdGhlIGNvcnJlc3BvbmRpbmcgc2VydmVyIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgYmVmb3JlS2V5cyA9IF9iLmJlZm9yZUtleXMsIGFmdGVyS2V5cyA9IF9iLmFmdGVyS2V5cywgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlLCBfYyA9IF9iLmZsdXNoLCBmbHVzaCA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gX2IuaGlnaFJlY29yZFdhdGVybWFyaywgaGlnaFJlY29yZFdhdGVybWFyayA9IF9kID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2QsIF9lID0gX2IubG93UmVjb3JkV2F0ZXJtYXJrLCBsb3dSZWNvcmRXYXRlcm1hcmsgPSBfZSA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9lO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlS2V5czogYmVmb3JlS2V5cyxcbiAgICAgICAgICAgIGFmdGVyS2V5czogYWZ0ZXJLZXlzLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGUsXG4gICAgICAgICAgICBoaWdoUmVjb3JkV2F0ZXJtYXJrOiBoaWdoUmVjb3JkV2F0ZXJtYXJrLFxuICAgICAgICAgICAgbG93UmVjb3JkV2F0ZXJtYXJrOiBsb3dSZWNvcmRXYXRlcm1hcmtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGJvb2ttYXJrcyBhbmQgbW9kZSBhcmUgaWdub3JlZCBpbiB0aGlzIHZlcnNpb24gb2YgdGhlIHByb3RvY29sXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnRUeENvbmZpZ0lzRW1wdHkpKHR4Q29uZmlnLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgLy8gcGFzc2luZyBpbiBhIGRhdGFiYXNlIG5hbWUgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0RGF0YWJhc2VJc0VtcHR5KShkYXRhYmFzZSwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIC8vIHBhc3NpbmcgaW1wZXJzb25hdGVkIHVzZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0SW1wZXJzb25hdGVkVXNlcklzRW1wdHkpKGltcGVyc29uYXRlZFVzZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJ1bihxdWVyeSwgcGFyYW1ldGVycyksIG9ic2VydmVyLCBmYWxzZSk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5wdWxsQWxsKCksIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcImN1cnJlbnRGYWlsdXJlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VIYW5kbGVyLmN1cnJlbnRGYWlsdXJlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2VuZCBhIFJFU0VUIHRocm91Z2ggdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbS5vbkNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gY29tcGxldGlvbi5cbiAgICAgKiBAcmV0dXJucyB7U3RyZWFtT2JzZXJ2ZXJ9IHRoZSBzdHJlYW0gb2JzZXJ2ZXIgdGhhdCBtb25pdG9ycyB0aGUgY29ycmVzcG9uZGluZyBzZXJ2ZXIgcmVzcG9uc2UuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc2V0T2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25Qcm90b2NvbEVycm9yOiB0aGlzLl9vblByb3RvY29sRXJyb3IsXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogb25Db21wbGV0ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJlc2V0KCksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhIFRFTEVNRVRSWSB0aHJvdWdoIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW0wIE1lc3NhZ2UgcGFyYW1zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtMC5hcGkgVGhlIEFQSSBjYWxsZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW0xIENvbmZpZ3VyYXRpb24gYW5kIGNhbGxiYWNrc1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0xLm9uQ29tcGxldGVkIENhbGxlZCB3aGVuIGNvbXBsZXRlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0xLm9uRXJyb3IgQ2FsbGVkIHdoZW4gZXJyb3JcbiAgICAgKiBAcmV0dXJuIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnRlbGVtZXRyeSA9IGZ1bmN0aW9uIChfYSwgX2IpIHtcbiAgICAgICAgdmFyIGFwaSA9IF9hLmFwaTtcbiAgICAgICAgdmFyIF9jID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2IsIG9uRXJyb3IgPSBfYy5vbkVycm9yLCBvbkNvbXBsZXRlZCA9IF9jLm9uQ29tcGxldGVkO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkNvbXBsZXRlZE9ic2VydmVyKCk7XG4gICAgICAgIGlmIChvbkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgb25Db21wbGV0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9jcmVhdGVQYWNrZXIgPSBmdW5jdGlvbiAoY2h1bmtlcikge1xuICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS52MS5QYWNrZXIoY2h1bmtlcik7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9jcmVhdGVVbnBhY2tlciA9IGZ1bmN0aW9uIChkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnYxLlVucGFja2VyKGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBtZXNzYWdlIHRvIHRoZSBuZXR3b3JrIGNoYW5uZWwuXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0TWVzc2FnZX0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byB3cml0ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmVhbU9ic2VydmVyfSBvYnNlcnZlciB0aGUgcmVzcG9uc2Ugb2JzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmbHVzaCBgdHJ1ZWAgaWYgZmx1c2ggc2hvdWxkIGhhcHBlbiBhZnRlciB0aGUgbWVzc2FnZSBpcyB3cml0dGVuIHRvIHRoZSBidWZmZXIuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvYnNlcnZlciwgZmx1c2gpIHtcbiAgICAgICAgdmFyIHF1ZXVlZCA9IHRoaXMucXVldWVPYnNlcnZlcklmUHJvdG9jb2xJc05vdEJyb2tlbihvYnNlcnZlcik7XG4gICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sb2cuaXNEZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5kZWJ1ZyhcIkM6IFwiLmNvbmNhdChtZXNzYWdlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9sYXN0TWVzc2FnZVNpZ25hdHVyZSA9IG1lc3NhZ2Uuc2lnbmF0dXJlO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VTdHJ1Y3QgPSBuZXcgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS5TdHJ1Y3R1cmUobWVzc2FnZS5zaWduYXR1cmUsIG1lc3NhZ2UuZmllbGRzKTtcbiAgICAgICAgICAgIHRoaXMucGFja2FibGUobWVzc2FnZVN0cnVjdCkoKTtcbiAgICAgICAgICAgIHRoaXMuX2NodW5rZXIubWVzc2FnZUJvdW5kYXJ5KCk7XG4gICAgICAgICAgICBpZiAoZmx1c2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaHVua2VyLmZsdXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuaXNMYXN0TWVzc2FnZUxvZ29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdE1lc3NhZ2VTaWduYXR1cmUgPT09IHJlcXVlc3RfbWVzc2FnZV8xLlNJR05BVFVSRVMuSEVMTE8gfHxcbiAgICAgICAgICAgIHRoaXMuX2xhc3RNZXNzYWdlU2lnbmF0dXJlID09PSByZXF1ZXN0X21lc3NhZ2VfMS5TSUdOQVRVUkVTLkxPR09OO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5pc0xhc3RNZXNzYWdlUmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0TWVzc2FnZVNpZ25hdHVyZSA9PT0gcmVxdWVzdF9tZXNzYWdlXzEuU0lHTkFUVVJFUy5SRVNFVDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIGZhbHRhbCBlcnJvcyB0byB0aGUgb2JzZXJ2ZXJzIGFuZCBtYXJrIHRoZSBwcm90b2NvbCBpbiB0aGUgZmF0YWwgZXJyb3Igc3RhdGUuXG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5ub3RpZnlGYXRhbEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMuX2ZhdGFsRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlSGFuZGxlci5fbm90aWZ5RXJyb3JUb09ic2VydmVycyhlcnJvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0aGUgY3VycmVudCBvYnNlcnZlciB3aXRoIHRoZSBuZXh0IG9uZSBvbiB0aGUgcXVldWUuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS51cGRhdGVDdXJyZW50T2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZUhhbmRsZXIuX3VwZGF0ZUN1cnJlbnRPYnNlcnZlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGV4aXN0IGFuIG9uZ29pbmcgb2JzZXJ2YWJsZSByZXF1ZXN0c1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5oYXNPbmdvaW5nT2JzZXJ2YWJsZVJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VIYW5kbGVyLmhhc09uZ29pbmdPYnNlcnZhYmxlUmVxdWVzdHMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVucXVldWUgdGhlIG9ic2VydmVyIGlmIHRoZSBwcm90b2NvbCBpcyBub3QgYnJva2VuLlxuICAgICAqIEluIGNhc2UgaXQncyBicm9rZW4sIHRoZSBvYnNlcnZlciB3aWxsIGJlIG5vdGlmaWVkIGFib3V0IHRoZSBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyZWFtT2JzZXJ2ZXJ9IG9ic2VydmVyIFRoZSBvYnNlcnZlclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBpZiBpdCB3YXMgcXVldWVkXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5xdWV1ZU9ic2VydmVySWZQcm90b2NvbElzTm90QnJva2VuID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQnJva2VuKCkpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5RmF0YWxFcnJvclRvT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZUhhbmRsZXIuX3F1ZXVlT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmVyaXRmeSB0aGUgcHJvdG9jb2wgaXMgbm90IGJyb2tlbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmlzQnJva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9mYXRhbEVycm9yO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIGN1cnJlbnQgZmF0YWwgZXJyb3IgdG8gdGhlIG9ic2VydmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmVhbU9ic2VydmVyfSBvYnNlcnZlciBUaGUgb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLm5vdGlmeUZhdGFsRXJyb3JUb09ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIGlmIChvYnNlcnZlciAmJiBvYnNlcnZlci5vbkVycm9yKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5vbkVycm9yKHRoaXMuX2ZhdGFsRXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCBjdXJyZW50IGZhaWx1cmUgb24gdGhlIG9ic2VydmFibGUgcmVzcG9uc2UgaGFuZGxlciB0byBudWxsLlxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucmVzZXRGYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXIuX3Jlc2V0RmFpbHVyZSgpO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5fb25Mb2dpbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhZGF0YSwgYXV0aFRva2VuLCBvbkNvbXBsZXRlZCkge1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2F1dGhUb2tlbiA9IGF1dGhUb2tlbjtcbiAgICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICB2YXIgc2VydmVyVmVyc2lvbiA9IG1ldGFkYXRhLnNlcnZlcjtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2VydmVyLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXJ2ZXIudmVyc2lvbiA9IHNlcnZlclZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQ29tcGxldGVkKSB7XG4gICAgICAgICAgICBvbkNvbXBsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX29uTG9naW5FcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgb25FcnJvcikge1xuICAgICAgICB0aGlzLl9vblByb3RvY29sRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar transformer_1 = __webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar NODE = 0x4e;\nvar NODE_STRUCT_SIZE = 3;\nvar RELATIONSHIP = 0x52;\nvar RELATIONSHIP_STRUCT_SIZE = 5;\nvar UNBOUND_RELATIONSHIP = 0x72;\nvar UNBOUND_RELATIONSHIP_STRUCT_SIZE = 3;\nvar PATH = 0x50;\nvar PATH_STRUCT_SIZE = 3;\n/**\n * Creates the Node Transformer\n * @returns {TypeTransformer}\n */\nfunction createNodeTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: NODE,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Node; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass nodes in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Node', NODE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), identity = _a[0], labels = _a[1], properties = _a[2];\n            return new neo4j_driver_core_1.Node(identity, labels, properties);\n        }\n    });\n}\n/**\n * Creates the Relationship Transformer\n * @returns {TypeTransformer}\n */\nfunction createRelationshipTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: RELATIONSHIP,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Relationship; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass relationships in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Relationship', RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 5), identity = _a[0], startNodeIdentity = _a[1], endNodeIdentity = _a[2], type = _a[3], properties = _a[4];\n            return new neo4j_driver_core_1.Relationship(identity, startNodeIdentity, endNodeIdentity, type, properties);\n        }\n    });\n}\n/**\n * Creates the Unbound Relationship Transformer\n * @returns {TypeTransformer}\n */\nfunction createUnboundRelationshipTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: UNBOUND_RELATIONSHIP,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.UnboundRelationship; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass unbound relationships in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('UnboundRelationship', UNBOUND_RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), identity = _a[0], type = _a[1], properties = _a[2];\n            return new neo4j_driver_core_1.UnboundRelationship(identity, type, properties);\n        }\n    });\n}\n/**\n * Creates the Path Transformer\n * @returns {TypeTransformer}\n */\nfunction createPathTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: PATH,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Path; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass paths in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Path', PATH_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), nodes = _a[0], rels = _a[1], sequence = _a[2];\n            var segments = [];\n            var prevNode = nodes[0];\n            for (var i = 0; i < sequence.length; i += 2) {\n                var nextNode = nodes[sequence[i + 1]];\n                var relIndex = (0, neo4j_driver_core_1.toNumber)(sequence[i]);\n                var rel = void 0;\n                if (relIndex > 0) {\n                    rel = rels[relIndex - 1];\n                    if (rel instanceof neo4j_driver_core_1.UnboundRelationship) {\n                        // To avoid duplication, relationships in a path do not contain\n                        // information about their start and end nodes, that's instead\n                        // inferred from the path sequence. This is us inferring (and,\n                        // for performance reasons remembering) the start/end of a rel.\n                        rels[relIndex - 1] = rel = rel.bindTo(prevNode, nextNode);\n                    }\n                }\n                else {\n                    rel = rels[-relIndex - 1];\n                    if (rel instanceof neo4j_driver_core_1.UnboundRelationship) {\n                        // See above\n                        rels[-relIndex - 1] = rel = rel.bindTo(nextNode, prevNode);\n                    }\n                }\n                // Done hydrating one path segment.\n                segments.push(new neo4j_driver_core_1.PathSegment(prevNode, rel, nextNode));\n                prevNode = nextNode;\n            }\n            return new neo4j_driver_core_1.Path(nodes[0], nodes[nodes.length - 1], segments);\n        }\n    });\n}\nexports[\"default\"] = {\n    createNodeTransformer: createNodeTransformer,\n    createRelationshipTransformer: createRelationshipTransformer,\n    createUnboundRelationshipTransformer: createUnboundRelationshipTransformer,\n    createPathTransformer: createPathTransformer\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYxLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsbUJBQW1CLG1CQUFPLENBQUMsZ0dBQWU7QUFDMUMsb0JBQW9CLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvREFBb0Q7QUFDaEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw0REFBNEQ7QUFDeEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxtRUFBbUU7QUFDL0c7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvREFBb0Q7QUFDaEc7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFCQUFxQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYxLnRyYW5zZm9ybWVyLmpzP2RhMDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgcGFja3N0cmVhbV8xID0gcmVxdWlyZShcIi4uL3BhY2tzdHJlYW1cIik7XG52YXIgdHJhbnNmb3JtZXJfMSA9IHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpO1xudmFyIFBST1RPQ09MX0VSUk9SID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5lcnJvci5QUk9UT0NPTF9FUlJPUjtcbnZhciBOT0RFID0gMHg0ZTtcbnZhciBOT0RFX1NUUlVDVF9TSVpFID0gMztcbnZhciBSRUxBVElPTlNISVAgPSAweDUyO1xudmFyIFJFTEFUSU9OU0hJUF9TVFJVQ1RfU0laRSA9IDU7XG52YXIgVU5CT1VORF9SRUxBVElPTlNISVAgPSAweDcyO1xudmFyIFVOQk9VTkRfUkVMQVRJT05TSElQX1NUUlVDVF9TSVpFID0gMztcbnZhciBQQVRIID0gMHg1MDtcbnZhciBQQVRIX1NUUlVDVF9TSVpFID0gMztcbi8qKlxuICogQ3JlYXRlcyB0aGUgTm9kZSBUcmFuc2Zvcm1lclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTm9kZVRyYW5zZm9ybWVyKCkge1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IE5PREUsXG4gICAgICAgIGlzVHlwZUluc3RhbmNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBuZW80al9kcml2ZXJfY29yZV8xLk5vZGU7IH0sXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJJdCBpcyBub3QgYWxsb3dlZCB0byBwYXNzIG5vZGVzIGluIHF1ZXJ5IHBhcmFtZXRlcnMsIGdpdmVuOiBcIi5jb25jYXQob2JqZWN0KSwgUFJPVE9DT0xfRVJST1IpO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ05vZGUnLCBOT0RFX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIGlkZW50aXR5ID0gX2FbMF0sIGxhYmVscyA9IF9hWzFdLCBwcm9wZXJ0aWVzID0gX2FbMl07XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuTm9kZShpZGVudGl0eSwgbGFiZWxzLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBSZWxhdGlvbnNoaXAgVHJhbnNmb3JtZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyKCkge1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IFJFTEFUSU9OU0hJUCxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIG5lbzRqX2RyaXZlcl9jb3JlXzEuUmVsYXRpb25zaGlwOyB9LFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiSXQgaXMgbm90IGFsbG93ZWQgdG8gcGFzcyByZWxhdGlvbnNoaXBzIGluIHF1ZXJ5IHBhcmFtZXRlcnMsIGdpdmVuOiBcIi5jb25jYXQob2JqZWN0KSwgUFJPVE9DT0xfRVJST1IpO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ1JlbGF0aW9uc2hpcCcsIFJFTEFUSU9OU0hJUF9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDUpLCBpZGVudGl0eSA9IF9hWzBdLCBzdGFydE5vZGVJZGVudGl0eSA9IF9hWzFdLCBlbmROb2RlSWRlbnRpdHkgPSBfYVsyXSwgdHlwZSA9IF9hWzNdLCBwcm9wZXJ0aWVzID0gX2FbNF07XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuUmVsYXRpb25zaGlwKGlkZW50aXR5LCBzdGFydE5vZGVJZGVudGl0eSwgZW5kTm9kZUlkZW50aXR5LCB0eXBlLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBVbmJvdW5kIFJlbGF0aW9uc2hpcCBUcmFuc2Zvcm1lclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVW5ib3VuZFJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyKCkge1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IFVOQk9VTkRfUkVMQVRJT05TSElQLFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgbmVvNGpfZHJpdmVyX2NvcmVfMS5VbmJvdW5kUmVsYXRpb25zaGlwOyB9LFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiSXQgaXMgbm90IGFsbG93ZWQgdG8gcGFzcyB1bmJvdW5kIHJlbGF0aW9uc2hpcHMgaW4gcXVlcnkgcGFyYW1ldGVycywgZ2l2ZW46IFwiLmNvbmNhdChvYmplY3QpLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnVW5ib3VuZFJlbGF0aW9uc2hpcCcsIFVOQk9VTkRfUkVMQVRJT05TSElQX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIGlkZW50aXR5ID0gX2FbMF0sIHR5cGUgPSBfYVsxXSwgcHJvcGVydGllcyA9IF9hWzJdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlVuYm91bmRSZWxhdGlvbnNoaXAoaWRlbnRpdHksIHR5cGUsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIFBhdGggVHJhbnNmb3JtZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhUcmFuc2Zvcm1lcigpIHtcbiAgICByZXR1cm4gbmV3IHRyYW5zZm9ybWVyXzEuVHlwZVRyYW5zZm9ybWVyKHtcbiAgICAgICAgc2lnbmF0dXJlOiBQQVRILFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgbmVvNGpfZHJpdmVyX2NvcmVfMS5QYXRoOyB9LFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiSXQgaXMgbm90IGFsbG93ZWQgdG8gcGFzcyBwYXRocyBpbiBxdWVyeSBwYXJhbWV0ZXJzLCBnaXZlbjogXCIuY29uY2F0KG9iamVjdCksIFBST1RPQ09MX0VSUk9SKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdQYXRoJywgUEFUSF9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDMpLCBub2RlcyA9IF9hWzBdLCByZWxzID0gX2FbMV0sIHNlcXVlbmNlID0gX2FbMl07XG4gICAgICAgICAgICB2YXIgc2VnbWVudHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBwcmV2Tm9kZSA9IG5vZGVzWzBdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXF1ZW5jZS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IG5vZGVzW3NlcXVlbmNlW2kgKyAxXV07XG4gICAgICAgICAgICAgICAgdmFyIHJlbEluZGV4ID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEudG9OdW1iZXIpKHNlcXVlbmNlW2ldKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChyZWxJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVsID0gcmVsc1tyZWxJbmRleCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVsIGluc3RhbmNlb2YgbmVvNGpfZHJpdmVyX2NvcmVfMS5VbmJvdW5kUmVsYXRpb25zaGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUbyBhdm9pZCBkdXBsaWNhdGlvbiwgcmVsYXRpb25zaGlwcyBpbiBhIHBhdGggZG8gbm90IGNvbnRhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIHN0YXJ0IGFuZCBlbmQgbm9kZXMsIHRoYXQncyBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbmZlcnJlZCBmcm9tIHRoZSBwYXRoIHNlcXVlbmNlLiBUaGlzIGlzIHVzIGluZmVycmluZyAoYW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgcmVtZW1iZXJpbmcpIHRoZSBzdGFydC9lbmQgb2YgYSByZWwuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxzW3JlbEluZGV4IC0gMV0gPSByZWwgPSByZWwuYmluZFRvKHByZXZOb2RlLCBuZXh0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbCA9IHJlbHNbLXJlbEluZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWwgaW5zdGFuY2VvZiBuZW80al9kcml2ZXJfY29yZV8xLlVuYm91bmRSZWxhdGlvbnNoaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZSBhYm92ZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsc1stcmVsSW5kZXggLSAxXSA9IHJlbCA9IHJlbC5iaW5kVG8obmV4dE5vZGUsIHByZXZOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEb25lIGh5ZHJhdGluZyBvbmUgcGF0aCBzZWdtZW50LlxuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gobmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuUGF0aFNlZ21lbnQocHJldk5vZGUsIHJlbCwgbmV4dE5vZGUpKTtcbiAgICAgICAgICAgICAgICBwcmV2Tm9kZSA9IG5leHROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlBhdGgobm9kZXNbMF0sIG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdLCBzZWdtZW50cyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICBjcmVhdGVOb2RlVHJhbnNmb3JtZXI6IGNyZWF0ZU5vZGVUcmFuc2Zvcm1lcixcbiAgICBjcmVhdGVSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcjogY3JlYXRlUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIsXG4gICAgY3JlYXRlVW5ib3VuZFJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyOiBjcmVhdGVVbmJvdW5kUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIsXG4gICAgY3JlYXRlUGF0aFRyYW5zZm9ybWVyOiBjcmVhdGVQYXRoVHJhbnNmb3JtZXJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js\"));\nvar packstream_1 = __importDefault(__webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar BOLT_PROTOCOL_V2 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V2;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BoltProtocol.prototype._createPacker = function (chunker) {\n        return new packstream_1.default.Packer(chunker);\n    };\n    BoltProtocol.prototype._createUnpacker = function (disableLosslessIntegers, useBigInt) {\n        return new packstream_1.default.Unpacker(disableLosslessIntegers, useBigInt);\n    };\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BoltProtocol;\n}(bolt_protocol_v1_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckUsbUNBQW1DLG1CQUFPLENBQUMsZ0dBQWU7QUFDMUQsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELHFEQUFxRCxtQkFBTyxDQUFDLGtJQUFnQztBQUM3RixvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRJQUE0SSwyQ0FBMkM7QUFDdkw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYyLmpzPzFkY2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3YxXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12MVwiKSk7XG52YXIgcGFja3N0cmVhbV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9wYWNrc3RyZWFtXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjJfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYyLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBCT0xUX1BST1RPQ09MX1YyID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMuQk9MVF9QUk9UT0NPTF9WMjtcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5fY3JlYXRlUGFja2VyID0gZnVuY3Rpb24gKGNodW5rZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuZGVmYXVsdC5QYWNrZXIoY2h1bmtlcik7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9jcmVhdGVVbnBhY2tlciA9IGZ1bmN0aW9uIChkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLmRlZmF1bHQuVW5wYWNrZXIoZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92Ml90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1YyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92MV8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar transformer_1 = __webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\");\nvar temporal_factory_1 = __webpack_require__(/*! ./temporal-factory */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js\");\nvar bolt_protocol_v1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js\"));\nvar _a = neo4j_driver_core_1.internal.temporalUtil, dateToEpochDay = _a.dateToEpochDay, localDateTimeToEpochSecond = _a.localDateTimeToEpochSecond, localTimeToNanoOfDay = _a.localTimeToNanoOfDay;\nvar POINT_2D = 0x58;\nvar POINT_2D_STRUCT_SIZE = 3;\nvar POINT_3D = 0x59;\nvar POINT_3D_STRUCT_SIZE = 4;\nvar DURATION = 0x45;\nvar DURATION_STRUCT_SIZE = 4;\nvar LOCAL_TIME = 0x74;\nvar LOCAL_TIME_STRUCT_SIZE = 1;\nvar TIME = 0x54;\nvar TIME_STRUCT_SIZE = 2;\nvar DATE = 0x44;\nvar DATE_STRUCT_SIZE = 1;\nvar LOCAL_DATE_TIME = 0x64;\nvar LOCAL_DATE_TIME_STRUCT_SIZE = 2;\nvar DATE_TIME_WITH_ZONE_OFFSET = 0x46;\nvar DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE = 3;\nvar DATE_TIME_WITH_ZONE_ID = 0x66;\nvar DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE = 3;\n/**\n * Creates the Point2D Transformer\n * @returns {TypeTransformer}\n */\nfunction createPoint2DTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: POINT_2D,\n        isTypeInstance: function (point) { return (0, neo4j_driver_core_1.isPoint)(point) && (point.z === null || point.z === undefined); },\n        toStructure: function (point) { return new packstream_1.structure.Structure(POINT_2D, [\n            (0, neo4j_driver_core_1.int)(point.srid),\n            point.x,\n            point.y\n        ]); },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Point2D', POINT_2D_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), srid = _a[0], x = _a[1], y = _a[2];\n            return new neo4j_driver_core_1.Point(srid, x, y, undefined // z\n            );\n        }\n    });\n}\n/**\n * Creates the Point3D Transformer\n * @returns {TypeTransformer}\n */\nfunction createPoint3DTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: POINT_3D,\n        isTypeInstance: function (point) { return (0, neo4j_driver_core_1.isPoint)(point) && point.z !== null && point.z !== undefined; },\n        toStructure: function (point) { return new packstream_1.structure.Structure(POINT_3D, [\n            (0, neo4j_driver_core_1.int)(point.srid),\n            point.x,\n            point.y,\n            point.z\n        ]); },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Point3D', POINT_3D_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), srid = _a[0], x = _a[1], y = _a[2], z = _a[3];\n            return new neo4j_driver_core_1.Point(srid, x, y, z);\n        }\n    });\n}\n/**\n * Creates the Duration Transformer\n * @returns {TypeTransformer}\n */\nfunction createDurationTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: DURATION,\n        isTypeInstance: neo4j_driver_core_1.isDuration,\n        toStructure: function (value) {\n            var months = (0, neo4j_driver_core_1.int)(value.months);\n            var days = (0, neo4j_driver_core_1.int)(value.days);\n            var seconds = (0, neo4j_driver_core_1.int)(value.seconds);\n            var nanoseconds = (0, neo4j_driver_core_1.int)(value.nanoseconds);\n            return new packstream_1.structure.Structure(DURATION, [months, days, seconds, nanoseconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Duration', DURATION_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), months = _a[0], days = _a[1], seconds = _a[2], nanoseconds = _a[3];\n            return new neo4j_driver_core_1.Duration(months, days, seconds, nanoseconds);\n        }\n    });\n}\n/**\n * Creates the LocalTime Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createLocalTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: LOCAL_TIME,\n        isTypeInstance: neo4j_driver_core_1.isLocalTime,\n        toStructure: function (value) {\n            var nanoOfDay = localTimeToNanoOfDay(value.hour, value.minute, value.second, value.nanosecond);\n            return new packstream_1.structure.Structure(LOCAL_TIME, [nanoOfDay]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('LocalTime', LOCAL_TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 1), nanoOfDay = _a[0];\n            var result = (0, temporal_factory_1.nanoOfDayToLocalTime)(nanoOfDay);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the Time Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: TIME,\n        isTypeInstance: neo4j_driver_core_1.isTime,\n        toStructure: function (value) {\n            var nanoOfDay = localTimeToNanoOfDay(value.hour, value.minute, value.second, value.nanosecond);\n            var offsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(TIME, [nanoOfDay, offsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Time', TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 2), nanoOfDay = _a[0], offsetSeconds = _a[1];\n            var localTime = (0, temporal_factory_1.nanoOfDayToLocalTime)(nanoOfDay);\n            var result = new neo4j_driver_core_1.Time(localTime.hour, localTime.minute, localTime.second, localTime.nanosecond, offsetSeconds);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the Date Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE,\n        isTypeInstance: neo4j_driver_core_1.isDate,\n        toStructure: function (value) {\n            var epochDay = dateToEpochDay(value.year, value.month, value.day);\n            return new packstream_1.structure.Structure(DATE, [epochDay]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Date', DATE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 1), epochDay = _a[0];\n            var result = (0, temporal_factory_1.epochDayToDate)(epochDay);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the LocalDateTime Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createLocalDateTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: LOCAL_DATE_TIME,\n        isTypeInstance: neo4j_driver_core_1.isLocalDateTime,\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            return new packstream_1.structure.Structure(LOCAL_DATE_TIME, [epochSecond, nano]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('LocalDateTime', LOCAL_DATE_TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 2), epochSecond = _a[0], nano = _a[1];\n            var result = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the DateTime with ZoneId Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTimeWithZoneIdTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE_TIME_WITH_ZONE_ID,\n        isTypeInstance: function (object) { return (0, neo4j_driver_core_1.isDateTime)(object) && object.timeZoneId != null; },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneId = value.timeZoneId;\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_ID, [epochSecond, nano, timeZoneId]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneId', DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneId = _a[2];\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, null, timeZoneId);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the DateTime with Offset Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTimeWithOffsetTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE_TIME_WITH_ZONE_OFFSET,\n        isTypeInstance: function (object) { return (0, neo4j_driver_core_1.isDateTime)(object) && object.timeZoneId == null; },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneOffsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET, [epochSecond, nano, timeZoneOffsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneOffset', DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneOffsetSeconds = _a[2];\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, timeZoneOffsetSeconds, null);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\nfunction convertIntegerPropsIfNeeded(obj, disableLosslessIntegers, useBigInt) {\n    if (!disableLosslessIntegers && !useBigInt) {\n        return obj;\n    }\n    var convert = function (value) {\n        return useBigInt ? value.toBigInt() : value.toNumberOrInfinity();\n    };\n    var clone = Object.create(Object.getPrototypeOf(obj));\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop) === true) {\n            var value = obj[prop];\n            clone[prop] = (0, neo4j_driver_core_1.isInt)(value) ? convert(value) : value;\n        }\n    }\n    Object.freeze(clone);\n    return clone;\n}\nexports[\"default\"] = __assign(__assign({}, bolt_protocol_v1_transformer_1.default), { createPoint2DTransformer: createPoint2DTransformer, createPoint3DTransformer: createPoint3DTransformer, createDurationTransformer: createDurationTransformer, createLocalTimeTransformer: createLocalTimeTransformer, createTimeTransformer: createTimeTransformer, createDateTransformer: createDateTransformer, createLocalDateTimeTransformer: createLocalDateTimeTransformer, createDateTimeWithZoneIdTransformer: createDateTimeWithZoneIdTransformer, createDateTimeWithOffsetTransformer: createDateTimeWithOffsetTransformer });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYyLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELG1CQUFtQixtQkFBTyxDQUFDLGdHQUFlO0FBQzFDLG9CQUFvQixtQkFBTyxDQUFDLGdHQUFlO0FBQzNDLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCxxREFBcUQsbUJBQU8sQ0FBQyxrSUFBZ0M7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdHQUFnRztBQUMzSSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsOEZBQThGO0FBQ3pJLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0ZBQWtGO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0ZBQWtGO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWUsdUJBQXVCLDZDQUE2QyxzZ0JBQXNnQiIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12Mi50cmFuc2Zvcm1lci5qcz8yNzZmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBwYWNrc3RyZWFtXzEgPSByZXF1aXJlKFwiLi4vcGFja3N0cmVhbVwiKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gcmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIik7XG52YXIgdGVtcG9yYWxfZmFjdG9yeV8xID0gcmVxdWlyZShcIi4vdGVtcG9yYWwtZmFjdG9yeVwiKTtcbnZhciBib2x0X3Byb3RvY29sX3YxX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12MS50cmFuc2Zvcm1lclwiKSk7XG52YXIgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnRlbXBvcmFsVXRpbCwgZGF0ZVRvRXBvY2hEYXkgPSBfYS5kYXRlVG9FcG9jaERheSwgbG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQgPSBfYS5sb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCwgbG9jYWxUaW1lVG9OYW5vT2ZEYXkgPSBfYS5sb2NhbFRpbWVUb05hbm9PZkRheTtcbnZhciBQT0lOVF8yRCA9IDB4NTg7XG52YXIgUE9JTlRfMkRfU1RSVUNUX1NJWkUgPSAzO1xudmFyIFBPSU5UXzNEID0gMHg1OTtcbnZhciBQT0lOVF8zRF9TVFJVQ1RfU0laRSA9IDQ7XG52YXIgRFVSQVRJT04gPSAweDQ1O1xudmFyIERVUkFUSU9OX1NUUlVDVF9TSVpFID0gNDtcbnZhciBMT0NBTF9USU1FID0gMHg3NDtcbnZhciBMT0NBTF9USU1FX1NUUlVDVF9TSVpFID0gMTtcbnZhciBUSU1FID0gMHg1NDtcbnZhciBUSU1FX1NUUlVDVF9TSVpFID0gMjtcbnZhciBEQVRFID0gMHg0NDtcbnZhciBEQVRFX1NUUlVDVF9TSVpFID0gMTtcbnZhciBMT0NBTF9EQVRFX1RJTUUgPSAweDY0O1xudmFyIExPQ0FMX0RBVEVfVElNRV9TVFJVQ1RfU0laRSA9IDI7XG52YXIgREFURV9USU1FX1dJVEhfWk9ORV9PRkZTRVQgPSAweDQ2O1xudmFyIERBVEVfVElNRV9XSVRIX1pPTkVfT0ZGU0VUX1NUUlVDVF9TSVpFID0gMztcbnZhciBEQVRFX1RJTUVfV0lUSF9aT05FX0lEID0gMHg2NjtcbnZhciBEQVRFX1RJTUVfV0lUSF9aT05FX0lEX1NUUlVDVF9TSVpFID0gMztcbi8qKlxuICogQ3JlYXRlcyB0aGUgUG9pbnQyRCBUcmFuc2Zvcm1lclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9pbnQyRFRyYW5zZm9ybWVyKCkge1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IFBPSU5UXzJELFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogZnVuY3Rpb24gKHBvaW50KSB7IHJldHVybiAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pc1BvaW50KShwb2ludCkgJiYgKHBvaW50LnogPT09IG51bGwgfHwgcG9pbnQueiA9PT0gdW5kZWZpbmVkKTsgfSxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChwb2ludCkgeyByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKFBPSU5UXzJELCBbXG4gICAgICAgICAgICAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHBvaW50LnNyaWQpLFxuICAgICAgICAgICAgcG9pbnQueCxcbiAgICAgICAgICAgIHBvaW50LnlcbiAgICAgICAgXSk7IH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnUG9pbnQyRCcsIFBPSU5UXzJEX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIHNyaWQgPSBfYVswXSwgeCA9IF9hWzFdLCB5ID0gX2FbMl07XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuUG9pbnQoc3JpZCwgeCwgeSwgdW5kZWZpbmVkIC8vIHpcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgUG9pbnQzRCBUcmFuc2Zvcm1lclxuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9pbnQzRFRyYW5zZm9ybWVyKCkge1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IFBPSU5UXzNELFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogZnVuY3Rpb24gKHBvaW50KSB7IHJldHVybiAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pc1BvaW50KShwb2ludCkgJiYgcG9pbnQueiAhPT0gbnVsbCAmJiBwb2ludC56ICE9PSB1bmRlZmluZWQ7IH0sXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAocG9pbnQpIHsgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShQT0lOVF8zRCwgW1xuICAgICAgICAgICAgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShwb2ludC5zcmlkKSxcbiAgICAgICAgICAgIHBvaW50LngsXG4gICAgICAgICAgICBwb2ludC55LFxuICAgICAgICAgICAgcG9pbnQuelxuICAgICAgICBdKTsgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdQb2ludDNEJywgUE9JTlRfM0RfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCA0KSwgc3JpZCA9IF9hWzBdLCB4ID0gX2FbMV0sIHkgPSBfYVsyXSwgeiA9IF9hWzNdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlBvaW50KHNyaWQsIHgsIHksIHopO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIER1cmF0aW9uIFRyYW5zZm9ybWVyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvblRyYW5zZm9ybWVyKCkge1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IERVUkFUSU9OLFxuICAgICAgICBpc1R5cGVJbnN0YW5jZTogbmVvNGpfZHJpdmVyX2NvcmVfMS5pc0R1cmF0aW9uLFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbW9udGhzID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSh2YWx1ZS5tb250aHMpO1xuICAgICAgICAgICAgdmFyIGRheXMgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLmRheXMpO1xuICAgICAgICAgICAgdmFyIHNlY29uZHMgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLnNlY29uZHMpO1xuICAgICAgICAgICAgdmFyIG5hbm9zZWNvbmRzID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSh2YWx1ZS5uYW5vc2Vjb25kcyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKERVUkFUSU9OLCBbbW9udGhzLCBkYXlzLCBzZWNvbmRzLCBuYW5vc2Vjb25kc10pO1xuICAgICAgICB9LFxuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ0R1cmF0aW9uJywgRFVSQVRJT05fU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCA0KSwgbW9udGhzID0gX2FbMF0sIGRheXMgPSBfYVsxXSwgc2Vjb25kcyA9IF9hWzJdLCBuYW5vc2Vjb25kcyA9IF9hWzNdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLkR1cmF0aW9uKG1vbnRocywgZGF5cywgc2Vjb25kcywgbmFub3NlY29uZHMpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIExvY2FsVGltZSBUcmFuc2Zvcm1lclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzIERpc2FibGVzIGxvc3NsZXNzIGludGVnZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLnVzZUJpZ0ludCBVc2VzIEJpZ0ludCBpbnN0ZWFkIG9mIG51bWJlciBvciBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVMb2NhbFRpbWVUcmFuc2Zvcm1lcihfYSkge1xuICAgIHZhciBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IF9hLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBfYS51c2VCaWdJbnQ7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogTE9DQUxfVElNRSxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IG5lbzRqX2RyaXZlcl9jb3JlXzEuaXNMb2NhbFRpbWUsXG4gICAgICAgIHRvU3RydWN0dXJlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBuYW5vT2ZEYXkgPSBsb2NhbFRpbWVUb05hbm9PZkRheSh2YWx1ZS5ob3VyLCB2YWx1ZS5taW51dGUsIHZhbHVlLnNlY29uZCwgdmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKExPQ0FMX1RJTUUsIFtuYW5vT2ZEYXldKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdMb2NhbFRpbWUnLCBMT0NBTF9USU1FX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMSksIG5hbm9PZkRheSA9IF9hWzBdO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICgwLCB0ZW1wb3JhbF9mYWN0b3J5XzEubmFub09mRGF5VG9Mb2NhbFRpbWUpKG5hbm9PZkRheSk7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydEludGVnZXJQcm9wc0lmTmVlZGVkKHJlc3VsdCwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgVGltZSBUcmFuc2Zvcm1lclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzIERpc2FibGVzIGxvc3NsZXNzIGludGVnZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLnVzZUJpZ0ludCBVc2VzIEJpZ0ludCBpbnN0ZWFkIG9mIG51bWJlciBvciBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVUaW1lVHJhbnNmb3JtZXIoX2EpIHtcbiAgICB2YXIgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBfYS5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50ID0gX2EudXNlQmlnSW50O1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IFRJTUUsXG4gICAgICAgIGlzVHlwZUluc3RhbmNlOiBuZW80al9kcml2ZXJfY29yZV8xLmlzVGltZSxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIG5hbm9PZkRheSA9IGxvY2FsVGltZVRvTmFub09mRGF5KHZhbHVlLmhvdXIsIHZhbHVlLm1pbnV0ZSwgdmFsdWUuc2Vjb25kLCB2YWx1ZS5uYW5vc2Vjb25kKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXRTZWNvbmRzID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSh2YWx1ZS50aW1lWm9uZU9mZnNldFNlY29uZHMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShUSU1FLCBbbmFub09mRGF5LCBvZmZzZXRTZWNvbmRzXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnVGltZScsIFRJTUVfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAyKSwgbmFub09mRGF5ID0gX2FbMF0sIG9mZnNldFNlY29uZHMgPSBfYVsxXTtcbiAgICAgICAgICAgIHZhciBsb2NhbFRpbWUgPSAoMCwgdGVtcG9yYWxfZmFjdG9yeV8xLm5hbm9PZkRheVRvTG9jYWxUaW1lKShuYW5vT2ZEYXkpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlRpbWUobG9jYWxUaW1lLmhvdXIsIGxvY2FsVGltZS5taW51dGUsIGxvY2FsVGltZS5zZWNvbmQsIGxvY2FsVGltZS5uYW5vc2Vjb25kLCBvZmZzZXRTZWNvbmRzKTtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0SW50ZWdlclByb3BzSWZOZWVkZWQocmVzdWx0LCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBEYXRlIFRyYW5zZm9ybWVyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0uZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgRGlzYWJsZXMgbG9zc2xlc3MgaW50ZWdlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0udXNlQmlnSW50IFVzZXMgQmlnSW50IGluc3RlYWQgb2YgbnVtYmVyIG9yIEludGVnZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURhdGVUcmFuc2Zvcm1lcihfYSkge1xuICAgIHZhciBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IF9hLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBfYS51c2VCaWdJbnQ7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogREFURSxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IG5lbzRqX2RyaXZlcl9jb3JlXzEuaXNEYXRlLFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXBvY2hEYXkgPSBkYXRlVG9FcG9jaERheSh2YWx1ZS55ZWFyLCB2YWx1ZS5tb250aCwgdmFsdWUuZGF5KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS5TdHJ1Y3R1cmUoREFURSwgW2Vwb2NoRGF5XSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnRGF0ZScsIERBVEVfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCAxKSwgZXBvY2hEYXkgPSBfYVswXTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAoMCwgdGVtcG9yYWxfZmFjdG9yeV8xLmVwb2NoRGF5VG9EYXRlKShlcG9jaERheSk7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydEludGVnZXJQcm9wc0lmTmVlZGVkKHJlc3VsdCwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgTG9jYWxEYXRlVGltZSBUcmFuc2Zvcm1lclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzIERpc2FibGVzIGxvc3NsZXNzIGludGVnZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLnVzZUJpZ0ludCBVc2VzIEJpZ0ludCBpbnN0ZWFkIG9mIG51bWJlciBvciBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVMb2NhbERhdGVUaW1lVHJhbnNmb3JtZXIoX2EpIHtcbiAgICB2YXIgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBfYS5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50ID0gX2EudXNlQmlnSW50O1xuICAgIHJldHVybiBuZXcgdHJhbnNmb3JtZXJfMS5UeXBlVHJhbnNmb3JtZXIoe1xuICAgICAgICBzaWduYXR1cmU6IExPQ0FMX0RBVEVfVElNRSxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IG5lbzRqX2RyaXZlcl9jb3JlXzEuaXNMb2NhbERhdGVUaW1lLFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXBvY2hTZWNvbmQgPSBsb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCh2YWx1ZS55ZWFyLCB2YWx1ZS5tb250aCwgdmFsdWUuZGF5LCB2YWx1ZS5ob3VyLCB2YWx1ZS5taW51dGUsIHZhbHVlLnNlY29uZCwgdmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgbmFubyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUuU3RydWN0dXJlKExPQ0FMX0RBVEVfVElNRSwgW2Vwb2NoU2Vjb25kLCBuYW5vXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnTG9jYWxEYXRlVGltZScsIExPQ0FMX0RBVEVfVElNRV9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDIpLCBlcG9jaFNlY29uZCA9IF9hWzBdLCBuYW5vID0gX2FbMV07XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gKDAsIHRlbXBvcmFsX2ZhY3RvcnlfMS5lcG9jaFNlY29uZEFuZE5hbm9Ub0xvY2FsRGF0ZVRpbWUpKGVwb2NoU2Vjb25kLCBuYW5vKTtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0SW50ZWdlclByb3BzSWZOZWVkZWQocmVzdWx0LCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIHRoZSBEYXRlVGltZSB3aXRoIFpvbmVJZCBUcmFuc2Zvcm1lclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzIERpc2FibGVzIGxvc3NsZXNzIGludGVnZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtLnVzZUJpZ0ludCBVc2VzIEJpZ0ludCBpbnN0ZWFkIG9mIG51bWJlciBvciBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVEYXRlVGltZVdpdGhab25lSWRUcmFuc2Zvcm1lcihfYSkge1xuICAgIHZhciBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IF9hLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBfYS51c2VCaWdJbnQ7XG4gICAgcmV0dXJuIG5ldyB0cmFuc2Zvcm1lcl8xLlR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgIHNpZ25hdHVyZTogREFURV9USU1FX1dJVEhfWk9ORV9JRCxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzRGF0ZVRpbWUpKG9iamVjdCkgJiYgb2JqZWN0LnRpbWVab25lSWQgIT0gbnVsbDsgfSxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVwb2NoU2Vjb25kID0gbG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQodmFsdWUueWVhciwgdmFsdWUubW9udGgsIHZhbHVlLmRheSwgdmFsdWUuaG91ciwgdmFsdWUubWludXRlLCB2YWx1ZS5zZWNvbmQsIHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIG5hbm8gPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIHRpbWVab25lSWQgPSB2YWx1ZS50aW1lWm9uZUlkO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShEQVRFX1RJTUVfV0lUSF9aT05FX0lELCBbZXBvY2hTZWNvbmQsIG5hbm8sIHRpbWVab25lSWRdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdEYXRlVGltZVdpdGhab25lSWQnLCBEQVRFX1RJTUVfV0lUSF9aT05FX0lEX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIGVwb2NoU2Vjb25kID0gX2FbMF0sIG5hbm8gPSBfYVsxXSwgdGltZVpvbmVJZCA9IF9hWzJdO1xuICAgICAgICAgICAgdmFyIGxvY2FsRGF0ZVRpbWUgPSAoMCwgdGVtcG9yYWxfZmFjdG9yeV8xLmVwb2NoU2Vjb25kQW5kTmFub1RvTG9jYWxEYXRlVGltZSkoZXBvY2hTZWNvbmQsIG5hbm8pO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBuZW80al9kcml2ZXJfY29yZV8xLkRhdGVUaW1lKGxvY2FsRGF0ZVRpbWUueWVhciwgbG9jYWxEYXRlVGltZS5tb250aCwgbG9jYWxEYXRlVGltZS5kYXksIGxvY2FsRGF0ZVRpbWUuaG91ciwgbG9jYWxEYXRlVGltZS5taW51dGUsIGxvY2FsRGF0ZVRpbWUuc2Vjb25kLCBsb2NhbERhdGVUaW1lLm5hbm9zZWNvbmQsIG51bGwsIHRpbWVab25lSWQpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRJbnRlZ2VyUHJvcHNJZk5lZWRlZChyZXN1bHQsIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIERhdGVUaW1lIHdpdGggT2Zmc2V0IFRyYW5zZm9ybWVyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0uZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgRGlzYWJsZXMgbG9zc2xlc3MgaW50ZWdlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0udXNlQmlnSW50IFVzZXMgQmlnSW50IGluc3RlYWQgb2YgbnVtYmVyIG9yIEludGVnZXJcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURhdGVUaW1lV2l0aE9mZnNldFRyYW5zZm9ybWVyKF9hKSB7XG4gICAgdmFyIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gX2EuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCA9IF9hLnVzZUJpZ0ludDtcbiAgICByZXR1cm4gbmV3IHRyYW5zZm9ybWVyXzEuVHlwZVRyYW5zZm9ybWVyKHtcbiAgICAgICAgc2lnbmF0dXJlOiBEQVRFX1RJTUVfV0lUSF9aT05FX09GRlNFVCxcbiAgICAgICAgaXNUeXBlSW5zdGFuY2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzRGF0ZVRpbWUpKG9iamVjdCkgJiYgb2JqZWN0LnRpbWVab25lSWQgPT0gbnVsbDsgfSxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVwb2NoU2Vjb25kID0gbG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQodmFsdWUueWVhciwgdmFsdWUubW9udGgsIHZhbHVlLmRheSwgdmFsdWUuaG91ciwgdmFsdWUubWludXRlLCB2YWx1ZS5zZWNvbmQsIHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIG5hbm8gPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIHRpbWVab25lT2Zmc2V0U2Vjb25kcyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUudGltZVpvbmVPZmZzZXRTZWNvbmRzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS5TdHJ1Y3R1cmUoREFURV9USU1FX1dJVEhfWk9ORV9PRkZTRVQsIFtlcG9jaFNlY29uZCwgbmFubywgdGltZVpvbmVPZmZzZXRTZWNvbmRzXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnRGF0ZVRpbWVXaXRoWm9uZU9mZnNldCcsIERBVEVfVElNRV9XSVRIX1pPTkVfT0ZGU0VUX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIGVwb2NoU2Vjb25kID0gX2FbMF0sIG5hbm8gPSBfYVsxXSwgdGltZVpvbmVPZmZzZXRTZWNvbmRzID0gX2FbMl07XG4gICAgICAgICAgICB2YXIgbG9jYWxEYXRlVGltZSA9ICgwLCB0ZW1wb3JhbF9mYWN0b3J5XzEuZXBvY2hTZWNvbmRBbmROYW5vVG9Mb2NhbERhdGVUaW1lKShlcG9jaFNlY29uZCwgbmFubyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuRGF0ZVRpbWUobG9jYWxEYXRlVGltZS55ZWFyLCBsb2NhbERhdGVUaW1lLm1vbnRoLCBsb2NhbERhdGVUaW1lLmRheSwgbG9jYWxEYXRlVGltZS5ob3VyLCBsb2NhbERhdGVUaW1lLm1pbnV0ZSwgbG9jYWxEYXRlVGltZS5zZWNvbmQsIGxvY2FsRGF0ZVRpbWUubmFub3NlY29uZCwgdGltZVpvbmVPZmZzZXRTZWNvbmRzLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0SW50ZWdlclByb3BzSWZOZWVkZWQocmVzdWx0LCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gY29udmVydEludGVnZXJQcm9wc0lmTmVlZGVkKG9iaiwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCkge1xuICAgIGlmICghZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgJiYgIXVzZUJpZ0ludCkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICB2YXIgY29udmVydCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdXNlQmlnSW50ID8gdmFsdWUudG9CaWdJbnQoKSA6IHZhbHVlLnRvTnVtYmVyT3JJbmZpbml0eSgpO1xuICAgIH07XG4gICAgdmFyIGNsb25lID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSk7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgICAgICBjbG9uZVtwcm9wXSA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmlzSW50KSh2YWx1ZSkgPyBjb252ZXJ0KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5mcmVlemUoY2xvbmUpO1xuICAgIHJldHVybiBjbG9uZTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3YxX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCksIHsgY3JlYXRlUG9pbnQyRFRyYW5zZm9ybWVyOiBjcmVhdGVQb2ludDJEVHJhbnNmb3JtZXIsIGNyZWF0ZVBvaW50M0RUcmFuc2Zvcm1lcjogY3JlYXRlUG9pbnQzRFRyYW5zZm9ybWVyLCBjcmVhdGVEdXJhdGlvblRyYW5zZm9ybWVyOiBjcmVhdGVEdXJhdGlvblRyYW5zZm9ybWVyLCBjcmVhdGVMb2NhbFRpbWVUcmFuc2Zvcm1lcjogY3JlYXRlTG9jYWxUaW1lVHJhbnNmb3JtZXIsIGNyZWF0ZVRpbWVUcmFuc2Zvcm1lcjogY3JlYXRlVGltZVRyYW5zZm9ybWVyLCBjcmVhdGVEYXRlVHJhbnNmb3JtZXI6IGNyZWF0ZURhdGVUcmFuc2Zvcm1lciwgY3JlYXRlTG9jYWxEYXRlVGltZVRyYW5zZm9ybWVyOiBjcmVhdGVMb2NhbERhdGVUaW1lVHJhbnNmb3JtZXIsIGNyZWF0ZURhdGVUaW1lV2l0aFpvbmVJZFRyYW5zZm9ybWVyOiBjcmVhdGVEYXRlVGltZVdpdGhab25lSWRUcmFuc2Zvcm1lciwgY3JlYXRlRGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXI6IGNyZWF0ZURhdGVUaW1lV2l0aE9mZnNldFRyYW5zZm9ybWVyIH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_v3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, BOLT_PROTOCOL_V3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V3, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar CONTEXT = 'context';\nvar CALL_GET_ROUTING_TABLE = \"CALL dbms.cluster.routing.getRoutingTable($\".concat(CONTEXT, \")\");\nvar noOpObserver = new stream_observers_1.StreamObserver();\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.transformMetadata = function (metadata) {\n        if ('t_first' in metadata) {\n            // Bolt V3 uses shorter key 't_first' to represent 'result_available_after'\n            // adjust the key to be the same as in Bolt V1 so that ResultSummary can retrieve the value\n            metadata.result_available_after = metadata.t_first;\n            delete metadata.t_first;\n        }\n        if ('t_last' in metadata) {\n            // Bolt V3 uses shorter key 't_last' to represent 'result_consumed_after'\n            // adjust the key to be the same as in Bolt V1 so that ResultSummary can retrieve the value\n            metadata.result_consumed_after = metadata.t_last;\n            delete metadata.t_last;\n        }\n        return metadata;\n    };\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, authToken, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.prepareToClose = function () {\n        this.write(request_message_1.default.goodbye(), noOpObserver, true);\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, mode: mode }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.commitTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.commit(), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.rollbackTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.rollback(), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.highRecordWatermark, highRecordWatermark = _d === void 0 ? Number.MAX_VALUE : _d, _e = _b.lowRecordWatermark, lowRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            mode: mode\n        }), observer, false);\n        this.write(request_message_1.default.pullAll(), observer, flush);\n        return observer;\n    };\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {string} params.sessionContext.mode The session mode\n     * @param {string} params.sessionContext.database The database name used on the session\n     * @param {function()} params.sessionContext.afterComplete The session param used after the session closed\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b;\n        var _c = _a.routingContext, routingContext = _c === void 0 ? {} : _c, _d = _a.sessionContext, sessionContext = _d === void 0 ? {} : _d, onError = _a.onError, onCompleted = _a.onCompleted;\n        var resultObserver = this.run(CALL_GET_ROUTING_TABLE, (_b = {}, _b[CONTEXT] = routingContext, _b), __assign(__assign({}, sessionContext), { txConfig: TxConfig.empty() }));\n        return new stream_observers_1.ProcedureRouteObserver({\n            resultObserver: resultObserver,\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v2_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRSx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUsMkJBQTJCLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pELHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCxxREFBcUQsbUJBQU8sQ0FBQyxrSUFBZ0M7QUFDN0Ysb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0QsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNElBQTRJLDJDQUEyQztBQUN2TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckYsK0NBQStDO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNEQUFzRDtBQUMzRztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFdBQVc7QUFDMUIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFlBQVk7QUFDM0IsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSwyQkFBMkI7QUFDMUMsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGtFQUFrRTtBQUMxSSxzRUFBc0UseURBQXlELHFCQUFxQiw0QkFBNEI7QUFDaEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYzLmpzP2UyOTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92Ml8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjJcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF91dGlsXzEgPSByZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXV0aWxcIik7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBib2x0X3Byb3RvY29sX3YzX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12My50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCb29rbWFya3MgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmJvb2ttYXJrcy5Cb29rbWFya3MsIEJPTFRfUFJPVE9DT0xfVjMgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5CT0xUX1BST1RPQ09MX1YzLCBUeENvbmZpZyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwudHhDb25maWcuVHhDb25maWc7XG52YXIgQ09OVEVYVCA9ICdjb250ZXh0JztcbnZhciBDQUxMX0dFVF9ST1VUSU5HX1RBQkxFID0gXCJDQUxMIGRibXMuY2x1c3Rlci5yb3V0aW5nLmdldFJvdXRpbmdUYWJsZSgkXCIuY29uY2F0KENPTlRFWFQsIFwiKVwiKTtcbnZhciBub09wT2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlN0cmVhbU9ic2VydmVyKCk7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1YzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnRyYW5zZm9ybU1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICgndF9maXJzdCcgaW4gbWV0YWRhdGEpIHtcbiAgICAgICAgICAgIC8vIEJvbHQgVjMgdXNlcyBzaG9ydGVyIGtleSAndF9maXJzdCcgdG8gcmVwcmVzZW50ICdyZXN1bHRfYXZhaWxhYmxlX2FmdGVyJ1xuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBrZXkgdG8gYmUgdGhlIHNhbWUgYXMgaW4gQm9sdCBWMSBzbyB0aGF0IFJlc3VsdFN1bW1hcnkgY2FuIHJldHJpZXZlIHRoZSB2YWx1ZVxuICAgICAgICAgICAgbWV0YWRhdGEucmVzdWx0X2F2YWlsYWJsZV9hZnRlciA9IG1ldGFkYXRhLnRfZmlyc3Q7XG4gICAgICAgICAgICBkZWxldGUgbWV0YWRhdGEudF9maXJzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3RfbGFzdCcgaW4gbWV0YWRhdGEpIHtcbiAgICAgICAgICAgIC8vIEJvbHQgVjMgdXNlcyBzaG9ydGVyIGtleSAndF9sYXN0JyB0byByZXByZXNlbnQgJ3Jlc3VsdF9jb25zdW1lZF9hZnRlcidcbiAgICAgICAgICAgIC8vIGFkanVzdCB0aGUga2V5IHRvIGJlIHRoZSBzYW1lIGFzIGluIEJvbHQgVjEgc28gdGhhdCBSZXN1bHRTdW1tYXJ5IGNhbiByZXRyaWV2ZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIG1ldGFkYXRhLnJlc3VsdF9jb25zdW1lZF9hZnRlciA9IG1ldGFkYXRhLnRfbGFzdDtcbiAgICAgICAgICAgIGRlbGV0ZSBtZXRhZGF0YS50X2xhc3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCB1c2VyQWdlbnQgPSBfYi51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9iLmJvbHRBZ2VudCwgYXV0aFRva2VuID0gX2IuYXV0aFRva2VuLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dpbk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuX29uTG9naW5FcnJvcihlcnJvciwgb25FcnJvcik7IH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZChtZXRhZGF0YSwgYXV0aFRva2VuLCBvbkNvbXBsZXRlKTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5oZWxsbyh1c2VyQWdlbnQsIGF1dGhUb2tlbiksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5wcmVwYXJlVG9DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0Lmdvb2RieWUoKSwgbm9PcE9ic2VydmVyLCB0cnVlKTtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuYmVnaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBtb2RlID0gX2IubW9kZSwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGVcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlKCk7XG4gICAgICAgIC8vIHBhc3NpbmcgaW4gYSBkYXRhYmFzZSBuYW1lIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydERhdGFiYXNlSXNFbXB0eSkoZGF0YWJhc2UsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICAvLyBwYXNzaW5nIGltcGVyc29uYXRlZCB1c2VyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydEltcGVyc29uYXRlZFVzZXJJc0VtcHR5KShpbXBlcnNvbmF0ZWRVc2VyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5iZWdpbih7IGJvb2ttYXJrczogYm9va21hcmtzLCB0eENvbmZpZzogdHhDb25maWcsIG1vZGU6IG1vZGUgfSksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5jb21taXRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGVcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlKCk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5jb21taXQoKSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJvbGxiYWNrVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5SZXN1bHRTdHJlYW1PYnNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5wcmVwYXJlVG9IYW5kbGVTaW5nbGVSZXNwb25zZSgpO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucm9sbGJhY2soKSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChxdWVyeSwgcGFyYW1ldGVycywgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgbW9kZSA9IF9iLm1vZGUsIGJlZm9yZUtleXMgPSBfYi5iZWZvcmVLZXlzLCBhZnRlcktleXMgPSBfYi5hZnRlcktleXMsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZSwgX2MgPSBfYi5mbHVzaCwgZmx1c2ggPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jLCBfZCA9IF9iLmhpZ2hSZWNvcmRXYXRlcm1hcmssIGhpZ2hSZWNvcmRXYXRlcm1hcmsgPSBfZCA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9kLCBfZSA9IF9iLmxvd1JlY29yZFdhdGVybWFyaywgbG93UmVjb3JkV2F0ZXJtYXJrID0gX2UgPT09IHZvaWQgMCA/IE51bWJlci5NQVhfVkFMVUUgOiBfZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5SZXN1bHRTdHJlYW1PYnNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgICAgICAgIGJlZm9yZUtleXM6IGJlZm9yZUtleXMsXG4gICAgICAgICAgICBhZnRlcktleXM6IGFmdGVyS2V5cyxcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlLFxuICAgICAgICAgICAgaGlnaFJlY29yZFdhdGVybWFyazogaGlnaFJlY29yZFdhdGVybWFyayxcbiAgICAgICAgICAgIGxvd1JlY29yZFdhdGVybWFyazogbG93UmVjb3JkV2F0ZXJtYXJrXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwYXNzaW5nIGluIGEgZGF0YWJhc2UgbmFtZSBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnREYXRhYmFzZUlzRW1wdHkpKGRhdGFiYXNlLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgLy8gcGFzc2luZyBpbXBlcnNvbmF0ZWQgdXNlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnRJbXBlcnNvbmF0ZWRVc2VySXNFbXB0eSkoaW1wZXJzb25hdGVkVXNlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIC8vIHBhc3Npbmcgbm90aWZpY2F0aW9uIGZpbHRlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KShub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucnVuV2l0aE1ldGFkYXRhKHF1ZXJ5LCBwYXJhbWV0ZXJzLCB7XG4gICAgICAgICAgICBib29rbWFya3M6IGJvb2ttYXJrcyxcbiAgICAgICAgICAgIHR4Q29uZmlnOiB0eENvbmZpZyxcbiAgICAgICAgICAgIG1vZGU6IG1vZGVcbiAgICAgICAgfSksIG9ic2VydmVyLCBmYWxzZSk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5wdWxsQWxsKCksIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3Qgcm91dGluZyBpbmZvcm1hdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW0ucm91dGluZ0NvbnRleHQgVGhlIHJvdXRpbmcgY29udGV4dCB1c2VkIHRvIGRlZmluZSB0aGUgcm91dGluZyB0YWJsZS5cbiAgICAgKiAgTXVsdGktZGF0YWNlbnRlciBkZXBsb3ltZW50cyBpcyBvbmUgb2YgaXRzIHVzZSBjYXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5kYXRhYmFzZU5hbWUgVGhlIGRhdGFiYXNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge0Jvb2ttYXJrc30gcGFyYW1zLnNlc3Npb25Db250ZXh0LmJvb2ttYXJrcyBUaGUgYm9va21hcmtzIHVzZWQgZm9yIHJlcXVlc3RpbmcgdGhlIHJvdXRpbmcgdGFibGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnNlc3Npb25Db250ZXh0Lm1vZGUgVGhlIHNlc3Npb24gbW9kZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQuZGF0YWJhc2UgVGhlIGRhdGFiYXNlIG5hbWUgdXNlZCBvbiB0aGUgc2Vzc2lvblxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW1zLnNlc3Npb25Db250ZXh0LmFmdGVyQ29tcGxldGUgVGhlIHNlc3Npb24gcGFyYW0gdXNlZCBhZnRlciB0aGUgc2Vzc2lvbiBjbG9zZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihSYXdSb3V0aW5nVGFibGUpfSBwYXJhbS5vbkNvbXBsZXRlZFxuICAgICAqIEByZXR1cm5zIHtSb3V0ZU9ic2VydmVyfSB0aGUgcm91dGUgb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJlcXVlc3RSb3V0aW5nSW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iO1xuICAgICAgICB2YXIgX2MgPSBfYS5yb3V0aW5nQ29udGV4dCwgcm91dGluZ0NvbnRleHQgPSBfYyA9PT0gdm9pZCAwID8ge30gOiBfYywgX2QgPSBfYS5zZXNzaW9uQ29udGV4dCwgc2Vzc2lvbkNvbnRleHQgPSBfZCA9PT0gdm9pZCAwID8ge30gOiBfZCwgb25FcnJvciA9IF9hLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Eub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciByZXN1bHRPYnNlcnZlciA9IHRoaXMucnVuKENBTExfR0VUX1JPVVRJTkdfVEFCTEUsIChfYiA9IHt9LCBfYltDT05URVhUXSA9IHJvdXRpbmdDb250ZXh0LCBfYiksIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzZXNzaW9uQ29udGV4dCksIHsgdHhDb25maWc6IFR4Q29uZmlnLmVtcHR5KCkgfSkpO1xuICAgICAgICByZXR1cm4gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Qcm9jZWR1cmVSb3V0ZU9ic2VydmVyKHtcbiAgICAgICAgICAgIHJlc3VsdE9ic2VydmVyOiByZXN1bHRPYnNlcnZlcixcbiAgICAgICAgICAgIG9uUHJvdG9jb2xFcnJvcjogdGhpcy5fb25Qcm90b2NvbEVycm9yLFxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBvbkNvbXBsZXRlZFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjJfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v2_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYzLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFEQUFxRCxtQkFBTyxDQUFDLGtJQUFnQztBQUM3RixrQkFBZSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXYzLnRyYW5zZm9ybWVyLmpzP2YxOGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2x0X3Byb3RvY29sX3YyX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12Mi50cmFuc2Zvcm1lclwiKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBfX2Fzc2lnbih7fSwgYm9sdF9wcm90b2NvbF92Ml90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_v4x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, FETCH_ALL = _a.FETCH_ALL, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar CONTEXT = 'context';\nvar DATABASE = 'database';\nvar CALL_GET_ROUTING_TABLE_MULTI_DB = \"CALL dbms.routing.getRoutingTable($\".concat(CONTEXT, \", $\").concat(DATABASE, \")\");\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x0_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, mode = _b.mode, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    BoltProtocol.prototype._requestMore = function (stmtId, n, observer) {\n        this.write(request_message_1.default.pull({ stmtId: stmtId, n: n }), observer, true);\n    };\n    BoltProtocol.prototype._requestDiscard = function (stmtId, observer) {\n        this.write(request_message_1.default.discard({ stmtId: stmtId }), observer, true);\n    };\n    BoltProtocol.prototype._noOp = function () { };\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {string} params.sessionContext.mode The session mode\n     * @param {string} params.sessionContext.database The database name used on the session\n     * @param {function()} params.sessionContext.afterComplete The session param used after the session closed\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b;\n        var _c = _a.routingContext, routingContext = _c === void 0 ? {} : _c, _d = _a.databaseName, databaseName = _d === void 0 ? null : _d, _e = _a.sessionContext, sessionContext = _e === void 0 ? {} : _e, onError = _a.onError, onCompleted = _a.onCompleted;\n        var resultObserver = this.run(CALL_GET_ROUTING_TABLE_MULTI_DB, (_b = {},\n            _b[CONTEXT] = routingContext,\n            _b[DATABASE] = databaseName,\n            _b), __assign(__assign({}, sessionContext), { txConfig: TxConfig.empty() }));\n        return new stream_observers_1.ProcedureRouteObserver({\n            resultObserver: resultObserver,\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v3_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JFLHdDQUF3QyxtQkFBTyxDQUFDLHdHQUFtQjtBQUNuRSwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekQseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCwwRUFBMEU7QUFDL0g7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxzQkFBc0I7QUFDMUU7QUFDQTtBQUNBLHVEQUF1RCxnQkFBZ0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxXQUFXO0FBQzFCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxZQUFZO0FBQzNCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsMkJBQTJCO0FBQzFDLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxrSUFBa0k7QUFDMU0sK0VBQStFO0FBQy9FO0FBQ0E7QUFDQSxxQ0FBcUMscUJBQXFCLDRCQUE0QjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4MC5qcz81NTlhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYzXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdXRpbF8xID0gcmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC11dGlsXCIpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgYm9sdF9wcm90b2NvbF92NHgwX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgwLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJvb2ttYXJrcyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuYm9va21hcmtzLkJvb2ttYXJrcywgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cywgQk9MVF9QUk9UT0NPTF9WNF8wID0gX2EuQk9MVF9QUk9UT0NPTF9WNF8wLCBGRVRDSF9BTEwgPSBfYS5GRVRDSF9BTEwsIFR4Q29uZmlnID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC50eENvbmZpZy5UeENvbmZpZztcbnZhciBDT05URVhUID0gJ2NvbnRleHQnO1xudmFyIERBVEFCQVNFID0gJ2RhdGFiYXNlJztcbnZhciBDQUxMX0dFVF9ST1VUSU5HX1RBQkxFX01VTFRJX0RCID0gXCJDQUxMIGRibXMucm91dGluZy5nZXRSb3V0aW5nVGFibGUoJFwiLmNvbmNhdChDT05URVhULCBcIiwgJFwiKS5jb25jYXQoREFUQUJBU0UsIFwiKVwiKTtcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjRfMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInRyYW5zZm9ybWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhib2x0X3Byb3RvY29sX3Y0eDBfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmJlZ2luVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgbW9kZSA9IF9iLm1vZGUsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5SZXN1bHRTdHJlYW1PYnNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5wcmVwYXJlVG9IYW5kbGVTaW5nbGVSZXNwb25zZSgpO1xuICAgICAgICAvLyBwYXNzaW5nIGltcGVyc29uYXRlZCB1c2VyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydEltcGVyc29uYXRlZFVzZXJJc0VtcHR5KShpbXBlcnNvbmF0ZWRVc2VyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5iZWdpbih7IGJvb2ttYXJrczogYm9va21hcmtzLCB0eENvbmZpZzogdHhDb25maWcsIGRhdGFiYXNlOiBkYXRhYmFzZSwgbW9kZTogbW9kZSB9KSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChxdWVyeSwgcGFyYW1ldGVycywgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgbW9kZSA9IF9iLm1vZGUsIGJlZm9yZUtleXMgPSBfYi5iZWZvcmVLZXlzLCBhZnRlcktleXMgPSBfYi5hZnRlcktleXMsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZSwgX2MgPSBfYi5mbHVzaCwgZmx1c2ggPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jLCBfZCA9IF9iLnJlYWN0aXZlLCByZWFjdGl2ZSA9IF9kID09PSB2b2lkIDAgPyBmYWxzZSA6IF9kLCBfZSA9IF9iLmZldGNoU2l6ZSwgZmV0Y2hTaXplID0gX2UgPT09IHZvaWQgMCA/IEZFVENIX0FMTCA6IF9lLCBfZiA9IF9iLmhpZ2hSZWNvcmRXYXRlcm1hcmssIGhpZ2hSZWNvcmRXYXRlcm1hcmsgPSBfZiA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9mLCBfZyA9IF9iLmxvd1JlY29yZFdhdGVybWFyaywgbG93UmVjb3JkV2F0ZXJtYXJrID0gX2cgPT09IHZvaWQgMCA/IE51bWJlci5NQVhfVkFMVUUgOiBfZztcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5SZXN1bHRTdHJlYW1PYnNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgICAgICAgIHJlYWN0aXZlOiByZWFjdGl2ZSxcbiAgICAgICAgICAgIGZldGNoU2l6ZTogZmV0Y2hTaXplLFxuICAgICAgICAgICAgbW9yZUZ1bmN0aW9uOiB0aGlzLl9yZXF1ZXN0TW9yZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZGlzY2FyZEZ1bmN0aW9uOiB0aGlzLl9yZXF1ZXN0RGlzY2FyZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgYmVmb3JlS2V5czogYmVmb3JlS2V5cyxcbiAgICAgICAgICAgIGFmdGVyS2V5czogYWZ0ZXJLZXlzLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGUsXG4gICAgICAgICAgICBoaWdoUmVjb3JkV2F0ZXJtYXJrOiBoaWdoUmVjb3JkV2F0ZXJtYXJrLFxuICAgICAgICAgICAgbG93UmVjb3JkV2F0ZXJtYXJrOiBsb3dSZWNvcmRXYXRlcm1hcmtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHBhc3NpbmcgaW1wZXJzb25hdGVkIHVzZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0SW1wZXJzb25hdGVkVXNlcklzRW1wdHkpKGltcGVyc29uYXRlZFVzZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZsdXNoUnVuID0gcmVhY3RpdmU7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5ydW5XaXRoTWV0YWRhdGEocXVlcnksIHBhcmFtZXRlcnMsIHtcbiAgICAgICAgICAgIGJvb2ttYXJrczogYm9va21hcmtzLFxuICAgICAgICAgICAgdHhDb25maWc6IHR4Q29uZmlnLFxuICAgICAgICAgICAgZGF0YWJhc2U6IGRhdGFiYXNlLFxuICAgICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KSwgb2JzZXJ2ZXIsIGZsdXNoUnVuICYmIGZsdXNoKTtcbiAgICAgICAgaWYgKCFyZWFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnB1bGwoeyBuOiBmZXRjaFNpemUgfSksIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5fcmVxdWVzdE1vcmUgPSBmdW5jdGlvbiAoc3RtdElkLCBuLCBvYnNlcnZlcikge1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQucHVsbCh7IHN0bXRJZDogc3RtdElkLCBuOiBuIH0pLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9yZXF1ZXN0RGlzY2FyZCA9IGZ1bmN0aW9uIChzdG10SWQsIG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5kaXNjYXJkKHsgc3RtdElkOiBzdG10SWQgfSksIG9ic2VydmVyLCB0cnVlKTtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuX25vT3AgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCByb3V0aW5nIGluZm9ybWF0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gLVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbS5yb3V0aW5nQ29udGV4dCBUaGUgcm91dGluZyBjb250ZXh0IHVzZWQgdG8gZGVmaW5lIHRoZSByb3V0aW5nIHRhYmxlLlxuICAgICAqICBNdWx0aS1kYXRhY2VudGVyIGRlcGxveW1lbnRzIGlzIG9uZSBvZiBpdHMgdXNlIGNhc2VzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtLmRhdGFiYXNlTmFtZSBUaGUgZGF0YWJhc2UgbmFtZVxuICAgICAqIEBwYXJhbSB7Qm9va21hcmtzfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQuYm9va21hcmtzIFRoZSBib29rbWFya3MgdXNlZCBmb3IgcmVxdWVzdGluZyB0aGUgcm91dGluZyB0YWJsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQubW9kZSBUaGUgc2Vzc2lvbiBtb2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5zZXNzaW9uQ29udGV4dC5kYXRhYmFzZSBUaGUgZGF0YWJhc2UgbmFtZSB1c2VkIG9uIHRoZSBzZXNzaW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQuYWZ0ZXJDb21wbGV0ZSBUaGUgc2Vzc2lvbiBwYXJhbSB1c2VkIGFmdGVyIHRoZSBzZXNzaW9uIGNsb3NlZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFJhd1JvdXRpbmdUYWJsZSl9IHBhcmFtLm9uQ29tcGxldGVkXG4gICAgICogQHJldHVybnMge1JvdXRlT2JzZXJ2ZXJ9IHRoZSByb3V0ZSBvYnNlcnZlclxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucmVxdWVzdFJvdXRpbmdJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2I7XG4gICAgICAgIHZhciBfYyA9IF9hLnJvdXRpbmdDb250ZXh0LCByb3V0aW5nQ29udGV4dCA9IF9jID09PSB2b2lkIDAgPyB7fSA6IF9jLCBfZCA9IF9hLmRhdGFiYXNlTmFtZSwgZGF0YWJhc2VOYW1lID0gX2QgPT09IHZvaWQgMCA/IG51bGwgOiBfZCwgX2UgPSBfYS5zZXNzaW9uQ29udGV4dCwgc2Vzc2lvbkNvbnRleHQgPSBfZSA9PT0gdm9pZCAwID8ge30gOiBfZSwgb25FcnJvciA9IF9hLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Eub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciByZXN1bHRPYnNlcnZlciA9IHRoaXMucnVuKENBTExfR0VUX1JPVVRJTkdfVEFCTEVfTVVMVElfREIsIChfYiA9IHt9LFxuICAgICAgICAgICAgX2JbQ09OVEVYVF0gPSByb3V0aW5nQ29udGV4dCxcbiAgICAgICAgICAgIF9iW0RBVEFCQVNFXSA9IGRhdGFiYXNlTmFtZSxcbiAgICAgICAgICAgIF9iKSwgX19hc3NpZ24oX19hc3NpZ24oe30sIHNlc3Npb25Db250ZXh0KSwgeyB0eENvbmZpZzogVHhDb25maWcuZW1wdHkoKSB9KSk7XG4gICAgICAgIHJldHVybiBuZXcgc3RyZWFtX29ic2VydmVyc18xLlByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgcmVzdWx0T2JzZXJ2ZXI6IHJlc3VsdE9ic2VydmVyLFxuICAgICAgICAgICAgb25Qcm90b2NvbEVycm9yOiB0aGlzLl9vblByb3RvY29sRXJyb3IsXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IG9uQ29tcGxldGVkXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92M18xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v3_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDAudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscURBQXFELG1CQUFPLENBQUMsa0lBQWdDO0FBQzdGLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4MC50cmFuc2Zvcm1lci5qcz9lZjhjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92M190cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjMudHJhbnNmb3JtZXJcIikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v4x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar BOLT_PROTOCOL_V4_1 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_1;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    /**\n     * @constructor\n     * @param {Object} server the server informatio.\n     * @param {Chunker} chunker the chunker.\n     * @param {Object} packstreamConfig Packstream configuration\n     * @param {boolean} packstreamConfig.disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n     * @param {CreateResponseHandler} createResponseHandler Function which creates the response handler\n     * @param {Logger} log the logger\n     * @param {Object} serversideRouting\n     *\n     */\n    function BoltProtocol(server, chunker, packstreamConfig, createResponseHandler, log, onProtocolError, serversideRouting) {\n        if (createResponseHandler === void 0) { createResponseHandler = function () { return null; }; }\n        var _this = _super.call(this, server, chunker, packstreamConfig, createResponseHandler, log, onProtocolError) || this;\n        _this._serversideRouting = serversideRouting;\n        return _this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, authToken, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting), observer, true);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x0_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsdUJBQXVCO0FBQ3RDLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHNDQUFzQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckYsK0NBQStDO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4MS5qcz8zNjU1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NHgwXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgwXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBib2x0X3Byb3RvY29sX3V0aWxfMSA9IHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdXRpbFwiKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDFfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDEudHJhbnNmb3JtZXJcIikpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIikpO1xudmFyIEJPTFRfUFJPVE9DT0xfVjRfMSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjRfMTtcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VydmVyIHRoZSBzZXJ2ZXIgaW5mb3JtYXRpby5cbiAgICAgKiBAcGFyYW0ge0NodW5rZXJ9IGNodW5rZXIgdGhlIGNodW5rZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhY2tzdHJlYW1Db25maWcgUGFja3N0cmVhbSBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYWNrc3RyZWFtQ29uZmlnLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzIGlmIHRoaXMgY29ubmVjdGlvbiBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEpTIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYWNrc3RyZWFtQ29uZmlnLnVzZUJpZ0ludCBpZiB0aGlzIGNvbm5lY3Rpb24gc2hvdWxkIGNvbnZlcnQgYWxsIHJlY2VpdmVkIGludGVnZXJzIHRvIG5hdGl2ZSBCaWdJbnQgbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge0NyZWF0ZVJlc3BvbnNlSGFuZGxlcn0gY3JlYXRlUmVzcG9uc2VIYW5kbGVyIEZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgdGhlIHJlc3BvbnNlIGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge0xvZ2dlcn0gbG9nIHRoZSBsb2dnZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VydmVyc2lkZVJvdXRpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tzdHJlYW1Db25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKSB7XG4gICAgICAgIGlmIChjcmVhdGVSZXNwb25zZUhhbmRsZXIgPT09IHZvaWQgMCkgeyBjcmVhdGVSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNlcnZlciwgY2h1bmtlciwgcGFja3N0cmVhbUNvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3NlcnZlcnNpZGVSb3V0aW5nID0gc2VydmVyc2lkZVJvdXRpbmc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjRfMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInRyYW5zZm9ybWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhib2x0X3Byb3RvY29sX3Y0eDFfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHVzZXJBZ2VudCA9IF9iLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2IuYm9sdEFnZW50LCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIF90aGlzLl9vbkxvZ2luQ29tcGxldGVkKG1ldGFkYXRhLCBhdXRoVG9rZW4sIG9uQ29tcGxldGUpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmhlbGxvKHVzZXJBZ2VudCwgYXV0aFRva2VuLCB0aGlzLl9zZXJ2ZXJzaWRlUm91dGluZyksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NHgwXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x0_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDEudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4MS50cmFuc2Zvcm1lci5qcz84Y2U1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NHgwX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgwLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y0eDBfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v4x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar BOLT_PROTOCOL_V4_2 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_2;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BoltProtocol;\n}(bolt_protocol_v4x1_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4Mi5qcz81ODJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NHgxXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgxXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4Ml90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4Mi50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgQk9MVF9QUk9UT0NPTF9WNF8yID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMuQk9MVF9QUk9UT0NPTF9WNF8yO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNF8yO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjR4Ml90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjR4MV8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x1_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDIudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4Mi50cmFuc2Zvcm1lci5qcz80M2VjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NHgxX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgxLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y0eDFfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v4x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.utc.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, BOLT_PROTOCOL_V4_3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_3;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b = _a.routingContext, routingContext = _b === void 0 ? {} : _b, _c = _a.databaseName, databaseName = _c === void 0 ? null : _c, _d = _a.sessionContext, sessionContext = _d === void 0 ? {} : _d, onError = _a.onError, onCompleted = _a.onCompleted;\n        var observer = new stream_observers_1.RouteObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n        var bookmarks = sessionContext.bookmarks || Bookmarks.empty();\n        this.write(request_message_1.default.route(routingContext, bookmarks.values(), databaseName), observer, true);\n        return observer;\n    };\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filter.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplte)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                if (metadata.patch_bolt !== undefined) {\n                    _this._applyPatches(metadata.patch_bolt);\n                }\n                return _this._onLoginCompleted(metadata, authToken, onComplete);\n            }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting, ['utc']), observer, true);\n        return observer;\n    };\n    /**\n     *\n     * @param {string[]} patches Patches to be applied to the protocol\n     */\n    BoltProtocol.prototype._applyPatches = function (patches) {\n        if (patches.includes('utc')) {\n            this._applyUtcPatch();\n        }\n    };\n    BoltProtocol.prototype._applyUtcPatch = function () {\n        var _this = this;\n        this._transformer = new transformer_1.default(Object.values(__assign(__assign({}, bolt_protocol_v4x3_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default)).map(function (create) { return create(_this._config, _this._log); }));\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x2_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHdDQUF3QyxtQkFBTyxDQUFDLHdHQUFtQjtBQUNuRSx5QkFBeUIsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckQsMkJBQTJCLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pELHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRywyREFBMkQsbUJBQU8sQ0FBQyw4SUFBc0M7QUFDekcsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0QsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFdBQVc7QUFDMUIsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSwyQkFBMkI7QUFDMUMsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBLHdFQUF3RSxrSUFBa0k7QUFDMU07QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLHFCQUFxQjtBQUNwQyxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSx3Q0FBd0MsNkNBQTZDO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLG9IQUFvSCwyQ0FBMkM7QUFDdlA7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHgzLmpzPzcxMmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NHgyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgyXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgYm9sdF9wcm90b2NvbF91dGlsXzEgPSByZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXV0aWxcIik7XG52YXIgYm9sdF9wcm90b2NvbF92NHgzX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgzLnRyYW5zZm9ybWVyXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDBfdXRjX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgwLnV0Yy50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCb29rbWFya3MgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmJvb2ttYXJrcy5Cb29rbWFya3MsIEJPTFRfUFJPVE9DT0xfVjRfMyA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLkJPTFRfUFJPVE9DT0xfVjRfMztcbnZhciBCb2x0UHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvbHRQcm90b2NvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb2x0UHJvdG9jb2woKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIEJPTFRfUFJPVE9DT0xfVjRfMztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInRyYW5zZm9ybWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhib2x0X3Byb3RvY29sX3Y0eDNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KS5tYXAoZnVuY3Rpb24gKGNyZWF0ZSkgeyByZXR1cm4gY3JlYXRlKF90aGlzLl9jb25maWcsIF90aGlzLl9sb2cpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHJvdXRpbmcgaW5mb3JtYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSAtXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtLnJvdXRpbmdDb250ZXh0IFRoZSByb3V0aW5nIGNvbnRleHQgdXNlZCB0byBkZWZpbmUgdGhlIHJvdXRpbmcgdGFibGUuXG4gICAgICogIE11bHRpLWRhdGFjZW50ZXIgZGVwbG95bWVudHMgaXMgb25lIG9mIGl0cyB1c2UgY2FzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0uZGF0YWJhc2VOYW1lIFRoZSBkYXRhYmFzZSBuYW1lXG4gICAgICogQHBhcmFtIHtCb29rbWFya3N9IHBhcmFtcy5zZXNzaW9uQ29udGV4dC5ib29rbWFya3MgVGhlIGJvb2ttYXJrcyB1c2VkIGZvciByZXF1ZXN0aW5nIHRoZSByb3V0aW5nIHRhYmxlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oUmF3Um91dGluZ1RhYmxlKX0gcGFyYW0ub25Db21wbGV0ZWRcbiAgICAgKiBAcmV0dXJucyB7Um91dGVPYnNlcnZlcn0gdGhlIHJvdXRlIG9ic2VydmVyXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5yZXF1ZXN0Um91dGluZ0luZm9ybWF0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hLnJvdXRpbmdDb250ZXh0LCByb3V0aW5nQ29udGV4dCA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iLCBfYyA9IF9hLmRhdGFiYXNlTmFtZSwgZGF0YWJhc2VOYW1lID0gX2MgPT09IHZvaWQgMCA/IG51bGwgOiBfYywgX2QgPSBfYS5zZXNzaW9uQ29udGV4dCwgc2Vzc2lvbkNvbnRleHQgPSBfZCA9PT0gdm9pZCAwID8ge30gOiBfZCwgb25FcnJvciA9IF9hLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Eub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUm91dGVPYnNlcnZlcih7XG4gICAgICAgICAgICBvblByb3RvY29sRXJyb3I6IHRoaXMuX29uUHJvdG9jb2xFcnJvcixcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogb25Db21wbGV0ZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBib29rbWFya3MgPSBzZXNzaW9uQ29udGV4dC5ib29rbWFya3MgfHwgQm9va21hcmtzLmVtcHR5KCk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5yb3V0ZShyb3V0aW5nQ29udGV4dCwgYm9va21hcmtzLnZhbHVlcygpLCBkYXRhYmFzZU5hbWUpLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBjb25uZWN0aW9uIHdpdGggdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgVGhlIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdzLnVzZXJBZ2VudCBUaGUgdXNlciBhZ2VudFxuICAgICAqIEBwYXJhbSB7YW55fSBhcmdzLmF1dGhUb2tlbiBUaGUgYXV0aCB0b2tlblxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBhcmdzLm5vdGlmaWNhdGlvbkZpbHRlciBUaGUgbm90aWZpY2F0aW9uIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycm9yKX0gYXJncy5vbkVycm9yIE9uIGVycm9yIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihvbkNvbXBsdGUpfSBhcmdzLm9uQ29tcGxldGUgT24gY29tcGxldGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7TG9naW5PYnNlcnZlcn0gVGhlIExvZ2luIG9ic2VydmVyXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCB1c2VyQWdlbnQgPSBfYi51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9iLmJvbHRBZ2VudCwgYXV0aFRva2VuID0gX2IuYXV0aFRva2VuLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dpbk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuX29uTG9naW5FcnJvcihlcnJvciwgb25FcnJvcik7IH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhLnBhdGNoX2JvbHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYXBwbHlQYXRjaGVzKG1ldGFkYXRhLnBhdGNoX2JvbHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX29uTG9naW5Db21wbGV0ZWQobWV0YWRhdGEsIGF1dGhUb2tlbiwgb25Db21wbGV0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmhlbGxvKHVzZXJBZ2VudCwgYXV0aFRva2VuLCB0aGlzLl9zZXJ2ZXJzaWRlUm91dGluZywgWyd1dGMnXSksIG9ic2VydmVyLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRjaGVzIFBhdGNoZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgcHJvdG9jb2xcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9hcHBseVBhdGNoZXMgPSBmdW5jdGlvbiAocGF0Y2hlcykge1xuICAgICAgICBpZiAocGF0Y2hlcy5pbmNsdWRlcygndXRjJykpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5VXRjUGF0Y2goKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5fYXBwbHlVdGNQYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoX19hc3NpZ24oX19hc3NpZ24oe30sIGJvbHRfcHJvdG9jb2xfdjR4M190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLCBib2x0X3Byb3RvY29sX3Y1eDBfdXRjX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjR4Ml8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x2_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDMudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4My50cmFuc2Zvcm1lci5qcz80OWVkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NHgyX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgyLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y0eDJfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.utc.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4, FETCH_ALL = _a.FETCH_ALL, Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x4_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n    * Request routing information\n    *\n    * @param {Object} param -\n    * @param {object} param.routingContext The routing context used to define the routing table.\n    *  Multi-datacenter deployments is one of its use cases\n    * @param {string} param.databaseName The database name\n    * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n    * @param {function(err: Error)} param.onError\n    * @param {function(RawRoutingTable)} param.onCompleted\n    * @returns {RouteObserver} the route observer\n    */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b = _a.routingContext, routingContext = _b === void 0 ? {} : _b, _c = _a.databaseName, databaseName = _c === void 0 ? null : _c, _d = _a.impersonatedUser, impersonatedUser = _d === void 0 ? null : _d, _e = _a.sessionContext, sessionContext = _e === void 0 ? {} : _e, onError = _a.onError, onCompleted = _a.onCompleted;\n        var observer = new stream_observers_1.RouteObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n        var bookmarks = sessionContext.bookmarks || Bookmarks.empty();\n        this.write(request_message_1.default.routeV4x4(routingContext, bookmarks.values(), { databaseName: databaseName, impersonatedUser: impersonatedUser }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode, impersonatedUser: impersonatedUser }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype._applyUtcPatch = function () {\n        var _this = this;\n        this._transformer = new transformer_1.default(Object.values(__assign(__assign({}, bolt_protocol_v4x4_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default)).map(function (create) { return create(_this._config, _this._log); }));\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x3_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDJCQUEyQixtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RCx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcsMkRBQTJELG1CQUFPLENBQUMsOElBQXNDO0FBQ3pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QjtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFdBQVc7QUFDekIsY0FBYyxzQkFBc0I7QUFDcEMsY0FBYywyQkFBMkI7QUFDekMsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBLHdFQUF3RSwwTUFBME07QUFDbFI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw2RkFBNkYsZ0VBQWdFO0FBQzdKO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsOEdBQThHO0FBQ25LO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLG9IQUFvSCwyQ0FBMkM7QUFDdlA7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NHg0LmpzP2Q5YzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NHgzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgzXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBib2x0X3Byb3RvY29sX3V0aWxfMSA9IHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdXRpbFwiKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDRfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDQudHJhbnNmb3JtZXJcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4MF91dGNfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDAudXRjLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBCT0xUX1BST1RPQ09MX1Y0XzQgPSBfYS5CT0xUX1BST1RPQ09MX1Y0XzQsIEZFVENIX0FMTCA9IF9hLkZFVENIX0FMTCwgQm9va21hcmtzID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5ib29rbWFya3MuQm9va21hcmtzO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNF80O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICogUmVxdWVzdCByb3V0aW5nIGluZm9ybWF0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbS5yb3V0aW5nQ29udGV4dCBUaGUgcm91dGluZyBjb250ZXh0IHVzZWQgdG8gZGVmaW5lIHRoZSByb3V0aW5nIHRhYmxlLlxuICAgICogIE11bHRpLWRhdGFjZW50ZXIgZGVwbG95bWVudHMgaXMgb25lIG9mIGl0cyB1c2UgY2FzZXNcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbS5kYXRhYmFzZU5hbWUgVGhlIGRhdGFiYXNlIG5hbWVcbiAgICAqIEBwYXJhbSB7Qm9va21hcmtzfSBwYXJhbXMuc2Vzc2lvbkNvbnRleHQuYm9va21hcmtzIFRoZSBib29rbWFya3MgdXNlZCBmb3IgcmVxdWVzdGluZyB0aGUgcm91dGluZyB0YWJsZVxuICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvclxuICAgICogQHBhcmFtIHtmdW5jdGlvbihSYXdSb3V0aW5nVGFibGUpfSBwYXJhbS5vbkNvbXBsZXRlZFxuICAgICogQHJldHVybnMge1JvdXRlT2JzZXJ2ZXJ9IHRoZSByb3V0ZSBvYnNlcnZlclxuICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5yZXF1ZXN0Um91dGluZ0luZm9ybWF0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hLnJvdXRpbmdDb250ZXh0LCByb3V0aW5nQ29udGV4dCA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iLCBfYyA9IF9hLmRhdGFiYXNlTmFtZSwgZGF0YWJhc2VOYW1lID0gX2MgPT09IHZvaWQgMCA/IG51bGwgOiBfYywgX2QgPSBfYS5pbXBlcnNvbmF0ZWRVc2VyLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2QgPT09IHZvaWQgMCA/IG51bGwgOiBfZCwgX2UgPSBfYS5zZXNzaW9uQ29udGV4dCwgc2Vzc2lvbkNvbnRleHQgPSBfZSA9PT0gdm9pZCAwID8ge30gOiBfZSwgb25FcnJvciA9IF9hLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Eub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUm91dGVPYnNlcnZlcih7XG4gICAgICAgICAgICBvblByb3RvY29sRXJyb3I6IHRoaXMuX29uUHJvdG9jb2xFcnJvcixcbiAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogb25Db21wbGV0ZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBib29rbWFya3MgPSBzZXNzaW9uQ29udGV4dC5ib29rbWFya3MgfHwgQm9va21hcmtzLmVtcHR5KCk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5yb3V0ZVY0eDQocm91dGluZ0NvbnRleHQsIGJvb2ttYXJrcy52YWx1ZXMoKSwgeyBkYXRhYmFzZU5hbWU6IGRhdGFiYXNlTmFtZSwgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlciB9KSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChxdWVyeSwgcGFyYW1ldGVycywgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgbW9kZSA9IF9iLm1vZGUsIGltcGVyc29uYXRlZFVzZXIgPSBfYi5pbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIGJlZm9yZUtleXMgPSBfYi5iZWZvcmVLZXlzLCBhZnRlcktleXMgPSBfYi5hZnRlcktleXMsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZSwgX2MgPSBfYi5mbHVzaCwgZmx1c2ggPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jLCBfZCA9IF9iLnJlYWN0aXZlLCByZWFjdGl2ZSA9IF9kID09PSB2b2lkIDAgPyBmYWxzZSA6IF9kLCBfZSA9IF9iLmZldGNoU2l6ZSwgZmV0Y2hTaXplID0gX2UgPT09IHZvaWQgMCA/IEZFVENIX0FMTCA6IF9lLCBfZiA9IF9iLmhpZ2hSZWNvcmRXYXRlcm1hcmssIGhpZ2hSZWNvcmRXYXRlcm1hcmsgPSBfZiA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9mLCBfZyA9IF9iLmxvd1JlY29yZFdhdGVybWFyaywgbG93UmVjb3JkV2F0ZXJtYXJrID0gX2cgPT09IHZvaWQgMCA/IE51bWJlci5NQVhfVkFMVUUgOiBfZztcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5SZXN1bHRTdHJlYW1PYnNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgICAgICAgIHJlYWN0aXZlOiByZWFjdGl2ZSxcbiAgICAgICAgICAgIGZldGNoU2l6ZTogZmV0Y2hTaXplLFxuICAgICAgICAgICAgbW9yZUZ1bmN0aW9uOiB0aGlzLl9yZXF1ZXN0TW9yZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZGlzY2FyZEZ1bmN0aW9uOiB0aGlzLl9yZXF1ZXN0RGlzY2FyZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgYmVmb3JlS2V5czogYmVmb3JlS2V5cyxcbiAgICAgICAgICAgIGFmdGVyS2V5czogYWZ0ZXJLZXlzLFxuICAgICAgICAgICAgYmVmb3JlRXJyb3I6IGJlZm9yZUVycm9yLFxuICAgICAgICAgICAgYWZ0ZXJFcnJvcjogYWZ0ZXJFcnJvcixcbiAgICAgICAgICAgIGJlZm9yZUNvbXBsZXRlOiBiZWZvcmVDb21wbGV0ZSxcbiAgICAgICAgICAgIGFmdGVyQ29tcGxldGU6IGFmdGVyQ29tcGxldGUsXG4gICAgICAgICAgICBoaWdoUmVjb3JkV2F0ZXJtYXJrOiBoaWdoUmVjb3JkV2F0ZXJtYXJrLFxuICAgICAgICAgICAgbG93UmVjb3JkV2F0ZXJtYXJrOiBsb3dSZWNvcmRXYXRlcm1hcmtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHBhc3Npbmcgbm90aWZpY2F0aW9uIGZpbHRlciBvbiB0aGlzIHByb3RvY29sIHZlcnNpb24gdGhyb3dzIGFuIGVycm9yXG4gICAgICAgICgwLCBib2x0X3Byb3RvY29sX3V0aWxfMS5hc3NlcnROb3RpZmljYXRpb25GaWx0ZXJJc0VtcHR5KShub3RpZmljYXRpb25GaWx0ZXIsIHRoaXMuX29uUHJvdG9jb2xFcnJvciwgb2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgZmx1c2hSdW4gPSByZWFjdGl2ZTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnJ1bldpdGhNZXRhZGF0YShxdWVyeSwgcGFyYW1ldGVycywge1xuICAgICAgICAgICAgYm9va21hcmtzOiBib29rbWFya3MsXG4gICAgICAgICAgICB0eENvbmZpZzogdHhDb25maWcsXG4gICAgICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UsXG4gICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlclxuICAgICAgICB9KSwgb2JzZXJ2ZXIsIGZsdXNoUnVuICYmIGZsdXNoKTtcbiAgICAgICAgaWYgKCFyZWFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnB1bGwoeyBuOiBmZXRjaFNpemUgfSksIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5iZWdpblRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIHR4Q29uZmlnID0gX2IudHhDb25maWcsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIG1vZGUgPSBfYi5tb2RlLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBiZWZvcmVFcnJvciA9IF9iLmJlZm9yZUVycm9yLCBhZnRlckVycm9yID0gX2IuYWZ0ZXJFcnJvciwgYmVmb3JlQ29tcGxldGUgPSBfYi5iZWZvcmVDb21wbGV0ZSwgYWZ0ZXJDb21wbGV0ZSA9IF9iLmFmdGVyQ29tcGxldGU7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuUmVzdWx0U3RyZWFtT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgc2VydmVyOiB0aGlzLl9zZXJ2ZXIsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZVxuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIucHJlcGFyZVRvSGFuZGxlU2luZ2xlUmVzcG9uc2UoKTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5iZWdpbih7IGJvb2ttYXJrczogYm9va21hcmtzLCB0eENvbmZpZzogdHhDb25maWcsIGRhdGFiYXNlOiBkYXRhYmFzZSwgbW9kZTogbW9kZSwgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlciB9KSwgb2JzZXJ2ZXIsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLl9hcHBseVV0Y1BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lciA9IG5ldyB0cmFuc2Zvcm1lcl8xLmRlZmF1bHQoT2JqZWN0LnZhbHVlcyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYm9sdF9wcm90b2NvbF92NHg0X3RyYW5zZm9ybWVyXzEuZGVmYXVsdCksIGJvbHRfcHJvdG9jb2xfdjV4MF91dGNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KSkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NHgzXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v4x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v4x3_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY0eDQudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjR4NC50cmFuc2Zvcm1lci5qcz8xMmQ5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NHgzX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgzLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y0eDNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x4_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v5x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_0 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_0;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x0_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filter.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplte)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, authToken, onComplete); }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting), observer, true);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x4_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQkFBMkIsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLG9DQUFvQyxtQkFBTyxDQUFDLGdHQUFlO0FBQzNELHdDQUF3QyxtQkFBTyxDQUFDLHdHQUFtQjtBQUNuRSx5QkFBeUIsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckQsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOElBQThJLDJDQUEyQztBQUN6TDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLEtBQUs7QUFDcEIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxpQkFBaUI7QUFDaEMsZUFBZSxxQkFBcUI7QUFDcEMsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0Esd0NBQXdDLDZDQUE2QztBQUNyRiwrQ0FBK0M7QUFDL0MsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgwLmpzP2Y0YmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBib2x0X3Byb3RvY29sX3Y0eDRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDRcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdXRpbF8xID0gcmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC11dGlsXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4MF90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4MC50cmFuc2Zvcm1lclwiKSk7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgcmVxdWVzdF9tZXNzYWdlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcmVxdWVzdC1tZXNzYWdlXCIpKTtcbnZhciBzdHJlYW1fb2JzZXJ2ZXJzXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tb2JzZXJ2ZXJzXCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgQk9MVF9QUk9UT0NPTF9WNV8wID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMuQk9MVF9QUk9UT0NPTF9WNV8wO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNV8wO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjV4MF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBjb25uZWN0aW9uIHdpdGggdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgVGhlIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdzLnVzZXJBZ2VudCBUaGUgdXNlciBhZ2VudFxuICAgICAqIEBwYXJhbSB7YW55fSBhcmdzLmF1dGhUb2tlbiBUaGUgYXV0aCB0b2tlblxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBhcmdzLm5vdGlmaWNhdGlvbkZpbHRlciBUaGUgbm90aWZpY2F0aW9uIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycm9yKX0gYXJncy5vbkVycm9yIE9uIGVycm9yIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihvbkNvbXBsdGUpfSBhcmdzLm9uQ29tcGxldGUgT24gY29tcGxldGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7TG9naW5PYnNlcnZlcn0gVGhlIExvZ2luIG9ic2VydmVyXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCB1c2VyQWdlbnQgPSBfYi51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9iLmJvbHRBZ2VudCwgYXV0aFRva2VuID0gX2IuYXV0aFRva2VuLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIG9uRXJyb3IgPSBfYi5vbkVycm9yLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dpbk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuX29uTG9naW5FcnJvcihlcnJvciwgb25FcnJvcik7IH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZChtZXRhZGF0YSwgYXV0aFRva2VuLCBvbkNvbXBsZXRlKTsgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gcGFzc2luZyBub3RpZmljYXRpb24gZmlsdGVyIG9uIHRoaXMgcHJvdG9jb2wgdmVyc2lvbiB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgKDAsIGJvbHRfcHJvdG9jb2xfdXRpbF8xLmFzc2VydE5vdGlmaWNhdGlvbkZpbHRlcklzRW1wdHkpKG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fb25Qcm90b2NvbEVycm9yLCBvYnNlcnZlcik7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5oZWxsbyh1c2VyQWdlbnQsIGF1dGhUb2tlbiwgdGhpcy5fc2VydmVyc2lkZVJvdXRpbmcpLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjR4NF8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.utc.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\"));\nvar NODE_STRUCT_SIZE = 4;\nvar RELATIONSHIP_STRUCT_SIZE = 8;\nvar UNBOUND_RELATIONSHIP_STRUCT_SIZE = 4;\n/**\n * Create an extend Node transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createNodeTransformer(config) {\n    var node4x4Transformer = bolt_protocol_v4x4_transformer_1.default.createNodeTransformer(config);\n    return node4x4Transformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Node', NODE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), identity = _a[0], lables = _a[1], properties = _a[2], elementId = _a[3];\n            return new neo4j_driver_core_1.Node(identity, lables, properties, elementId);\n        }\n    });\n}\n/**\n * Create an extend Relationship transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createRelationshipTransformer(config) {\n    var relationship4x4Transformer = bolt_protocol_v4x4_transformer_1.default.createRelationshipTransformer(config);\n    return relationship4x4Transformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Relationship', RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 8), identity = _a[0], startNodeIdentity = _a[1], endNodeIdentity = _a[2], type = _a[3], properties = _a[4], elementId = _a[5], startNodeElementId = _a[6], endNodeElementId = _a[7];\n            return new neo4j_driver_core_1.Relationship(identity, startNodeIdentity, endNodeIdentity, type, properties, elementId, startNodeElementId, endNodeElementId);\n        }\n    });\n}\n/**\n * Create an extend Unbound Relationship transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createUnboundRelationshipTransformer(config) {\n    var unboundRelationshipTransformer = bolt_protocol_v4x4_transformer_1.default.createUnboundRelationshipTransformer(config);\n    return unboundRelationshipTransformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('UnboundRelationship', UNBOUND_RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), identity = _a[0], type = _a[1], properties = _a[2], elementId = _a[3];\n            return new neo4j_driver_core_1.UnboundRelationship(identity, type, properties, elementId);\n        }\n    });\n}\nexports[\"default\"] = __assign(__assign(__assign({}, bolt_protocol_v4x4_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default), { createNodeTransformer: createNodeTransformer, createRelationshipTransformer: createRelationshipTransformer, createUnboundRelationshipTransformer: createUnboundRelationshipTransformer });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLDJEQUEyRCxtQkFBTyxDQUFDLDhJQUFzQztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBZSxnQ0FBZ0MsOEZBQThGLHdMQUF3TCIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgwLnRyYW5zZm9ybWVyLmpzPzViYzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBwYWNrc3RyZWFtXzEgPSByZXF1aXJlKFwiLi4vcGFja3N0cmVhbVwiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4NC50cmFuc2Zvcm1lclwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgwX3V0Y190cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4MC51dGMudHJhbnNmb3JtZXJcIikpO1xudmFyIE5PREVfU1RSVUNUX1NJWkUgPSA0O1xudmFyIFJFTEFUSU9OU0hJUF9TVFJVQ1RfU0laRSA9IDg7XG52YXIgVU5CT1VORF9SRUxBVElPTlNISVBfU1RSVUNUX1NJWkUgPSA0O1xuLyoqXG4gKiBDcmVhdGUgYW4gZXh0ZW5kIE5vZGUgdHJhbnNmb3JtZXIgd2l0aCBzdXBwb3J0IHRvIGVsZW1lbnRJZFxuICogQHBhcmFtIHthbnl9IGNvbmZpZ1xuICogQHJldHVybnMge1R5cGVUcmFuc2Zvcm1lcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTm9kZVRyYW5zZm9ybWVyKGNvbmZpZykge1xuICAgIHZhciBub2RlNHg0VHJhbnNmb3JtZXIgPSBib2x0X3Byb3RvY29sX3Y0eDRfdHJhbnNmb3JtZXJfMS5kZWZhdWx0LmNyZWF0ZU5vZGVUcmFuc2Zvcm1lcihjb25maWcpO1xuICAgIHJldHVybiBub2RlNHg0VHJhbnNmb3JtZXIuZXh0ZW5kc1dpdGgoe1xuICAgICAgICBmcm9tU3RydWN0dXJlOiBmdW5jdGlvbiAoc3RydWN0KSB7XG4gICAgICAgICAgICBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLnZlcmlmeVN0cnVjdFNpemUoJ05vZGUnLCBOT0RFX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgNCksIGlkZW50aXR5ID0gX2FbMF0sIGxhYmxlcyA9IF9hWzFdLCBwcm9wZXJ0aWVzID0gX2FbMl0sIGVsZW1lbnRJZCA9IF9hWzNdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLk5vZGUoaWRlbnRpdHksIGxhYmxlcywgcHJvcGVydGllcywgZWxlbWVudElkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gZXh0ZW5kIFJlbGF0aW9uc2hpcCB0cmFuc2Zvcm1lciB3aXRoIHN1cHBvcnQgdG8gZWxlbWVudElkXG4gKiBAcGFyYW0ge2FueX0gY29uZmlnXG4gKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcihjb25maWcpIHtcbiAgICB2YXIgcmVsYXRpb25zaGlwNHg0VHJhbnNmb3JtZXIgPSBib2x0X3Byb3RvY29sX3Y0eDRfdHJhbnNmb3JtZXJfMS5kZWZhdWx0LmNyZWF0ZVJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyKGNvbmZpZyk7XG4gICAgcmV0dXJuIHJlbGF0aW9uc2hpcDR4NFRyYW5zZm9ybWVyLmV4dGVuZHNXaXRoKHtcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdSZWxhdGlvbnNoaXAnLCBSRUxBVElPTlNISVBfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCA4KSwgaWRlbnRpdHkgPSBfYVswXSwgc3RhcnROb2RlSWRlbnRpdHkgPSBfYVsxXSwgZW5kTm9kZUlkZW50aXR5ID0gX2FbMl0sIHR5cGUgPSBfYVszXSwgcHJvcGVydGllcyA9IF9hWzRdLCBlbGVtZW50SWQgPSBfYVs1XSwgc3RhcnROb2RlRWxlbWVudElkID0gX2FbNl0sIGVuZE5vZGVFbGVtZW50SWQgPSBfYVs3XTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5SZWxhdGlvbnNoaXAoaWRlbnRpdHksIHN0YXJ0Tm9kZUlkZW50aXR5LCBlbmROb2RlSWRlbnRpdHksIHR5cGUsIHByb3BlcnRpZXMsIGVsZW1lbnRJZCwgc3RhcnROb2RlRWxlbWVudElkLCBlbmROb2RlRWxlbWVudElkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gZXh0ZW5kIFVuYm91bmQgUmVsYXRpb25zaGlwIHRyYW5zZm9ybWVyIHdpdGggc3VwcG9ydCB0byBlbGVtZW50SWRcbiAqIEBwYXJhbSB7YW55fSBjb25maWdcbiAqIEByZXR1cm5zIHtUeXBlVHJhbnNmb3JtZXJ9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVuYm91bmRSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcihjb25maWcpIHtcbiAgICB2YXIgdW5ib3VuZFJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyID0gYm9sdF9wcm90b2NvbF92NHg0X3RyYW5zZm9ybWVyXzEuZGVmYXVsdC5jcmVhdGVVbmJvdW5kUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIoY29uZmlnKTtcbiAgICByZXR1cm4gdW5ib3VuZFJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyLmV4dGVuZHNXaXRoKHtcbiAgICAgICAgZnJvbVN0cnVjdHVyZTogZnVuY3Rpb24gKHN0cnVjdCkge1xuICAgICAgICAgICAgcGFja3N0cmVhbV8xLnN0cnVjdHVyZS52ZXJpZnlTdHJ1Y3RTaXplKCdVbmJvdW5kUmVsYXRpb25zaGlwJywgVU5CT1VORF9SRUxBVElPTlNISVBfU1RSVUNUX1NJWkUsIHN0cnVjdC5zaXplKTtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChzdHJ1Y3QuZmllbGRzLCA0KSwgaWRlbnRpdHkgPSBfYVswXSwgdHlwZSA9IF9hWzFdLCBwcm9wZXJ0aWVzID0gX2FbMl0sIGVsZW1lbnRJZCA9IF9hWzNdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlVuYm91bmRSZWxhdGlvbnNoaXAoaWRlbnRpdHksIHR5cGUsIHByb3BlcnRpZXMsIGVsZW1lbnRJZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y0eDRfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KSwgYm9sdF9wcm90b2NvbF92NXgwX3V0Y190cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLCB7IGNyZWF0ZU5vZGVUcmFuc2Zvcm1lcjogY3JlYXRlTm9kZVRyYW5zZm9ybWVyLCBjcmVhdGVSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcjogY3JlYXRlUmVsYXRpb25zaGlwVHJhbnNmb3JtZXIsIGNyZWF0ZVVuYm91bmRSZWxhdGlvbnNoaXBUcmFuc2Zvcm1lcjogY3JlYXRlVW5ib3VuZFJlbGF0aW9uc2hpcFRyYW5zZm9ybWVyIH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js\"));\nvar temporal_factory_1 = __webpack_require__(/*! ./temporal-factory */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js\");\nvar functional_1 = __webpack_require__(/*! ../lang/functional */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js\");\nvar localDateTimeToEpochSecond = neo4j_driver_core_1.internal.temporalUtil.localDateTimeToEpochSecond;\nvar DATE_TIME_WITH_ZONE_OFFSET = 0x49;\nvar DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE = 3;\nvar DATE_TIME_WITH_ZONE_ID = 0x69;\nvar DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE = 3;\nfunction createDateTimeWithZoneIdTransformer(config, logger) {\n    var disableLosslessIntegers = config.disableLosslessIntegers, useBigInt = config.useBigInt;\n    var dateTimeWithZoneIdTransformer = bolt_protocol_v4x4_transformer_1.default.createDateTimeWithZoneIdTransformer(config);\n    return dateTimeWithZoneIdTransformer.extendsWith({\n        signature: DATE_TIME_WITH_ZONE_ID,\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneId', DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneId = _a[2];\n            var localDateTime = getTimeInZoneId(timeZoneId, epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, (0, neo4j_driver_core_1.int)(nano), localDateTime.timeZoneOffsetSeconds, timeZoneId);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var offset = value.timeZoneOffsetSeconds != null\n                ? value.timeZoneOffsetSeconds\n                : getOffsetFromZoneId(value.timeZoneId, epochSecond, value.nanosecond);\n            if (value.timeZoneOffsetSeconds == null) {\n                logger.warn('DateTime objects without \"timeZoneOffsetSeconds\" property ' +\n                    'are prune to bugs related to ambiguous times. For instance, ' +\n                    '2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');\n            }\n            var utc = epochSecond.subtract(offset);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneId = value.timeZoneId;\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_ID, [utc, nano, timeZoneId]);\n        }\n    });\n}\n/**\n * Returns the offset for a given timezone id\n *\n * Javascript doesn't have support for direct getting the timezone offset from a given\n * TimeZoneId and DateTime in the given TimeZoneId. For solving this issue,\n *\n * 1. The ZoneId is applied to the timestamp, so we could make the difference between the\n * given timestamp and the new calculated one. This is the offset for the timezone\n * in the utc is equal to epoch (some time in the future or past)\n * 2. The offset is subtracted from the timestamp, so we have an estimated utc timestamp.\n * 3. The ZoneId is applied to the new timestamp, se we could could make the difference\n * between the new timestamp and the calculated one. This is the offset for the given timezone.\n *\n * Example:\n *    Input: 2022-3-27 1:59:59 'Europe/Berlin'\n *    Apply 1, 2022-3-27 1:59:59 => 2022-3-27 3:59:59 'Europe/Berlin' +2:00\n *    Apply 2, 2022-3-27 1:59:59 - 2:00 => 2022-3-26 23:59:59\n *    Apply 3, 2022-3-26 23:59:59 => 2022-3-27 00:59:59 'Europe/Berlin' +1:00\n *  The offset is +1 hour.\n *\n * @param {string} timeZoneId The timezone id\n * @param {Integer} epochSecond The epoch second in the timezone id\n * @param {Integerable} nanosecond The nanoseconds in the timezone id\n * @returns The timezone offset\n */\nfunction getOffsetFromZoneId(timeZoneId, epochSecond, nanosecond) {\n    var dateTimeWithZoneAppliedTwice = getTimeInZoneId(timeZoneId, epochSecond, nanosecond);\n    // The wallclock form the current date time\n    var epochWithZoneAppliedTwice = localDateTimeToEpochSecond(dateTimeWithZoneAppliedTwice.year, dateTimeWithZoneAppliedTwice.month, dateTimeWithZoneAppliedTwice.day, dateTimeWithZoneAppliedTwice.hour, dateTimeWithZoneAppliedTwice.minute, dateTimeWithZoneAppliedTwice.second, nanosecond);\n    var offsetOfZoneInTheFutureUtc = epochWithZoneAppliedTwice.subtract(epochSecond);\n    var guessedUtc = epochSecond.subtract(offsetOfZoneInTheFutureUtc);\n    var zonedDateTimeFromGuessedUtc = getTimeInZoneId(timeZoneId, guessedUtc, nanosecond);\n    var zonedEpochFromGuessedUtc = localDateTimeToEpochSecond(zonedDateTimeFromGuessedUtc.year, zonedDateTimeFromGuessedUtc.month, zonedDateTimeFromGuessedUtc.day, zonedDateTimeFromGuessedUtc.hour, zonedDateTimeFromGuessedUtc.minute, zonedDateTimeFromGuessedUtc.second, nanosecond);\n    var offset = zonedEpochFromGuessedUtc.subtract(guessedUtc);\n    return offset;\n}\nvar dateTimeFormatCache = new Map();\nfunction getDateTimeFormatForZoneId(timeZoneId) {\n    if (!dateTimeFormatCache.has(timeZoneId)) {\n        var formatter = new Intl.DateTimeFormat('en-US', {\n            timeZone: timeZoneId,\n            year: 'numeric',\n            month: 'numeric',\n            day: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric',\n            second: 'numeric',\n            hour12: false,\n            era: 'narrow'\n        });\n        dateTimeFormatCache.set(timeZoneId, formatter);\n    }\n    return dateTimeFormatCache.get(timeZoneId);\n}\nfunction getTimeInZoneId(timeZoneId, epochSecond, nano) {\n    var formatter = getDateTimeFormatForZoneId(timeZoneId);\n    var utc = (0, neo4j_driver_core_1.int)(epochSecond)\n        .multiply(1000)\n        .add((0, neo4j_driver_core_1.int)(nano).div(1000000))\n        .toNumber();\n    var formattedUtcParts = formatter.formatToParts(utc);\n    var localDateTime = formattedUtcParts.reduce(function (obj, currentValue) {\n        if (currentValue.type === 'era') {\n            obj.adjustEra =\n                currentValue.value.toUpperCase() === 'B'\n                    ? function (year) { return year.subtract(1).negate(); } // 1BC equals to year 0 in astronomical year numbering\n                    : functional_1.identity;\n        }\n        else if (currentValue.type === 'hour') {\n            obj.hour = (0, neo4j_driver_core_1.int)(currentValue.value).modulo(24);\n        }\n        else if (currentValue.type !== 'literal') {\n            obj[currentValue.type] = (0, neo4j_driver_core_1.int)(currentValue.value);\n        }\n        return obj;\n    }, {});\n    localDateTime.year = localDateTime.adjustEra(localDateTime.year);\n    var epochInTimeZone = localDateTimeToEpochSecond(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond);\n    localDateTime.timeZoneOffsetSeconds = epochInTimeZone.subtract(epochSecond);\n    localDateTime.hour = localDateTime.hour.modulo(24);\n    return localDateTime;\n}\nfunction createDateTimeWithOffsetTransformer(config) {\n    var disableLosslessIntegers = config.disableLosslessIntegers, useBigInt = config.useBigInt;\n    var dateTimeWithOffsetTransformer = bolt_protocol_v4x4_transformer_1.default.createDateTimeWithOffsetTransformer(config);\n    return dateTimeWithOffsetTransformer.extendsWith({\n        signature: DATE_TIME_WITH_ZONE_OFFSET,\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneOffsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            var utcSecond = epochSecond.subtract(timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET, [utcSecond, nano, timeZoneOffsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneOffset', DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), utcSecond = _a[0], nano = _a[1], timeZoneOffsetSeconds = _a[2];\n            var epochSecond = (0, neo4j_driver_core_1.int)(utcSecond).add(timeZoneOffsetSeconds);\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, timeZoneOffsetSeconds, null);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\nfunction convertIntegerPropsIfNeeded(obj, disableLosslessIntegers, useBigInt) {\n    if (!disableLosslessIntegers && !useBigInt) {\n        return obj;\n    }\n    var convert = function (value) {\n        return useBigInt ? value.toBigInt() : value.toNumberOrInfinity();\n    };\n    var clone = Object.create(Object.getPrototypeOf(obj));\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop) === true) {\n            var value = obj[prop];\n            clone[prop] = (0, neo4j_driver_core_1.isInt)(value) ? convert(value) : value;\n        }\n    }\n    Object.freeze(clone);\n    return clone;\n}\nexports[\"default\"] = {\n    createDateTimeWithZoneIdTransformer: createDateTimeWithZoneIdTransformer,\n    createDateTimeWithOffsetTransformer: createDateTimeWithOffsetTransformer\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDAudXRjLnRyYW5zZm9ybWVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQixtQkFBTyxDQUFDLGdHQUFlO0FBQzFDLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELG1CQUFtQixtQkFBTyxDQUFDLG9HQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msb0NBQW9DO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgwLnV0Yy50cmFuc2Zvcm1lci5qcz9iN2Q0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBwYWNrc3RyZWFtXzEgPSByZXF1aXJlKFwiLi4vcGFja3N0cmVhbVwiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4NC50cmFuc2Zvcm1lclwiKSk7XG52YXIgdGVtcG9yYWxfZmFjdG9yeV8xID0gcmVxdWlyZShcIi4vdGVtcG9yYWwtZmFjdG9yeVwiKTtcbnZhciBmdW5jdGlvbmFsXzEgPSByZXF1aXJlKFwiLi4vbGFuZy9mdW5jdGlvbmFsXCIpO1xudmFyIGxvY2FsRGF0ZVRpbWVUb0Vwb2NoU2Vjb25kID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC50ZW1wb3JhbFV0aWwubG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQ7XG52YXIgREFURV9USU1FX1dJVEhfWk9ORV9PRkZTRVQgPSAweDQ5O1xudmFyIERBVEVfVElNRV9XSVRIX1pPTkVfT0ZGU0VUX1NUUlVDVF9TSVpFID0gMztcbnZhciBEQVRFX1RJTUVfV0lUSF9aT05FX0lEID0gMHg2OTtcbnZhciBEQVRFX1RJTUVfV0lUSF9aT05FX0lEX1NUUlVDVF9TSVpFID0gMztcbmZ1bmN0aW9uIGNyZWF0ZURhdGVUaW1lV2l0aFpvbmVJZFRyYW5zZm9ybWVyKGNvbmZpZywgbG9nZ2VyKSB7XG4gICAgdmFyIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gY29uZmlnLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBjb25maWcudXNlQmlnSW50O1xuICAgIHZhciBkYXRlVGltZVdpdGhab25lSWRUcmFuc2Zvcm1lciA9IGJvbHRfcHJvdG9jb2xfdjR4NF90cmFuc2Zvcm1lcl8xLmRlZmF1bHQuY3JlYXRlRGF0ZVRpbWVXaXRoWm9uZUlkVHJhbnNmb3JtZXIoY29uZmlnKTtcbiAgICByZXR1cm4gZGF0ZVRpbWVXaXRoWm9uZUlkVHJhbnNmb3JtZXIuZXh0ZW5kc1dpdGgoe1xuICAgICAgICBzaWduYXR1cmU6IERBVEVfVElNRV9XSVRIX1pPTkVfSUQsXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnRGF0ZVRpbWVXaXRoWm9uZUlkJywgREFURV9USU1FX1dJVEhfWk9ORV9JRF9TVFJVQ1RfU0laRSwgc3RydWN0LnNpemUpO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHN0cnVjdC5maWVsZHMsIDMpLCBlcG9jaFNlY29uZCA9IF9hWzBdLCBuYW5vID0gX2FbMV0sIHRpbWVab25lSWQgPSBfYVsyXTtcbiAgICAgICAgICAgIHZhciBsb2NhbERhdGVUaW1lID0gZ2V0VGltZUluWm9uZUlkKHRpbWVab25lSWQsIGVwb2NoU2Vjb25kLCBuYW5vKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5EYXRlVGltZShsb2NhbERhdGVUaW1lLnllYXIsIGxvY2FsRGF0ZVRpbWUubW9udGgsIGxvY2FsRGF0ZVRpbWUuZGF5LCBsb2NhbERhdGVUaW1lLmhvdXIsIGxvY2FsRGF0ZVRpbWUubWludXRlLCBsb2NhbERhdGVUaW1lLnNlY29uZCwgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShuYW5vKSwgbG9jYWxEYXRlVGltZS50aW1lWm9uZU9mZnNldFNlY29uZHMsIHRpbWVab25lSWQpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRJbnRlZ2VyUHJvcHNJZk5lZWRlZChyZXN1bHQsIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpO1xuICAgICAgICB9LFxuICAgICAgICB0b1N0cnVjdHVyZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXBvY2hTZWNvbmQgPSBsb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCh2YWx1ZS55ZWFyLCB2YWx1ZS5tb250aCwgdmFsdWUuZGF5LCB2YWx1ZS5ob3VyLCB2YWx1ZS5taW51dGUsIHZhbHVlLnNlY29uZCwgdmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdmFsdWUudGltZVpvbmVPZmZzZXRTZWNvbmRzICE9IG51bGxcbiAgICAgICAgICAgICAgICA/IHZhbHVlLnRpbWVab25lT2Zmc2V0U2Vjb25kc1xuICAgICAgICAgICAgICAgIDogZ2V0T2Zmc2V0RnJvbVpvbmVJZCh2YWx1ZS50aW1lWm9uZUlkLCBlcG9jaFNlY29uZCwgdmFsdWUubmFub3NlY29uZCk7XG4gICAgICAgICAgICBpZiAodmFsdWUudGltZVpvbmVPZmZzZXRTZWNvbmRzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignRGF0ZVRpbWUgb2JqZWN0cyB3aXRob3V0IFwidGltZVpvbmVPZmZzZXRTZWNvbmRzXCIgcHJvcGVydHkgJyArXG4gICAgICAgICAgICAgICAgICAgICdhcmUgcHJ1bmUgdG8gYnVncyByZWxhdGVkIHRvIGFtYmlndW91cyB0aW1lcy4gRm9yIGluc3RhbmNlLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJzIwMjItMTAtMzBUMjozMDowMFtFdXJvcGUvQmVybGluXSBjb3VsZCBiZSBHTVQrMSBvciBHTVQrMi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1dGMgPSBlcG9jaFNlY29uZC5zdWJ0cmFjdChvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIG5hbm8gPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIHRpbWVab25lSWQgPSB2YWx1ZS50aW1lWm9uZUlkO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShEQVRFX1RJTUVfV0lUSF9aT05FX0lELCBbdXRjLCBuYW5vLCB0aW1lWm9uZUlkXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgb2Zmc2V0IGZvciBhIGdpdmVuIHRpbWV6b25lIGlkXG4gKlxuICogSmF2YXNjcmlwdCBkb2Vzbid0IGhhdmUgc3VwcG9ydCBmb3IgZGlyZWN0IGdldHRpbmcgdGhlIHRpbWV6b25lIG9mZnNldCBmcm9tIGEgZ2l2ZW5cbiAqIFRpbWVab25lSWQgYW5kIERhdGVUaW1lIGluIHRoZSBnaXZlbiBUaW1lWm9uZUlkLiBGb3Igc29sdmluZyB0aGlzIGlzc3VlLFxuICpcbiAqIDEuIFRoZSBab25lSWQgaXMgYXBwbGllZCB0byB0aGUgdGltZXN0YW1wLCBzbyB3ZSBjb3VsZCBtYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlXG4gKiBnaXZlbiB0aW1lc3RhbXAgYW5kIHRoZSBuZXcgY2FsY3VsYXRlZCBvbmUuIFRoaXMgaXMgdGhlIG9mZnNldCBmb3IgdGhlIHRpbWV6b25lXG4gKiBpbiB0aGUgdXRjIGlzIGVxdWFsIHRvIGVwb2NoIChzb21lIHRpbWUgaW4gdGhlIGZ1dHVyZSBvciBwYXN0KVxuICogMi4gVGhlIG9mZnNldCBpcyBzdWJ0cmFjdGVkIGZyb20gdGhlIHRpbWVzdGFtcCwgc28gd2UgaGF2ZSBhbiBlc3RpbWF0ZWQgdXRjIHRpbWVzdGFtcC5cbiAqIDMuIFRoZSBab25lSWQgaXMgYXBwbGllZCB0byB0aGUgbmV3IHRpbWVzdGFtcCwgc2Ugd2UgY291bGQgY291bGQgbWFrZSB0aGUgZGlmZmVyZW5jZVxuICogYmV0d2VlbiB0aGUgbmV3IHRpbWVzdGFtcCBhbmQgdGhlIGNhbGN1bGF0ZWQgb25lLiBUaGlzIGlzIHRoZSBvZmZzZXQgZm9yIHRoZSBnaXZlbiB0aW1lem9uZS5cbiAqXG4gKiBFeGFtcGxlOlxuICogICAgSW5wdXQ6IDIwMjItMy0yNyAxOjU5OjU5ICdFdXJvcGUvQmVybGluJ1xuICogICAgQXBwbHkgMSwgMjAyMi0zLTI3IDE6NTk6NTkgPT4gMjAyMi0zLTI3IDM6NTk6NTkgJ0V1cm9wZS9CZXJsaW4nICsyOjAwXG4gKiAgICBBcHBseSAyLCAyMDIyLTMtMjcgMTo1OTo1OSAtIDI6MDAgPT4gMjAyMi0zLTI2IDIzOjU5OjU5XG4gKiAgICBBcHBseSAzLCAyMDIyLTMtMjYgMjM6NTk6NTkgPT4gMjAyMi0zLTI3IDAwOjU5OjU5ICdFdXJvcGUvQmVybGluJyArMTowMFxuICogIFRoZSBvZmZzZXQgaXMgKzEgaG91ci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGltZVpvbmVJZCBUaGUgdGltZXpvbmUgaWRcbiAqIEBwYXJhbSB7SW50ZWdlcn0gZXBvY2hTZWNvbmQgVGhlIGVwb2NoIHNlY29uZCBpbiB0aGUgdGltZXpvbmUgaWRcbiAqIEBwYXJhbSB7SW50ZWdlcmFibGV9IG5hbm9zZWNvbmQgVGhlIG5hbm9zZWNvbmRzIGluIHRoZSB0aW1lem9uZSBpZFxuICogQHJldHVybnMgVGhlIHRpbWV6b25lIG9mZnNldFxuICovXG5mdW5jdGlvbiBnZXRPZmZzZXRGcm9tWm9uZUlkKHRpbWVab25lSWQsIGVwb2NoU2Vjb25kLCBuYW5vc2Vjb25kKSB7XG4gICAgdmFyIGRhdGVUaW1lV2l0aFpvbmVBcHBsaWVkVHdpY2UgPSBnZXRUaW1lSW5ab25lSWQodGltZVpvbmVJZCwgZXBvY2hTZWNvbmQsIG5hbm9zZWNvbmQpO1xuICAgIC8vIFRoZSB3YWxsY2xvY2sgZm9ybSB0aGUgY3VycmVudCBkYXRlIHRpbWVcbiAgICB2YXIgZXBvY2hXaXRoWm9uZUFwcGxpZWRUd2ljZSA9IGxvY2FsRGF0ZVRpbWVUb0Vwb2NoU2Vjb25kKGRhdGVUaW1lV2l0aFpvbmVBcHBsaWVkVHdpY2UueWVhciwgZGF0ZVRpbWVXaXRoWm9uZUFwcGxpZWRUd2ljZS5tb250aCwgZGF0ZVRpbWVXaXRoWm9uZUFwcGxpZWRUd2ljZS5kYXksIGRhdGVUaW1lV2l0aFpvbmVBcHBsaWVkVHdpY2UuaG91ciwgZGF0ZVRpbWVXaXRoWm9uZUFwcGxpZWRUd2ljZS5taW51dGUsIGRhdGVUaW1lV2l0aFpvbmVBcHBsaWVkVHdpY2Uuc2Vjb25kLCBuYW5vc2Vjb25kKTtcbiAgICB2YXIgb2Zmc2V0T2Zab25lSW5UaGVGdXR1cmVVdGMgPSBlcG9jaFdpdGhab25lQXBwbGllZFR3aWNlLnN1YnRyYWN0KGVwb2NoU2Vjb25kKTtcbiAgICB2YXIgZ3Vlc3NlZFV0YyA9IGVwb2NoU2Vjb25kLnN1YnRyYWN0KG9mZnNldE9mWm9uZUluVGhlRnV0dXJlVXRjKTtcbiAgICB2YXIgem9uZWREYXRlVGltZUZyb21HdWVzc2VkVXRjID0gZ2V0VGltZUluWm9uZUlkKHRpbWVab25lSWQsIGd1ZXNzZWRVdGMsIG5hbm9zZWNvbmQpO1xuICAgIHZhciB6b25lZEVwb2NoRnJvbUd1ZXNzZWRVdGMgPSBsb2NhbERhdGVUaW1lVG9FcG9jaFNlY29uZCh6b25lZERhdGVUaW1lRnJvbUd1ZXNzZWRVdGMueWVhciwgem9uZWREYXRlVGltZUZyb21HdWVzc2VkVXRjLm1vbnRoLCB6b25lZERhdGVUaW1lRnJvbUd1ZXNzZWRVdGMuZGF5LCB6b25lZERhdGVUaW1lRnJvbUd1ZXNzZWRVdGMuaG91ciwgem9uZWREYXRlVGltZUZyb21HdWVzc2VkVXRjLm1pbnV0ZSwgem9uZWREYXRlVGltZUZyb21HdWVzc2VkVXRjLnNlY29uZCwgbmFub3NlY29uZCk7XG4gICAgdmFyIG9mZnNldCA9IHpvbmVkRXBvY2hGcm9tR3Vlc3NlZFV0Yy5zdWJ0cmFjdChndWVzc2VkVXRjKTtcbiAgICByZXR1cm4gb2Zmc2V0O1xufVxudmFyIGRhdGVUaW1lRm9ybWF0Q2FjaGUgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXREYXRlVGltZUZvcm1hdEZvclpvbmVJZCh0aW1lWm9uZUlkKSB7XG4gICAgaWYgKCFkYXRlVGltZUZvcm1hdENhY2hlLmhhcyh0aW1lWm9uZUlkKSkge1xuICAgICAgICB2YXIgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoJ2VuLVVTJywge1xuICAgICAgICAgICAgdGltZVpvbmU6IHRpbWVab25lSWQsXG4gICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBtb250aDogJ251bWVyaWMnLFxuICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgICBob3VyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICBtaW51dGU6ICdudW1lcmljJyxcbiAgICAgICAgICAgIHNlY29uZDogJ251bWVyaWMnLFxuICAgICAgICAgICAgaG91cjEyOiBmYWxzZSxcbiAgICAgICAgICAgIGVyYTogJ25hcnJvdydcbiAgICAgICAgfSk7XG4gICAgICAgIGRhdGVUaW1lRm9ybWF0Q2FjaGUuc2V0KHRpbWVab25lSWQsIGZvcm1hdHRlcik7XG4gICAgfVxuICAgIHJldHVybiBkYXRlVGltZUZvcm1hdENhY2hlLmdldCh0aW1lWm9uZUlkKTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVJblpvbmVJZCh0aW1lWm9uZUlkLCBlcG9jaFNlY29uZCwgbmFubykge1xuICAgIHZhciBmb3JtYXR0ZXIgPSBnZXREYXRlVGltZUZvcm1hdEZvclpvbmVJZCh0aW1lWm9uZUlkKTtcbiAgICB2YXIgdXRjID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShlcG9jaFNlY29uZClcbiAgICAgICAgLm11bHRpcGx5KDEwMDApXG4gICAgICAgIC5hZGQoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShuYW5vKS5kaXYoMTAwMDAwMCkpXG4gICAgICAgIC50b051bWJlcigpO1xuICAgIHZhciBmb3JtYXR0ZWRVdGNQYXJ0cyA9IGZvcm1hdHRlci5mb3JtYXRUb1BhcnRzKHV0Yyk7XG4gICAgdmFyIGxvY2FsRGF0ZVRpbWUgPSBmb3JtYXR0ZWRVdGNQYXJ0cy5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgY3VycmVudFZhbHVlKSB7XG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUudHlwZSA9PT0gJ2VyYScpIHtcbiAgICAgICAgICAgIG9iai5hZGp1c3RFcmEgPVxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZS52YWx1ZS50b1VwcGVyQ2FzZSgpID09PSAnQidcbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoeWVhcikgeyByZXR1cm4geWVhci5zdWJ0cmFjdCgxKS5uZWdhdGUoKTsgfSAvLyAxQkMgZXF1YWxzIHRvIHllYXIgMCBpbiBhc3Ryb25vbWljYWwgeWVhciBudW1iZXJpbmdcbiAgICAgICAgICAgICAgICAgICAgOiBmdW5jdGlvbmFsXzEuaWRlbnRpdHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFZhbHVlLnR5cGUgPT09ICdob3VyJykge1xuICAgICAgICAgICAgb2JqLmhvdXIgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKGN1cnJlbnRWYWx1ZS52YWx1ZSkubW9kdWxvKDI0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50VmFsdWUudHlwZSAhPT0gJ2xpdGVyYWwnKSB7XG4gICAgICAgICAgICBvYmpbY3VycmVudFZhbHVlLnR5cGVdID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShjdXJyZW50VmFsdWUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGxvY2FsRGF0ZVRpbWUueWVhciA9IGxvY2FsRGF0ZVRpbWUuYWRqdXN0RXJhKGxvY2FsRGF0ZVRpbWUueWVhcik7XG4gICAgdmFyIGVwb2NoSW5UaW1lWm9uZSA9IGxvY2FsRGF0ZVRpbWVUb0Vwb2NoU2Vjb25kKGxvY2FsRGF0ZVRpbWUueWVhciwgbG9jYWxEYXRlVGltZS5tb250aCwgbG9jYWxEYXRlVGltZS5kYXksIGxvY2FsRGF0ZVRpbWUuaG91ciwgbG9jYWxEYXRlVGltZS5taW51dGUsIGxvY2FsRGF0ZVRpbWUuc2Vjb25kLCBsb2NhbERhdGVUaW1lLm5hbm9zZWNvbmQpO1xuICAgIGxvY2FsRGF0ZVRpbWUudGltZVpvbmVPZmZzZXRTZWNvbmRzID0gZXBvY2hJblRpbWVab25lLnN1YnRyYWN0KGVwb2NoU2Vjb25kKTtcbiAgICBsb2NhbERhdGVUaW1lLmhvdXIgPSBsb2NhbERhdGVUaW1lLmhvdXIubW9kdWxvKDI0KTtcbiAgICByZXR1cm4gbG9jYWxEYXRlVGltZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURhdGVUaW1lV2l0aE9mZnNldFRyYW5zZm9ybWVyKGNvbmZpZykge1xuICAgIHZhciBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IGNvbmZpZy5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycywgdXNlQmlnSW50ID0gY29uZmlnLnVzZUJpZ0ludDtcbiAgICB2YXIgZGF0ZVRpbWVXaXRoT2Zmc2V0VHJhbnNmb3JtZXIgPSBib2x0X3Byb3RvY29sX3Y0eDRfdHJhbnNmb3JtZXJfMS5kZWZhdWx0LmNyZWF0ZURhdGVUaW1lV2l0aE9mZnNldFRyYW5zZm9ybWVyKGNvbmZpZyk7XG4gICAgcmV0dXJuIGRhdGVUaW1lV2l0aE9mZnNldFRyYW5zZm9ybWVyLmV4dGVuZHNXaXRoKHtcbiAgICAgICAgc2lnbmF0dXJlOiBEQVRFX1RJTUVfV0lUSF9aT05FX09GRlNFVCxcbiAgICAgICAgdG9TdHJ1Y3R1cmU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVwb2NoU2Vjb25kID0gbG9jYWxEYXRlVGltZVRvRXBvY2hTZWNvbmQodmFsdWUueWVhciwgdmFsdWUubW9udGgsIHZhbHVlLmRheSwgdmFsdWUuaG91ciwgdmFsdWUubWludXRlLCB2YWx1ZS5zZWNvbmQsIHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIG5hbm8gPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHZhbHVlLm5hbm9zZWNvbmQpO1xuICAgICAgICAgICAgdmFyIHRpbWVab25lT2Zmc2V0U2Vjb25kcyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkodmFsdWUudGltZVpvbmVPZmZzZXRTZWNvbmRzKTtcbiAgICAgICAgICAgIHZhciB1dGNTZWNvbmQgPSBlcG9jaFNlY29uZC5zdWJ0cmFjdCh0aW1lWm9uZU9mZnNldFNlY29uZHMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZShEQVRFX1RJTUVfV0lUSF9aT05FX09GRlNFVCwgW3V0Y1NlY29uZCwgbmFubywgdGltZVpvbmVPZmZzZXRTZWNvbmRzXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgICAgIHBhY2tzdHJlYW1fMS5zdHJ1Y3R1cmUudmVyaWZ5U3RydWN0U2l6ZSgnRGF0ZVRpbWVXaXRoWm9uZU9mZnNldCcsIERBVEVfVElNRV9XSVRIX1pPTkVfT0ZGU0VUX1NUUlVDVF9TSVpFLCBzdHJ1Y3Quc2l6ZSk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RydWN0LmZpZWxkcywgMyksIHV0Y1NlY29uZCA9IF9hWzBdLCBuYW5vID0gX2FbMV0sIHRpbWVab25lT2Zmc2V0U2Vjb25kcyA9IF9hWzJdO1xuICAgICAgICAgICAgdmFyIGVwb2NoU2Vjb25kID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSh1dGNTZWNvbmQpLmFkZCh0aW1lWm9uZU9mZnNldFNlY29uZHMpO1xuICAgICAgICAgICAgdmFyIGxvY2FsRGF0ZVRpbWUgPSAoMCwgdGVtcG9yYWxfZmFjdG9yeV8xLmVwb2NoU2Vjb25kQW5kTmFub1RvTG9jYWxEYXRlVGltZSkoZXBvY2hTZWNvbmQsIG5hbm8pO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBuZW80al9kcml2ZXJfY29yZV8xLkRhdGVUaW1lKGxvY2FsRGF0ZVRpbWUueWVhciwgbG9jYWxEYXRlVGltZS5tb250aCwgbG9jYWxEYXRlVGltZS5kYXksIGxvY2FsRGF0ZVRpbWUuaG91ciwgbG9jYWxEYXRlVGltZS5taW51dGUsIGxvY2FsRGF0ZVRpbWUuc2Vjb25kLCBsb2NhbERhdGVUaW1lLm5hbm9zZWNvbmQsIHRpbWVab25lT2Zmc2V0U2Vjb25kcywgbnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gY29udmVydEludGVnZXJQcm9wc0lmTmVlZGVkKHJlc3VsdCwgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRJbnRlZ2VyUHJvcHNJZk5lZWRlZChvYmosIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQpIHtcbiAgICBpZiAoIWRpc2FibGVMb3NzbGVzc0ludGVnZXJzICYmICF1c2VCaWdJbnQpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgdmFyIGNvbnZlcnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHVzZUJpZ0ludCA/IHZhbHVlLnRvQmlnSW50KCkgOiB2YWx1ZS50b051bWJlck9ySW5maW5pdHkoKTtcbiAgICB9O1xuICAgIHZhciBjbG9uZSA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpO1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICAgICAgY2xvbmVbcHJvcF0gPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pc0ludCkodmFsdWUpID8gY29udmVydCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuZnJlZXplKGNsb25lKTtcbiAgICByZXR1cm4gY2xvbmU7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgY3JlYXRlRGF0ZVRpbWVXaXRoWm9uZUlkVHJhbnNmb3JtZXI6IGNyZWF0ZURhdGVUaW1lV2l0aFpvbmVJZFRyYW5zZm9ybWVyLFxuICAgIGNyZWF0ZURhdGVUaW1lV2l0aE9mZnNldFRyYW5zZm9ybWVyOiBjcmVhdGVEYXRlVGltZVdpdGhPZmZzZXRUcmFuc2Zvcm1lclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js\"));\nvar bolt_protocol_util_1 = __webpack_require__(/*! ./bolt-protocol-util */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js\");\nvar bolt_protocol_v5x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_1 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_1;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"supportsReAuth\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filters.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplete)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var state = {};\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                state.metadata = metadata;\n                return _this._onLoginCompleted(metadata);\n            }\n        });\n        // passing notification filter on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertNotificationFilterIsEmpty)(notificationFilter, this._onProtocolError, observer);\n        this.write(request_message_1.default.hello5x1(userAgent, this._serversideRouting), observer, false);\n        return this.logon({\n            authToken: authToken,\n            onComplete: function (metadata) { return onComplete(__assign(__assign({}, metadata), state.metadata)); },\n            onError: onError,\n            flush: true\n        });\n    };\n    /**\n     * Performs login of the underlying connection\n     *\n     * @param {Object} args\n     * @param {Object} args.authToken the authentication token.\n     * @param {function(err: Error)} args.onError the callback to invoke on error.\n     * @param {function()} args.onComplete the callback to invoke on completion.\n     * @param {boolean} args.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.logon = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, authToken = _b.authToken, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LoginObserver({\n            onCompleted: function () { return _this._onLoginCompleted(null, authToken, onComplete); },\n            onError: function (error) { return _this._onLoginError(error, onError); }\n        });\n        this.write(request_message_1.default.logon(authToken), observer, flush);\n        return observer;\n    };\n    /**\n     * Performs logoff of the underlying connection\n     *\n     * @param {Object} param\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @param {boolean} param.flush whether to flush the buffered messages.\n     *\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n    */\n    BoltProtocol.prototype.logoff = function (_a) {\n        var _b = _a === void 0 ? {} : _a, onComplete = _b.onComplete, onError = _b.onError, flush = _b.flush;\n        var observer = new stream_observers_1.LogoffObserver({\n            onCompleted: onComplete,\n            onError: onError\n        });\n        this.write(request_message_1.default.logoff(), observer, flush);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x0_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJCQUEyQixtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RCx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0Qsd0NBQXdDLG1CQUFPLENBQUMsd0dBQW1CO0FBQ25FLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLHNCQUFzQjtBQUNyQyxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzQ0FBc0MsZ0NBQWdDO0FBQ3BIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFNBQVM7QUFDeEI7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHVDQUF1Qyw4REFBOEQ7QUFDckcsd0NBQXdDO0FBQ3hDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxzQkFBc0I7QUFDckMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsU0FBUztBQUN4QjtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4MS5qcz9hNzdjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4MF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4MFwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF91dGlsXzEgPSByZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXV0aWxcIik7XG52YXIgYm9sdF9wcm90b2NvbF92NXgxX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgxLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCT0xUX1BST1RPQ09MX1Y1XzEgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5CT0xUX1BST1RPQ09MX1Y1XzE7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y1XzE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NXgxX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwic3VwcG9ydHNSZUF1dGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyBUaGUgcGFyYW1zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ3MudXNlckFnZW50IFRoZSB1c2VyIGFnZW50XG4gICAgICogQHBhcmFtIHthbnl9IGFyZ3MuYXV0aFRva2VuIFRoZSBhdXRoIHRva2VuXG4gICAgICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IGFyZ3Mubm90aWZpY2F0aW9uRmlsdGVyIFRoZSBub3RpZmljYXRpb24gZmlsdGVycy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycm9yKX0gYXJncy5vbkVycm9yIE9uIGVycm9yIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihvbkNvbXBsZXRlKX0gYXJncy5vbkNvbXBsZXRlIE9uIGNvbXBsZXRlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge0xvZ2luT2JzZXJ2ZXJ9IFRoZSBMb2dpbiBvYnNlcnZlclxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdXNlckFnZW50ID0gX2IudXNlckFnZW50LCBib2x0QWdlbnQgPSBfYi5ib2x0QWdlbnQsIGF1dGhUb2tlbiA9IF9iLmF1dGhUb2tlbiwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGU7XG4gICAgICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwYXNzaW5nIG5vdGlmaWNhdGlvbiBmaWx0ZXIgb24gdGhpcyBwcm90b2NvbCB2ZXJzaW9uIHRocm93cyBhbiBlcnJvclxuICAgICAgICAoMCwgYm9sdF9wcm90b2NvbF91dGlsXzEuYXNzZXJ0Tm90aWZpY2F0aW9uRmlsdGVySXNFbXB0eSkobm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9vblByb3RvY29sRXJyb3IsIG9ic2VydmVyKTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmhlbGxvNXgxKHVzZXJBZ2VudCwgdGhpcy5fc2VydmVyc2lkZVJvdXRpbmcpLCBvYnNlcnZlciwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dvbih7XG4gICAgICAgICAgICBhdXRoVG9rZW46IGF1dGhUb2tlbixcbiAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIChtZXRhZGF0YSkgeyByZXR1cm4gb25Db21wbGV0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgbWV0YWRhdGEpLCBzdGF0ZS5tZXRhZGF0YSkpOyB9LFxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcbiAgICAgICAgICAgIGZsdXNoOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgbG9naW4gb2YgdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3NcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncy5hdXRoVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IGFyZ3Mub25FcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gYXJncy5vbkNvbXBsZXRlIHRoZSBjYWxsYmFjayB0byBpbnZva2Ugb24gY29tcGxldGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFyZ3MuZmx1c2ggd2hldGhlciB0byBmbHVzaCB0aGUgYnVmZmVyZWQgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyZWFtT2JzZXJ2ZXJ9IHRoZSBzdHJlYW0gb2JzZXJ2ZXIgdGhhdCBtb25pdG9ycyB0aGUgY29ycmVzcG9uZGluZyBzZXJ2ZXIgcmVzcG9uc2UuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS5sb2dvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYXV0aFRva2VuID0gX2IuYXV0aFRva2VuLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIGZsdXNoID0gX2IuZmx1c2g7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9naW5PYnNlcnZlcih7XG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX29uTG9naW5Db21wbGV0ZWQobnVsbCwgYXV0aFRva2VuLCBvbkNvbXBsZXRlKTsgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuX29uTG9naW5FcnJvcihlcnJvciwgb25FcnJvcik7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5sb2dvbihhdXRoVG9rZW4pLCBvYnNlcnZlciwgZmx1c2gpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBsb2dvZmYgb2YgdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvciB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gcGFyYW0ub25Db21wbGV0ZSB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIG9uIGNvbXBsZXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbS5mbHVzaCB3aGV0aGVyIHRvIGZsdXNoIHRoZSBidWZmZXJlZCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJlYW1PYnNlcnZlcn0gdGhlIHN0cmVhbSBvYnNlcnZlciB0aGF0IG1vbml0b3JzIHRoZSBjb3JyZXNwb25kaW5nIHNlcnZlciByZXNwb25zZS5cbiAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUubG9nb2ZmID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBvbkNvbXBsZXRlID0gX2Iub25Db21wbGV0ZSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIGZsdXNoID0gX2IuZmx1c2g7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBzdHJlYW1fb2JzZXJ2ZXJzXzEuTG9nb2ZmT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25Db21wbGV0ZWQ6IG9uQ29tcGxldGUsXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQubG9nb2ZmKCksIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIHJldHVybiBCb2x0UHJvdG9jb2w7XG59KGJvbHRfcHJvdG9jb2xfdjV4MF8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJvbHRQcm90b2NvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x0_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x0_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDEudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4MS50cmFuc2Zvcm1lci5qcz82YjVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgwX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgwLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y1eDBfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js\"));\nvar bolt_protocol_v5x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V5_2 = _a.BOLT_PROTOCOL_V5_2, FETCH_ALL = _a.FETCH_ALL;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"supportsReAuth\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {string} args.boltAgent The bolt agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filters.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplete)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var state = {};\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                state.metadata = metadata;\n                return _this._onLoginCompleted(metadata);\n            }\n        });\n        this.write(\n        // if useragent is null then for all versions before 5.3 it should be bolt agent by default\n        request_message_1.default.hello5x2(userAgent, notificationFilter, this._serversideRouting), observer, false);\n        return this.logon({\n            authToken: authToken,\n            onComplete: function (metadata) { return onComplete(__assign(__assign({}, metadata), state.metadata)); },\n            onError: onError,\n            flush: true\n        });\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode, impersonatedUser: impersonatedUser, notificationFilter: notificationFilter }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser,\n            notificationFilter: notificationFilter\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x1_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSwyQ0FBMkM7QUFDekw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixlQUFlLG9CQUFvQjtBQUNuQyxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLHNCQUFzQjtBQUNyQyxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLHdDQUF3Qyw2Q0FBNkM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzQ0FBc0MsZ0NBQWdDO0FBQ3BIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxREFBcUQsc0pBQXNKO0FBQzNNO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvYm9sdC1wcm90b2NvbC12NXgyLmpzP2M1YzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgYm9sdF9wcm90b2NvbF92NXgxXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgxXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDJfdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDIudHJhbnNmb3JtZXJcIikpO1xudmFyIHRyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJhbnNmb3JtZXJcIikpO1xudmFyIHJlcXVlc3RfbWVzc2FnZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JlcXVlc3QtbWVzc2FnZVwiKSk7XG52YXIgc3RyZWFtX29ic2VydmVyc18xID0gcmVxdWlyZShcIi4vc3RyZWFtLW9ic2VydmVyc1wiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIF9hID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMsIEJPTFRfUFJPVE9DT0xfVjVfMiA9IF9hLkJPTFRfUFJPVE9DT0xfVjVfMiwgRkVUQ0hfQUxMID0gX2EuRkVUQ0hfQUxMO1xudmFyIEJvbHRQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQm9sdFByb3RvY29sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJvbHRQcm90b2NvbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQk9MVF9QUk9UT0NPTF9WNV8yO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJvbHRQcm90b2NvbC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyID0gbmV3IHRyYW5zZm9ybWVyXzEuZGVmYXVsdChPYmplY3QudmFsdWVzKGJvbHRfcHJvdG9jb2xfdjV4Ml90cmFuc2Zvcm1lcl8xLmRlZmF1bHQpLm1hcChmdW5jdGlvbiAoY3JlYXRlKSB7IHJldHVybiBjcmVhdGUoX3RoaXMuX2NvbmZpZywgX3RoaXMuX2xvZyk7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInN1cHBvcnRzUmVBdXRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBjb25uZWN0aW9uIHdpdGggdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgVGhlIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdzLnVzZXJBZ2VudCBUaGUgdXNlciBhZ2VudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdzLmJvbHRBZ2VudCBUaGUgYm9sdCBhZ2VudFxuICAgICAqIEBwYXJhbSB7YW55fSBhcmdzLmF1dGhUb2tlbiBUaGUgYXV0aCB0b2tlblxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBhcmdzLm5vdGlmaWNhdGlvbkZpbHRlciBUaGUgbm90aWZpY2F0aW9uIGZpbHRlcnMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnJvcil9IGFyZ3Mub25FcnJvciBPbiBlcnJvciBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24ob25Db21wbGV0ZSl9IGFyZ3Mub25Db21wbGV0ZSBPbiBjb21wbGV0ZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtMb2dpbk9ic2VydmVyfSBUaGUgTG9naW4gb2JzZXJ2ZXJcbiAgICAgKi9cbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHVzZXJBZ2VudCA9IF9iLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2IuYm9sdEFnZW50LCBhdXRoVG9rZW4gPSBfYi5hdXRoVG9rZW4sIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGUgPSBfYi5vbkNvbXBsZXRlO1xuICAgICAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5Mb2dpbk9ic2VydmVyKHtcbiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuX29uTG9naW5FcnJvcihlcnJvciwgb25FcnJvcik7IH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlZDogZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX29uTG9naW5Db21wbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cml0ZShcbiAgICAgICAgLy8gaWYgdXNlcmFnZW50IGlzIG51bGwgdGhlbiBmb3IgYWxsIHZlcnNpb25zIGJlZm9yZSA1LjMgaXQgc2hvdWxkIGJlIGJvbHQgYWdlbnQgYnkgZGVmYXVsdFxuICAgICAgICByZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LmhlbGxvNXgyKHVzZXJBZ2VudCwgbm90aWZpY2F0aW9uRmlsdGVyLCB0aGlzLl9zZXJ2ZXJzaWRlUm91dGluZyksIG9ic2VydmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ29uKHtcbiAgICAgICAgICAgIGF1dGhUb2tlbjogYXV0aFRva2VuLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBvbkNvbXBsZXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXRhZGF0YSksIHN0YXRlLm1ldGFkYXRhKSk7IH0sXG4gICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yLFxuICAgICAgICAgICAgZmx1c2g6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCb2x0UHJvdG9jb2wucHJvdG90eXBlLmJlZ2luVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgbW9kZSA9IF9iLm1vZGUsIGltcGVyc29uYXRlZFVzZXIgPSBfYi5pbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXIsIGJlZm9yZUVycm9yID0gX2IuYmVmb3JlRXJyb3IsIGFmdGVyRXJyb3IgPSBfYi5hZnRlckVycm9yLCBiZWZvcmVDb21wbGV0ZSA9IF9iLmJlZm9yZUNvbXBsZXRlLCBhZnRlckNvbXBsZXRlID0gX2IuYWZ0ZXJDb21wbGV0ZTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5SZXN1bHRTdHJlYW1PYnNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBiZWZvcmVFcnJvcixcbiAgICAgICAgICAgIGFmdGVyRXJyb3I6IGFmdGVyRXJyb3IsXG4gICAgICAgICAgICBiZWZvcmVDb21wbGV0ZTogYmVmb3JlQ29tcGxldGUsXG4gICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBhZnRlckNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5wcmVwYXJlVG9IYW5kbGVTaW5nbGVSZXNwb25zZSgpO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQuYmVnaW4oeyBib29rbWFya3M6IGJvb2ttYXJrcywgdHhDb25maWc6IHR4Q29uZmlnLCBkYXRhYmFzZTogZGF0YWJhc2UsIG1vZGU6IG1vZGUsIGltcGVyc29uYXRlZFVzZXI6IGltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlcjogbm90aWZpY2F0aW9uRmlsdGVyIH0pLCBvYnNlcnZlciwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9O1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlciwgYmVmb3JlS2V5cyA9IF9iLmJlZm9yZUtleXMsIGFmdGVyS2V5cyA9IF9iLmFmdGVyS2V5cywgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlLCBfYyA9IF9iLmZsdXNoLCBmbHVzaCA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gX2IucmVhY3RpdmUsIHJlYWN0aXZlID0gX2QgPT09IHZvaWQgMCA/IGZhbHNlIDogX2QsIF9lID0gX2IuZmV0Y2hTaXplLCBmZXRjaFNpemUgPSBfZSA9PT0gdm9pZCAwID8gRkVUQ0hfQUxMIDogX2UsIF9mID0gX2IuaGlnaFJlY29yZFdhdGVybWFyaywgaGlnaFJlY29yZFdhdGVybWFyayA9IF9mID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2YsIF9nID0gX2IubG93UmVjb3JkV2F0ZXJtYXJrLCBsb3dSZWNvcmRXYXRlcm1hcmsgPSBfZyA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9nO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLlJlc3VsdFN0cmVhbU9ic2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcjogdGhpcy5fc2VydmVyLFxuICAgICAgICAgICAgcmVhY3RpdmU6IHJlYWN0aXZlLFxuICAgICAgICAgICAgZmV0Y2hTaXplOiBmZXRjaFNpemUsXG4gICAgICAgICAgICBtb3JlRnVuY3Rpb246IHRoaXMuX3JlcXVlc3RNb3JlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBkaXNjYXJkRnVuY3Rpb246IHRoaXMuX3JlcXVlc3REaXNjYXJkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBiZWZvcmVLZXlzOiBiZWZvcmVLZXlzLFxuICAgICAgICAgICAgYWZ0ZXJLZXlzOiBhZnRlcktleXMsXG4gICAgICAgICAgICBiZWZvcmVFcnJvcjogYmVmb3JlRXJyb3IsXG4gICAgICAgICAgICBhZnRlckVycm9yOiBhZnRlckVycm9yLFxuICAgICAgICAgICAgYmVmb3JlQ29tcGxldGU6IGJlZm9yZUNvbXBsZXRlLFxuICAgICAgICAgICAgYWZ0ZXJDb21wbGV0ZTogYWZ0ZXJDb21wbGV0ZSxcbiAgICAgICAgICAgIGhpZ2hSZWNvcmRXYXRlcm1hcms6IGhpZ2hSZWNvcmRXYXRlcm1hcmssXG4gICAgICAgICAgICBsb3dSZWNvcmRXYXRlcm1hcms6IGxvd1JlY29yZFdhdGVybWFya1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGZsdXNoUnVuID0gcmVhY3RpdmU7XG4gICAgICAgIHRoaXMud3JpdGUocmVxdWVzdF9tZXNzYWdlXzEuZGVmYXVsdC5ydW5XaXRoTWV0YWRhdGEocXVlcnksIHBhcmFtZXRlcnMsIHtcbiAgICAgICAgICAgIGJvb2ttYXJrczogYm9va21hcmtzLFxuICAgICAgICAgICAgdHhDb25maWc6IHR4Q29uZmlnLFxuICAgICAgICAgICAgZGF0YWJhc2U6IGRhdGFiYXNlLFxuICAgICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICAgIGltcGVyc29uYXRlZFVzZXI6IGltcGVyc29uYXRlZFVzZXIsXG4gICAgICAgICAgICBub3RpZmljYXRpb25GaWx0ZXI6IG5vdGlmaWNhdGlvbkZpbHRlclxuICAgICAgICB9KSwgb2JzZXJ2ZXIsIGZsdXNoUnVuICYmIGZsdXNoKTtcbiAgICAgICAgaWYgKCFyZWFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnB1bGwoeyBuOiBmZXRjaFNpemUgfSksIG9ic2VydmVyLCBmbHVzaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NXgxXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x1_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x1_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDIudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4Mi50cmFuc2Zvcm1lci5qcz9iOWM4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgxX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgxLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y1eDFfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js\"));\nvar bolt_protocol_v5x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js\"));\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_3;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} args The params\n     * @param {string} args.userAgent The user agent\n     * @param {any} args.authToken The auth token\n     * @param {NotificationFilter} args.notificationFilter The notification filters.\n     * @param {function(error)} args.onError On error callback\n     * @param {function(onComplete)} args.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, boltAgent = _b.boltAgent, authToken = _b.authToken, notificationFilter = _b.notificationFilter, onError = _b.onError, onComplete = _b.onComplete;\n        var state = {};\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                state.metadata = metadata;\n                return _this._onLoginCompleted(metadata);\n            }\n        });\n        this.write(request_message_1.default.hello5x3(userAgent, boltAgent, notificationFilter, this._serversideRouting), observer, false);\n        return this.logon({\n            authToken: authToken,\n            onComplete: function (metadata) { return onComplete(__assign(__assign({}, metadata), state.metadata)); },\n            onError: onError,\n            flush: true\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x2_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLHVEQUF1RCxtQkFBTyxDQUFDLHNJQUFrQztBQUNqRyxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCx3Q0FBd0MsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbkUseUJBQXlCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSwyQ0FBMkM7QUFDekw7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxLQUFLO0FBQ3BCLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsaUJBQWlCO0FBQ2hDLGVBQWUsc0JBQXNCO0FBQ3JDLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0Esd0NBQXdDLDZDQUE2QztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsc0NBQXNDLGdDQUFnQztBQUNwSDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4My5qcz9iZjYyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4Ml8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4MlwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgzX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgzLnRyYW5zZm9ybWVyXCIpKTtcbnZhciB0cmFuc2Zvcm1lcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3RyYW5zZm9ybWVyXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCT0xUX1BST1RPQ09MX1Y1XzMgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5CT0xUX1BST1RPQ09MX1Y1XzM7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y1XzM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NXgzX3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJncyBUaGUgcGFyYW1zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ3MudXNlckFnZW50IFRoZSB1c2VyIGFnZW50XG4gICAgICogQHBhcmFtIHthbnl9IGFyZ3MuYXV0aFRva2VuIFRoZSBhdXRoIHRva2VuXG4gICAgICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IGFyZ3Mubm90aWZpY2F0aW9uRmlsdGVyIFRoZSBub3RpZmljYXRpb24gZmlsdGVycy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycm9yKX0gYXJncy5vbkVycm9yIE9uIGVycm9yIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihvbkNvbXBsZXRlKX0gYXJncy5vbkNvbXBsZXRlIE9uIGNvbXBsZXRlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge0xvZ2luT2JzZXJ2ZXJ9IFRoZSBMb2dpbiBvYnNlcnZlclxuICAgICAqL1xuICAgIEJvbHRQcm90b2NvbC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdXNlckFnZW50ID0gX2IudXNlckFnZW50LCBib2x0QWdlbnQgPSBfYi5ib2x0QWdlbnQsIGF1dGhUb2tlbiA9IF9iLmF1dGhUb2tlbiwgbm90aWZpY2F0aW9uRmlsdGVyID0gX2Iubm90aWZpY2F0aW9uRmlsdGVyLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGU7XG4gICAgICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgc3RyZWFtX29ic2VydmVyc18xLkxvZ2luT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy5fb25Mb2dpbkVycm9yKGVycm9yLCBvbkVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fb25Mb2dpbkNvbXBsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndyaXRlKHJlcXVlc3RfbWVzc2FnZV8xLmRlZmF1bHQuaGVsbG81eDModXNlckFnZW50LCBib2x0QWdlbnQsIG5vdGlmaWNhdGlvbkZpbHRlciwgdGhpcy5fc2VydmVyc2lkZVJvdXRpbmcpLCBvYnNlcnZlciwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dvbih7XG4gICAgICAgICAgICBhdXRoVG9rZW46IGF1dGhUb2tlbixcbiAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIChtZXRhZGF0YSkgeyByZXR1cm4gb25Db21wbGV0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgbWV0YWRhdGEpLCBzdGF0ZS5tZXRhZGF0YSkpOyB9LFxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcbiAgICAgICAgICAgIGZsdXNoOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEJvbHRQcm90b2NvbDtcbn0oYm9sdF9wcm90b2NvbF92NXgyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQm9sdFByb3RvY29sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x2_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x2_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDMudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4My50cmFuc2Zvcm1lci5qcz80ZmQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgyX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgyLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y1eDJfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v5x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js\"));\nvar bolt_protocol_v5x4_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x4.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js\"));\nvar request_message_1 = __importDefault(__webpack_require__(/*! ./request-message */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\"));\nvar stream_observers_1 = __webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\");\nvar transformer_1 = __importDefault(__webpack_require__(/*! ./transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_PROTOCOL_V5_4 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_4;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x4_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send a TELEMETRY through the underlying connection.\n     *\n     * @param {object} param0 Message params\n     * @param {number} param0.api The API called\n     * @param {object} param1 Configuration and callbacks callbacks\n     * @param {function()} param1.onCompleted Called when completed\n     * @param {function()} param1.onError Called when error\n     * @return {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.telemetry = function (_a, _b) {\n        var api = _a.api;\n        var _c = _b === void 0 ? {} : _b, onError = _c.onError, onCompleted = _c.onCompleted;\n        var observer = new stream_observers_1.TelemetryObserver({ onCompleted: onCompleted, onError: onError });\n        this.write(request_message_1.default.telemetry({ api: api }), observer, false);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v5x3_1.default));\nexports[\"default\"] = BoltProtocol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSx1REFBdUQsbUJBQU8sQ0FBQyxzSUFBa0M7QUFDakcsd0NBQXdDLG1CQUFPLENBQUMsd0dBQW1CO0FBQ25FLHlCQUF5QixtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRCxvQ0FBb0MsbUJBQU8sQ0FBQyxnR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksMkNBQTJDO0FBQ3pMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFlBQVk7QUFDM0IsZUFBZSxZQUFZO0FBQzNCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLGtFQUFrRSw0Q0FBNEM7QUFDOUcseURBQXlELFVBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDQuanM/OGQ2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4M18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4M1wiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXg0X3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXg0LnRyYW5zZm9ybWVyXCIpKTtcbnZhciByZXF1ZXN0X21lc3NhZ2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yZXF1ZXN0LW1lc3NhZ2VcIikpO1xudmFyIHN0cmVhbV9vYnNlcnZlcnNfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1vYnNlcnZlcnNcIik7XG52YXIgdHJhbnNmb3JtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi90cmFuc2Zvcm1lclwiKSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCT0xUX1BST1RPQ09MX1Y1XzQgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5CT0xUX1BST1RPQ09MX1Y1XzQ7XG52YXIgQm9sdFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb2x0UHJvdG9jb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9sdFByb3RvY29sKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb2x0UHJvdG9jb2wucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCT0xUX1BST1RPQ09MX1Y1XzQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9sdFByb3RvY29sLnByb3RvdHlwZSwgXCJ0cmFuc2Zvcm1lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtZXIgPSBuZXcgdHJhbnNmb3JtZXJfMS5kZWZhdWx0KE9iamVjdC52YWx1ZXMoYm9sdF9wcm90b2NvbF92NXg0X3RyYW5zZm9ybWVyXzEuZGVmYXVsdCkubWFwKGZ1bmN0aW9uIChjcmVhdGUpIHsgcmV0dXJuIGNyZWF0ZShfdGhpcy5fY29uZmlnLCBfdGhpcy5fbG9nKTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2VuZCBhIFRFTEVNRVRSWSB0aHJvdWdoIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW0wIE1lc3NhZ2UgcGFyYW1zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtMC5hcGkgVGhlIEFQSSBjYWxsZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW0xIENvbmZpZ3VyYXRpb24gYW5kIGNhbGxiYWNrcyBjYWxsYmFja3NcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtMS5vbkNvbXBsZXRlZCBDYWxsZWQgd2hlbiBjb21wbGV0ZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IHBhcmFtMS5vbkVycm9yIENhbGxlZCB3aGVuIGVycm9yXG4gICAgICogQHJldHVybiB7U3RyZWFtT2JzZXJ2ZXJ9IHRoZSBzdHJlYW0gb2JzZXJ2ZXIgdGhhdCBtb25pdG9ycyB0aGUgY29ycmVzcG9uZGluZyBzZXJ2ZXIgcmVzcG9uc2UuXG4gICAgICovXG4gICAgQm9sdFByb3RvY29sLnByb3RvdHlwZS50ZWxlbWV0cnkgPSBmdW5jdGlvbiAoX2EsIF9iKSB7XG4gICAgICAgIHZhciBhcGkgPSBfYS5hcGk7XG4gICAgICAgIHZhciBfYyA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iLCBvbkVycm9yID0gX2Mub25FcnJvciwgb25Db21wbGV0ZWQgPSBfYy5vbkNvbXBsZXRlZDtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IHN0cmVhbV9vYnNlcnZlcnNfMS5UZWxlbWV0cnlPYnNlcnZlcih7IG9uQ29tcGxldGVkOiBvbkNvbXBsZXRlZCwgb25FcnJvcjogb25FcnJvciB9KTtcbiAgICAgICAgdGhpcy53cml0ZShyZXF1ZXN0X21lc3NhZ2VfMS5kZWZhdWx0LnRlbGVtZXRyeSh7IGFwaTogYXBpIH0pLCBvYnNlcnZlciwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfTtcbiAgICByZXR1cm4gQm9sdFByb3RvY29sO1xufShib2x0X3Byb3RvY29sX3Y1eDNfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2x0UHJvdG9jb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar bolt_protocol_v5x3_transformer_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3.transformer */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.transformer.js\"));\nexports[\"default\"] = __assign({}, bolt_protocol_v5x3_transformer_1.default);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9ib2x0LXByb3RvY29sLXY1eDQudHJhbnNmb3JtZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdURBQXVELG1CQUFPLENBQUMsc0lBQWtDO0FBQ2pHLGtCQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L2JvbHQtcHJvdG9jb2wtdjV4NC50cmFuc2Zvcm1lci5qcz8xYjNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgzX3RyYW5zZm9ybWVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgzLnRyYW5zZm9ybWVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBib2x0X3Byb3RvY29sX3Y1eDNfdHJhbnNmb3JtZXJfMS5kZWZhdWx0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js":
/*!**********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar bolt_protocol_v1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js\"));\nvar bolt_protocol_v2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js\"));\nvar bolt_protocol_v3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js\"));\nvar bolt_protocol_v4x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js\"));\nvar bolt_protocol_v4x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js\"));\nvar bolt_protocol_v4x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js\"));\nvar bolt_protocol_v4x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\"));\nvar bolt_protocol_v4x4_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x4 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js\"));\nvar bolt_protocol_v5x0_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x0 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js\"));\nvar bolt_protocol_v5x1_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x1.js\"));\nvar bolt_protocol_v5x2_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x2.js\"));\nvar bolt_protocol_v5x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x3.js\"));\nvar bolt_protocol_v5x4_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v5x4 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x4.js\"));\n// eslint-disable-next-line no-unused-vars\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar response_handler_1 = __importDefault(__webpack_require__(/*! ./response-handler */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js\"));\n/**\n * Creates a protocol with a given version\n *\n * @param {object} config\n * @param {number} config.version The version of the protocol\n * @param {channel} config.channel The channel\n * @param {Chunker} config.chunker The chunker\n * @param {Dechunker} config.dechunker The dechunker\n * @param {Logger} config.log The logger\n * @param {ResponseHandler~Observer} config.observer Observer\n * @param {boolean} config.disableLosslessIntegers Disable the lossless integers\n * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n * @param {boolean} config.serversideRouting It's using server side routing\n */\nfunction create(_a) {\n    var _b = _a === void 0 ? {} : _a, version = _b.version, chunker = _b.chunker, dechunker = _b.dechunker, channel = _b.channel, disableLosslessIntegers = _b.disableLosslessIntegers, useBigInt = _b.useBigInt, serversideRouting = _b.serversideRouting, server = _b.server, // server info\n    log = _b.log, observer = _b.observer;\n    var createResponseHandler = function (protocol) {\n        var responseHandler = new response_handler_1.default({\n            transformMetadata: protocol.transformMetadata.bind(protocol),\n            log: log,\n            observer: observer\n        });\n        // reset the error handler to just handle errors and forget about the handshake promise\n        channel.onerror = observer.onError.bind(observer);\n        // Ok, protocol running. Simply forward all messages to the dechunker\n        channel.onmessage = function (buf) { return dechunker.write(buf); };\n        // setup dechunker to dechunk messages and forward them to the message handler\n        dechunker.onmessage = function (buf) {\n            try {\n                responseHandler.handleResponse(protocol.unpack(buf));\n            }\n            catch (e) {\n                return observer.onError(e);\n            }\n        };\n        return responseHandler;\n    };\n    return createProtocol(version, server, chunker, { disableLosslessIntegers: disableLosslessIntegers, useBigInt: useBigInt }, serversideRouting, createResponseHandler, observer.onProtocolError.bind(observer), log);\n}\nexports[\"default\"] = create;\nfunction createProtocol(version, server, chunker, packingConfig, serversideRouting, createResponseHandler, onProtocolError, log) {\n    switch (version) {\n        case 1:\n            return new bolt_protocol_v1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 2:\n            return new bolt_protocol_v2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 3:\n            return new bolt_protocol_v3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 4.0:\n            return new bolt_protocol_v4x0_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 4.1:\n            return new bolt_protocol_v4x1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.2:\n            return new bolt_protocol_v4x2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.3:\n            return new bolt_protocol_v4x3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.4:\n            return new bolt_protocol_v4x4_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.0:\n            return new bolt_protocol_v5x0_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.1:\n            return new bolt_protocol_v5x1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.2:\n            return new bolt_protocol_v5x2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.3:\n            return new bolt_protocol_v5x3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.4:\n            return new bolt_protocol_v5x4_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        default:\n            throw (0, neo4j_driver_core_1.newError)('Unknown Bolt protocol version: ' + version);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9jcmVhdGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCx5Q0FBeUMsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckUseUNBQXlDLG1CQUFPLENBQUMsMEdBQW9CO0FBQ3JFLHlDQUF5QyxtQkFBTyxDQUFDLDBHQUFvQjtBQUNyRSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekUsMkNBQTJDLG1CQUFPLENBQUMsOEdBQXNCO0FBQ3pFLDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwyQ0FBMkMsbUJBQU8sQ0FBQyw4R0FBc0I7QUFDekU7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQywwRkFBWTtBQUNwQyx5Q0FBeUMsbUJBQU8sQ0FBQywwR0FBb0I7QUFDckU7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsV0FBVztBQUN0QixXQUFXLFFBQVE7QUFDbkIsV0FBVywwQkFBMEI7QUFDckMsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsd0VBQXdFO0FBQzlIO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9jcmVhdGUuanM/YzdmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBib2x0X3Byb3RvY29sX3YxXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12MVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92Ml8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjJcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXYzXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDBfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDBcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4MV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4MVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NHgyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgyXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y0eDNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY0eDNcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjR4NF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjR4NFwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgwXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgwXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDFcIikpO1xudmFyIGJvbHRfcHJvdG9jb2xfdjV4Ml8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvbHQtcHJvdG9jb2wtdjV4MlwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NXgzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NXgzXCIpKTtcbnZhciBib2x0X3Byb3RvY29sX3Y1eDRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ib2x0LXByb3RvY29sLXY1eDRcIikpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG52YXIgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4uL2NoYW5uZWxcIik7XG52YXIgcmVzcG9uc2VfaGFuZGxlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3Jlc3BvbnNlLWhhbmRsZXJcIikpO1xuLyoqXG4gKiBDcmVhdGVzIGEgcHJvdG9jb2wgd2l0aCBhIGdpdmVuIHZlcnNpb25cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge251bWJlcn0gY29uZmlnLnZlcnNpb24gVGhlIHZlcnNpb24gb2YgdGhlIHByb3RvY29sXG4gKiBAcGFyYW0ge2NoYW5uZWx9IGNvbmZpZy5jaGFubmVsIFRoZSBjaGFubmVsXG4gKiBAcGFyYW0ge0NodW5rZXJ9IGNvbmZpZy5jaHVua2VyIFRoZSBjaHVua2VyXG4gKiBAcGFyYW0ge0RlY2h1bmtlcn0gY29uZmlnLmRlY2h1bmtlciBUaGUgZGVjaHVua2VyXG4gKiBAcGFyYW0ge0xvZ2dlcn0gY29uZmlnLmxvZyBUaGUgbG9nZ2VyXG4gKiBAcGFyYW0ge1Jlc3BvbnNlSGFuZGxlcn5PYnNlcnZlcn0gY29uZmlnLm9ic2VydmVyIE9ic2VydmVyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNvbmZpZy5kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyBEaXNhYmxlIHRoZSBsb3NzbGVzcyBpbnRlZ2Vyc1xuICogQHBhcmFtIHtib29sZWFufSBwYWNrc3RyZWFtQ29uZmlnLnVzZUJpZ0ludCBpZiB0aGlzIGNvbm5lY3Rpb24gc2hvdWxkIGNvbnZlcnQgYWxsIHJlY2VpdmVkIGludGVnZXJzIHRvIG5hdGl2ZSBCaWdJbnQgbnVtYmVycy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY29uZmlnLnNlcnZlcnNpZGVSb3V0aW5nIEl0J3MgdXNpbmcgc2VydmVyIHNpZGUgcm91dGluZ1xuICovXG5mdW5jdGlvbiBjcmVhdGUoX2EpIHtcbiAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdmVyc2lvbiA9IF9iLnZlcnNpb24sIGNodW5rZXIgPSBfYi5jaHVua2VyLCBkZWNodW5rZXIgPSBfYi5kZWNodW5rZXIsIGNoYW5uZWwgPSBfYi5jaGFubmVsLCBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IF9iLmRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQgPSBfYi51c2VCaWdJbnQsIHNlcnZlcnNpZGVSb3V0aW5nID0gX2Iuc2VydmVyc2lkZVJvdXRpbmcsIHNlcnZlciA9IF9iLnNlcnZlciwgLy8gc2VydmVyIGluZm9cbiAgICBsb2cgPSBfYi5sb2csIG9ic2VydmVyID0gX2Iub2JzZXJ2ZXI7XG4gICAgdmFyIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChwcm90b2NvbCkge1xuICAgICAgICB2YXIgcmVzcG9uc2VIYW5kbGVyID0gbmV3IHJlc3BvbnNlX2hhbmRsZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIHRyYW5zZm9ybU1ldGFkYXRhOiBwcm90b2NvbC50cmFuc2Zvcm1NZXRhZGF0YS5iaW5kKHByb3RvY29sKSxcbiAgICAgICAgICAgIGxvZzogbG9nLFxuICAgICAgICAgICAgb2JzZXJ2ZXI6IG9ic2VydmVyXG4gICAgICAgIH0pO1xuICAgICAgICAvLyByZXNldCB0aGUgZXJyb3IgaGFuZGxlciB0byBqdXN0IGhhbmRsZSBlcnJvcnMgYW5kIGZvcmdldCBhYm91dCB0aGUgaGFuZHNoYWtlIHByb21pc2VcbiAgICAgICAgY2hhbm5lbC5vbmVycm9yID0gb2JzZXJ2ZXIub25FcnJvci5iaW5kKG9ic2VydmVyKTtcbiAgICAgICAgLy8gT2ssIHByb3RvY29sIHJ1bm5pbmcuIFNpbXBseSBmb3J3YXJkIGFsbCBtZXNzYWdlcyB0byB0aGUgZGVjaHVua2VyXG4gICAgICAgIGNoYW5uZWwub25tZXNzYWdlID0gZnVuY3Rpb24gKGJ1ZikgeyByZXR1cm4gZGVjaHVua2VyLndyaXRlKGJ1Zik7IH07XG4gICAgICAgIC8vIHNldHVwIGRlY2h1bmtlciB0byBkZWNodW5rIG1lc3NhZ2VzIGFuZCBmb3J3YXJkIHRoZW0gdG8gdGhlIG1lc3NhZ2UgaGFuZGxlclxuICAgICAgICBkZWNodW5rZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXNwb25zZUhhbmRsZXIuaGFuZGxlUmVzcG9uc2UocHJvdG9jb2wudW5wYWNrKGJ1ZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIub25FcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlSGFuZGxlcjtcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVQcm90b2NvbCh2ZXJzaW9uLCBzZXJ2ZXIsIGNodW5rZXIsIHsgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnM6IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCB1c2VCaWdJbnQ6IHVzZUJpZ0ludCB9LCBzZXJ2ZXJzaWRlUm91dGluZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBvYnNlcnZlci5vblByb3RvY29sRXJyb3IuYmluZChvYnNlcnZlciksIGxvZyk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGU7XG5mdW5jdGlvbiBjcmVhdGVQcm90b2NvbCh2ZXJzaW9uLCBzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIHNlcnZlcnNpZGVSb3V0aW5nLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIG9uUHJvdG9jb2xFcnJvciwgbG9nKSB7XG4gICAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92MV8xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yKTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3YyXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IpO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjNfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvcik7XG4gICAgICAgIGNhc2UgNC4wOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y0eDBfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvcik7XG4gICAgICAgIGNhc2UgNC4xOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y0eDFfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBjYXNlIDQuMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92NHgyXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKTtcbiAgICAgICAgY2FzZSA0LjM6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjR4M18xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yLCBzZXJ2ZXJzaWRlUm91dGluZyk7XG4gICAgICAgIGNhc2UgNC40OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y0eDRfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBjYXNlIDUuMDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92NXgwXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKTtcbiAgICAgICAgY2FzZSA1LjE6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjV4MV8xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yLCBzZXJ2ZXJzaWRlUm91dGluZyk7XG4gICAgICAgIGNhc2UgNS4yOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBib2x0X3Byb3RvY29sX3Y1eDJfMS5kZWZhdWx0KHNlcnZlciwgY2h1bmtlciwgcGFja2luZ0NvbmZpZywgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLCBsb2csIG9uUHJvdG9jb2xFcnJvciwgc2VydmVyc2lkZVJvdXRpbmcpO1xuICAgICAgICBjYXNlIDUuMzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm9sdF9wcm90b2NvbF92NXgzXzEuZGVmYXVsdChzZXJ2ZXIsIGNodW5rZXIsIHBhY2tpbmdDb25maWcsIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciwgbG9nLCBvblByb3RvY29sRXJyb3IsIHNlcnZlcnNpZGVSb3V0aW5nKTtcbiAgICAgICAgY2FzZSA1LjQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJvbHRfcHJvdG9jb2xfdjV4NF8xLmRlZmF1bHQoc2VydmVyLCBjaHVua2VyLCBwYWNraW5nQ29uZmlnLCBjcmVhdGVSZXNwb25zZUhhbmRsZXIsIGxvZywgb25Qcm90b2NvbEVycm9yLCBzZXJ2ZXJzaWRlUm91dGluZyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1Vua25vd24gQm9sdCBwcm90b2NvbCB2ZXJzaW9uOiAnICsgdmVyc2lvbik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js":
/*!*************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BOLT_MAGIC_PREAMBLE = 0x6060b017;\nfunction version(major, minor) {\n    return {\n        major: major,\n        minor: minor\n    };\n}\nfunction createHandshakeMessage(versions) {\n    if (versions.length > 4) {\n        throw (0, neo4j_driver_core_1.newError)('It should not have more than 4 versions of the protocol');\n    }\n    var handshakeBuffer = (0, channel_1.alloc)(5 * 4);\n    handshakeBuffer.writeInt32(BOLT_MAGIC_PREAMBLE);\n    versions.forEach(function (version) {\n        if (version instanceof Array) {\n            var _a = version[0], major = _a.major, minor = _a.minor;\n            var minMinor = version[1].minor;\n            var range = minor - minMinor;\n            handshakeBuffer.writeInt32((range << 16) | (minor << 8) | major);\n        }\n        else {\n            var major = version.major, minor = version.minor;\n            handshakeBuffer.writeInt32((minor << 8) | major);\n        }\n    });\n    handshakeBuffer.reset();\n    return handshakeBuffer;\n}\nfunction parseNegotiatedResponse(buffer, log) {\n    var h = [\n        buffer.readUInt8(),\n        buffer.readUInt8(),\n        buffer.readUInt8(),\n        buffer.readUInt8()\n    ];\n    if (h[0] === 0x48 && h[1] === 0x54 && h[2] === 0x54 && h[3] === 0x50) {\n        log.error('Handshake failed since server responded with HTTP.');\n        throw (0, neo4j_driver_core_1.newError)('Server responded HTTP. Make sure you are not trying to connect to the http endpoint ' +\n            '(HTTP defaults to port 7474 whereas BOLT defaults to port 7687)');\n    }\n    return Number(h[3] + '.' + h[2]);\n}\n/**\n * @return {BaseBuffer}\n * @private\n */\nfunction newHandshakeBuffer() {\n    return createHandshakeMessage([\n        [version(5, 4), version(5, 0)],\n        [version(4, 4), version(4, 2)],\n        version(4, 1),\n        version(3, 0)\n    ]);\n}\n/**\n * This callback is displayed as a global member.\n * @callback BufferConsumerCallback\n * @param {buffer} buffer the remaining buffer\n */\n/**\n * @typedef HandshakeResult\n * @property {number} protocolVersion The protocol version negotiated in the handshake\n * @property {function(BufferConsumerCallback)} consumeRemainingBuffer A function to consume the remaining buffer if it exists\n */\n/**\n * Shake hands using the channel and return the protocol version\n *\n * @param {Channel} channel the channel use to shake hands\n * @param {Logger} log the log object\n * @returns {Promise<HandshakeResult>} Promise of protocol version and consumeRemainingBuffer\n */\nfunction handshake(channel, log) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n        var handshakeErrorHandler = function (error) {\n            reject(error);\n        };\n        channel.onerror = handshakeErrorHandler.bind(_this);\n        if (channel._error) {\n            handshakeErrorHandler(channel._error);\n        }\n        channel.onmessage = function (buffer) {\n            try {\n                // read the response buffer and initialize the protocol\n                var protocolVersion = parseNegotiatedResponse(buffer, log);\n                resolve({\n                    protocolVersion: protocolVersion,\n                    consumeRemainingBuffer: function (consumer) {\n                        if (buffer.hasRemaining()) {\n                            consumer(buffer.readSlice(buffer.remaining()));\n                        }\n                    }\n                });\n            }\n            catch (e) {\n                reject(e);\n            }\n        };\n        channel.write(newHandshakeBuffer());\n    });\n}\nexports[\"default\"] = handshake;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9oYW5kc2hha2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQywwRkFBWTtBQUNwQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxrQ0FBa0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsMEJBQTBCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9oYW5kc2hha2UuanM/ZjFlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4uL2NoYW5uZWxcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBCT0xUX01BR0lDX1BSRUFNQkxFID0gMHg2MDYwYjAxNztcbmZ1bmN0aW9uIHZlcnNpb24obWFqb3IsIG1pbm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWFqb3I6IG1ham9yLFxuICAgICAgICBtaW5vcjogbWlub3JcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSGFuZHNoYWtlTWVzc2FnZSh2ZXJzaW9ucykge1xuICAgIGlmICh2ZXJzaW9ucy5sZW5ndGggPiA0KSB7XG4gICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnSXQgc2hvdWxkIG5vdCBoYXZlIG1vcmUgdGhhbiA0IHZlcnNpb25zIG9mIHRoZSBwcm90b2NvbCcpO1xuICAgIH1cbiAgICB2YXIgaGFuZHNoYWtlQnVmZmVyID0gKDAsIGNoYW5uZWxfMS5hbGxvYykoNSAqIDQpO1xuICAgIGhhbmRzaGFrZUJ1ZmZlci53cml0ZUludDMyKEJPTFRfTUFHSUNfUFJFQU1CTEUpO1xuICAgIHZlcnNpb25zLmZvckVhY2goZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgaWYgKHZlcnNpb24gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdmFyIF9hID0gdmVyc2lvblswXSwgbWFqb3IgPSBfYS5tYWpvciwgbWlub3IgPSBfYS5taW5vcjtcbiAgICAgICAgICAgIHZhciBtaW5NaW5vciA9IHZlcnNpb25bMV0ubWlub3I7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBtaW5vciAtIG1pbk1pbm9yO1xuICAgICAgICAgICAgaGFuZHNoYWtlQnVmZmVyLndyaXRlSW50MzIoKHJhbmdlIDw8IDE2KSB8IChtaW5vciA8PCA4KSB8IG1ham9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtYWpvciA9IHZlcnNpb24ubWFqb3IsIG1pbm9yID0gdmVyc2lvbi5taW5vcjtcbiAgICAgICAgICAgIGhhbmRzaGFrZUJ1ZmZlci53cml0ZUludDMyKChtaW5vciA8PCA4KSB8IG1ham9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGhhbmRzaGFrZUJ1ZmZlci5yZXNldCgpO1xuICAgIHJldHVybiBoYW5kc2hha2VCdWZmZXI7XG59XG5mdW5jdGlvbiBwYXJzZU5lZ290aWF0ZWRSZXNwb25zZShidWZmZXIsIGxvZykge1xuICAgIHZhciBoID0gW1xuICAgICAgICBidWZmZXIucmVhZFVJbnQ4KCksXG4gICAgICAgIGJ1ZmZlci5yZWFkVUludDgoKSxcbiAgICAgICAgYnVmZmVyLnJlYWRVSW50OCgpLFxuICAgICAgICBidWZmZXIucmVhZFVJbnQ4KClcbiAgICBdO1xuICAgIGlmIChoWzBdID09PSAweDQ4ICYmIGhbMV0gPT09IDB4NTQgJiYgaFsyXSA9PT0gMHg1NCAmJiBoWzNdID09PSAweDUwKSB7XG4gICAgICAgIGxvZy5lcnJvcignSGFuZHNoYWtlIGZhaWxlZCBzaW5jZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggSFRUUC4nKTtcbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdTZXJ2ZXIgcmVzcG9uZGVkIEhUVFAuIE1ha2Ugc3VyZSB5b3UgYXJlIG5vdCB0cnlpbmcgdG8gY29ubmVjdCB0byB0aGUgaHR0cCBlbmRwb2ludCAnICtcbiAgICAgICAgICAgICcoSFRUUCBkZWZhdWx0cyB0byBwb3J0IDc0NzQgd2hlcmVhcyBCT0xUIGRlZmF1bHRzIHRvIHBvcnQgNzY4NyknKTtcbiAgICB9XG4gICAgcmV0dXJuIE51bWJlcihoWzNdICsgJy4nICsgaFsyXSk7XG59XG4vKipcbiAqIEByZXR1cm4ge0Jhc2VCdWZmZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBuZXdIYW5kc2hha2VCdWZmZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUhhbmRzaGFrZU1lc3NhZ2UoW1xuICAgICAgICBbdmVyc2lvbig1LCA0KSwgdmVyc2lvbig1LCAwKV0sXG4gICAgICAgIFt2ZXJzaW9uKDQsIDQpLCB2ZXJzaW9uKDQsIDIpXSxcbiAgICAgICAgdmVyc2lvbig0LCAxKSxcbiAgICAgICAgdmVyc2lvbigzLCAwKVxuICAgIF0pO1xufVxuLyoqXG4gKiBUaGlzIGNhbGxiYWNrIGlzIGRpc3BsYXllZCBhcyBhIGdsb2JhbCBtZW1iZXIuXG4gKiBAY2FsbGJhY2sgQnVmZmVyQ29uc3VtZXJDYWxsYmFja1xuICogQHBhcmFtIHtidWZmZXJ9IGJ1ZmZlciB0aGUgcmVtYWluaW5nIGJ1ZmZlclxuICovXG4vKipcbiAqIEB0eXBlZGVmIEhhbmRzaGFrZVJlc3VsdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHByb3RvY29sVmVyc2lvbiBUaGUgcHJvdG9jb2wgdmVyc2lvbiBuZWdvdGlhdGVkIGluIHRoZSBoYW5kc2hha2VcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oQnVmZmVyQ29uc3VtZXJDYWxsYmFjayl9IGNvbnN1bWVSZW1haW5pbmdCdWZmZXIgQSBmdW5jdGlvbiB0byBjb25zdW1lIHRoZSByZW1haW5pbmcgYnVmZmVyIGlmIGl0IGV4aXN0c1xuICovXG4vKipcbiAqIFNoYWtlIGhhbmRzIHVzaW5nIHRoZSBjaGFubmVsIGFuZCByZXR1cm4gdGhlIHByb3RvY29sIHZlcnNpb25cbiAqXG4gKiBAcGFyYW0ge0NoYW5uZWx9IGNoYW5uZWwgdGhlIGNoYW5uZWwgdXNlIHRvIHNoYWtlIGhhbmRzXG4gKiBAcGFyYW0ge0xvZ2dlcn0gbG9nIHRoZSBsb2cgb2JqZWN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZTxIYW5kc2hha2VSZXN1bHQ+fSBQcm9taXNlIG9mIHByb3RvY29sIHZlcnNpb24gYW5kIGNvbnN1bWVSZW1haW5pbmdCdWZmZXJcbiAqL1xuZnVuY3Rpb24gaGFuZHNoYWtlKGNoYW5uZWwsIGxvZykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGhhbmRzaGFrZUVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2hhbm5lbC5vbmVycm9yID0gaGFuZHNoYWtlRXJyb3JIYW5kbGVyLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAoY2hhbm5lbC5fZXJyb3IpIHtcbiAgICAgICAgICAgIGhhbmRzaGFrZUVycm9ySGFuZGxlcihjaGFubmVsLl9lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbm5lbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIHJlYWQgdGhlIHJlc3BvbnNlIGJ1ZmZlciBhbmQgaW5pdGlhbGl6ZSB0aGUgcHJvdG9jb2xcbiAgICAgICAgICAgICAgICB2YXIgcHJvdG9jb2xWZXJzaW9uID0gcGFyc2VOZWdvdGlhdGVkUmVzcG9uc2UoYnVmZmVyLCBsb2cpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBwcm90b2NvbFZlcnNpb246IHByb3RvY29sVmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgY29uc3VtZVJlbWFpbmluZ0J1ZmZlcjogZnVuY3Rpb24gKGNvbnN1bWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmhhc1JlbWFpbmluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3VtZXIoYnVmZmVyLnJlYWRTbGljZShidWZmZXIucmVtYWluaW5nKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNoYW5uZWwud3JpdGUobmV3SGFuZHNoYWtlQnVmZmVyKCkpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gaGFuZHNoYWtlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RawRoutingTable = exports.BoltProtocol = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar handshake_1 = __importDefault(__webpack_require__(/*! ./handshake */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js\"));\nvar create_1 = __importDefault(__webpack_require__(/*! ./create */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js\"));\nvar bolt_protocol_v4x3_1 = __importDefault(__webpack_require__(/*! ./bolt-protocol-v4x3 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js\"));\nvar routing_table_raw_1 = __importDefault(__webpack_require__(/*! ./routing-table-raw */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js\"));\n__exportStar(__webpack_require__(/*! ./stream-observers */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\"), exports);\nexports.BoltProtocol = bolt_protocol_v4x3_1.default;\nexports.RawRoutingTable = routing_table_raw_1.default;\nexports[\"default\"] = {\n    handshake: handshake_1.default,\n    create: create_1.default\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLG9CQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLDRGQUFhO0FBQ3ZELCtCQUErQixtQkFBTyxDQUFDLHNGQUFVO0FBQ2pELDJDQUEyQyxtQkFBTyxDQUFDLDhHQUFzQjtBQUN6RSwwQ0FBMEMsbUJBQU8sQ0FBQyw0R0FBcUI7QUFDdkUsYUFBYSxtQkFBTyxDQUFDLDBHQUFvQjtBQUN6QyxvQkFBb0I7QUFDcEIsdUJBQXVCO0FBQ3ZCLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9pbmRleC5qcz9lOTU0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJhd1JvdXRpbmdUYWJsZSA9IGV4cG9ydHMuQm9sdFByb3RvY29sID0gdm9pZCAwO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBoYW5kc2hha2VfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9oYW5kc2hha2VcIikpO1xudmFyIGNyZWF0ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NyZWF0ZVwiKSk7XG52YXIgYm9sdF9wcm90b2NvbF92NHgzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYm9sdC1wcm90b2NvbC12NHgzXCIpKTtcbnZhciByb3V0aW5nX3RhYmxlX3Jhd18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JvdXRpbmctdGFibGUtcmF3XCIpKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zdHJlYW0tb2JzZXJ2ZXJzXCIpLCBleHBvcnRzKTtcbmV4cG9ydHMuQm9sdFByb3RvY29sID0gYm9sdF9wcm90b2NvbF92NHgzXzEuZGVmYXVsdDtcbmV4cG9ydHMuUmF3Um91dGluZ1RhYmxlID0gcm91dGluZ190YWJsZV9yYXdfMS5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIGhhbmRzaGFrZTogaGFuZHNoYWtlXzEuZGVmYXVsdCxcbiAgICBjcmVhdGU6IGNyZWF0ZV8xLmRlZmF1bHRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SIGNATURES = void 0;\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, ACCESS_MODE_READ = _a.ACCESS_MODE_READ, FETCH_ALL = _a.FETCH_ALL, assertString = neo4j_driver_core_1.internal.util.assertString;\n/* eslint-disable no-unused-vars */\n// Signature bytes for each request message type\nvar INIT = 0x01; // 0000 0001 // INIT <user_agent> <authentication_token>\nvar ACK_FAILURE = 0x0e; // 0000 1110 // ACK_FAILURE - unused\nvar RESET = 0x0f; // 0000 1111 // RESET\nvar RUN = 0x10; // 0001 0000 // RUN <query> <parameters>\nvar DISCARD_ALL = 0x2f; // 0010 1111 // DISCARD_ALL - unused\nvar PULL_ALL = 0x3f; // 0011 1111 // PULL_ALL\nvar HELLO = 0x01; // 0000 0001 // HELLO <metadata>\nvar GOODBYE = 0x02; // 0000 0010 // GOODBYE\nvar BEGIN = 0x11; // 0001 0001 // BEGIN <metadata>\nvar COMMIT = 0x12; // 0001 0010 // COMMIT\nvar ROLLBACK = 0x13; // 0001 0011 // ROLLBACK\nvar TELEMETRY = 0x54; // 0101 0100 // TELEMETRY <api>\nvar ROUTE = 0x66; // 0110 0110 // ROUTE\nvar LOGON = 0x6A; // LOGON\nvar LOGOFF = 0x6B; // LOGOFF\nvar DISCARD = 0x2f; // 0010 1111 // DISCARD\nvar PULL = 0x3f; // 0011 1111 // PULL\nvar READ_MODE = 'r';\n/* eslint-enable no-unused-vars */\nvar NO_STATEMENT_ID = -1;\nvar SIGNATURES = Object.freeze({\n    INIT: INIT,\n    RESET: RESET,\n    RUN: RUN,\n    PULL_ALL: PULL_ALL,\n    HELLO: HELLO,\n    GOODBYE: GOODBYE,\n    BEGIN: BEGIN,\n    COMMIT: COMMIT,\n    ROLLBACK: ROLLBACK,\n    TELEMETRY: TELEMETRY,\n    ROUTE: ROUTE,\n    LOGON: LOGON,\n    LOGOFF: LOGOFF,\n    DISCARD: DISCARD,\n    PULL: PULL\n});\nexports.SIGNATURES = SIGNATURES;\nvar RequestMessage = /** @class */ (function () {\n    function RequestMessage(signature, fields, toString) {\n        this.signature = signature;\n        this.fields = fields;\n        this.toString = toString;\n    }\n    /**\n     * Create a new INIT message.\n     * @param {string} clientName the client name.\n     * @param {Object} authToken the authentication token.\n     * @return {RequestMessage} new INIT message.\n     */\n    RequestMessage.init = function (clientName, authToken) {\n        return new RequestMessage(INIT, [clientName, authToken], function () { return \"INIT \".concat(clientName, \" {...}\"); });\n    };\n    /**\n     * Create a new RUN message.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @return {RequestMessage} new RUN message.\n     */\n    RequestMessage.run = function (query, parameters) {\n        return new RequestMessage(RUN, [query, parameters], function () { return \"RUN \".concat(query, \" \").concat(neo4j_driver_core_1.json.stringify(parameters)); });\n    };\n    /**\n     * Get a PULL_ALL message.\n     * @return {RequestMessage} the PULL_ALL message.\n     */\n    RequestMessage.pullAll = function () {\n        return PULL_ALL_MESSAGE;\n    };\n    /**\n     * Get a RESET message.\n     * @return {RequestMessage} the RESET message.\n     */\n    RequestMessage.reset = function () {\n        return RESET_MESSAGE;\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {Object} authToken the authentication token.\n     * @param {Object} optional server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello = function (userAgent, authToken, routing, patchs) {\n        if (routing === void 0) { routing = null; }\n        if (patchs === void 0) { patchs = null; }\n        var metadata = Object.assign({ user_agent: userAgent }, authToken);\n        if (routing) {\n            metadata.routing = routing;\n        }\n        if (patchs) {\n            metadata.patch_bolt = patchs;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO {user_agent: '\".concat(userAgent, \"', ...}\"); });\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {Object} optional server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello5x1 = function (userAgent, routing) {\n        if (routing === void 0) { routing = null; }\n        var metadata = { user_agent: userAgent };\n        if (routing) {\n            metadata.routing = routing;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO {user_agent: '\".concat(userAgent, \"', ...}\"); });\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {NotificationFilter} notificationFilter the notification filter configured\n     * @param {Object} routing server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello5x2 = function (userAgent, notificationFilter, routing) {\n        if (notificationFilter === void 0) { notificationFilter = null; }\n        if (routing === void 0) { routing = null; }\n        var metadata = { user_agent: userAgent };\n        if (notificationFilter) {\n            if (notificationFilter.minimumSeverityLevel) {\n                metadata.notifications_minimum_severity = notificationFilter.minimumSeverityLevel;\n            }\n            if (notificationFilter.disabledCategories) {\n                metadata.notifications_disabled_categories = notificationFilter.disabledCategories;\n            }\n        }\n        if (routing) {\n            metadata.routing = routing;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {string} boltAgent the bolt agent.\n     * @param {NotificationFilter} notificationFilter the notification filter configured\n     * @param {Object} routing server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello5x3 = function (userAgent, boltAgent, notificationFilter, routing) {\n        if (notificationFilter === void 0) { notificationFilter = null; }\n        if (routing === void 0) { routing = null; }\n        var metadata = {};\n        if (userAgent) {\n            metadata.user_agent = userAgent;\n        }\n        if (boltAgent) {\n            metadata.bolt_agent = {\n                product: boltAgent.product,\n                platform: boltAgent.platform,\n                language: boltAgent.language,\n                language_details: boltAgent.languageDetails\n            };\n        }\n        if (notificationFilter) {\n            if (notificationFilter.minimumSeverityLevel) {\n                metadata.notifications_minimum_severity = notificationFilter.minimumSeverityLevel;\n            }\n            if (notificationFilter.disabledCategories) {\n                metadata.notifications_disabled_categories = notificationFilter.disabledCategories;\n            }\n        }\n        if (routing) {\n            metadata.routing = routing;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Create a new LOGON message.\n     *\n     * @param {object} authToken The auth token\n     * @returns {RequestMessage} new LOGON message\n     */\n    RequestMessage.logon = function (authToken) {\n        return new RequestMessage(LOGON, [authToken], function () { return 'LOGON { ... }'; });\n    };\n    /**\n     * Create a new LOGOFF message.\n     *\n     * @returns {RequestMessage} new LOGOFF message\n     */\n    RequestMessage.logoff = function () {\n        return new RequestMessage(LOGOFF, [], function () { return 'LOGOFF'; });\n    };\n    /**\n     * Create a new BEGIN message.\n     * @param {Bookmarks} bookmarks the bookmarks.\n     * @param {TxConfig} txConfig the configuration.\n     * @param {string} database the database name.\n     * @param {string} mode the access mode.\n     * @param {string} impersonatedUser the impersonated user.\n     * @param {NotificationFilter} notificationFilter the notification filter\n     * @return {RequestMessage} new BEGIN message.\n     */\n    RequestMessage.begin = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter);\n        return new RequestMessage(BEGIN, [metadata], function () { return \"BEGIN \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Get a COMMIT message.\n     * @return {RequestMessage} the COMMIT message.\n     */\n    RequestMessage.commit = function () {\n        return COMMIT_MESSAGE;\n    };\n    /**\n     * Get a ROLLBACK message.\n     * @return {RequestMessage} the ROLLBACK message.\n     */\n    RequestMessage.rollback = function () {\n        return ROLLBACK_MESSAGE;\n    };\n    /**\n     * Create a new RUN message with additional metadata.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @param {Bookmarks} bookmarks the bookmarks.\n     * @param {TxConfig} txConfig the configuration.\n     * @param {string} database the database name.\n     * @param {string} mode the access mode.\n     * @param {string} impersonatedUser the impersonated user.\n     * @return {RequestMessage} new RUN message with additional metadata.\n     */\n    RequestMessage.runWithMetadata = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, notificationFilter = _b.notificationFilter;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter);\n        return new RequestMessage(RUN, [query, parameters, metadata], function () {\n            return \"RUN \".concat(query, \" \").concat(neo4j_driver_core_1.json.stringify(parameters), \" \").concat(neo4j_driver_core_1.json.stringify(metadata));\n        });\n    };\n    /**\n     * Get a GOODBYE message.\n     * @return {RequestMessage} the GOODBYE message.\n     */\n    RequestMessage.goodbye = function () {\n        return GOODBYE_MESSAGE;\n    };\n    /**\n     * Generates a new PULL message with additional metadata.\n     * @param {Integer|number} stmtId\n     * @param {Integer|number} n\n     * @return {RequestMessage} the PULL message.\n     */\n    RequestMessage.pull = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.stmtId, stmtId = _c === void 0 ? NO_STATEMENT_ID : _c, _d = _b.n, n = _d === void 0 ? FETCH_ALL : _d;\n        var metadata = buildStreamMetadata(stmtId === null || stmtId === undefined ? NO_STATEMENT_ID : stmtId, n || FETCH_ALL);\n        return new RequestMessage(PULL, [metadata], function () { return \"PULL \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Generates a new DISCARD message with additional metadata.\n     * @param {Integer|number} stmtId\n     * @param {Integer|number} n\n     * @return {RequestMessage} the PULL message.\n     */\n    RequestMessage.discard = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.stmtId, stmtId = _c === void 0 ? NO_STATEMENT_ID : _c, _d = _b.n, n = _d === void 0 ? FETCH_ALL : _d;\n        var metadata = buildStreamMetadata(stmtId === null || stmtId === undefined ? NO_STATEMENT_ID : stmtId, n || FETCH_ALL);\n        return new RequestMessage(DISCARD, [metadata], function () { return \"DISCARD \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    RequestMessage.telemetry = function (_a) {\n        var api = _a.api;\n        var parsedApi = (0, neo4j_driver_core_1.int)(api);\n        return new RequestMessage(TELEMETRY, [parsedApi], function () { return \"TELEMETRY \".concat(parsedApi.toString()); });\n    };\n    /**\n     * Generate the ROUTE message, this message is used to fetch the routing table from the server\n     *\n     * @param {object} routingContext The routing context used to define the routing table. Multi-datacenter deployments is one of its use cases\n     * @param {string[]} bookmarks The list of the bookmarks should be used\n     * @param {string} databaseName The name of the database to get the routing table for.\n     * @return {RequestMessage} the ROUTE message.\n     */\n    RequestMessage.route = function (routingContext, bookmarks, databaseName) {\n        if (routingContext === void 0) { routingContext = {}; }\n        if (bookmarks === void 0) { bookmarks = []; }\n        if (databaseName === void 0) { databaseName = null; }\n        return new RequestMessage(ROUTE, [routingContext, bookmarks, databaseName], function () {\n            return \"ROUTE \".concat(neo4j_driver_core_1.json.stringify(routingContext), \" \").concat(neo4j_driver_core_1.json.stringify(bookmarks), \" \").concat(databaseName);\n        });\n    };\n    /**\n     * Generate the ROUTE message, this message is used to fetch the routing table from the server\n     *\n     * @param {object} routingContext The routing context used to define the routing table. Multi-datacenter deployments is one of its use cases\n     * @param {string[]} bookmarks The list of the bookmarks should be used\n     * @param {object} databaseContext The context inforamtion of the database to get the routing table for.\n     * @param {string} databaseContext.databaseName The name of the database to get the routing table.\n     * @param {string} databaseContext.impersonatedUser The name of the user to impersonation when getting the routing table.\n     * @return {RequestMessage} the ROUTE message.\n     */\n    RequestMessage.routeV4x4 = function (routingContext, bookmarks, databaseContext) {\n        if (routingContext === void 0) { routingContext = {}; }\n        if (bookmarks === void 0) { bookmarks = []; }\n        if (databaseContext === void 0) { databaseContext = {}; }\n        var dbContext = {};\n        if (databaseContext.databaseName) {\n            dbContext.db = databaseContext.databaseName;\n        }\n        if (databaseContext.impersonatedUser) {\n            dbContext.imp_user = databaseContext.impersonatedUser;\n        }\n        return new RequestMessage(ROUTE, [routingContext, bookmarks, dbContext], function () {\n            return \"ROUTE \".concat(neo4j_driver_core_1.json.stringify(routingContext), \" \").concat(neo4j_driver_core_1.json.stringify(bookmarks), \" \").concat(neo4j_driver_core_1.json.stringify(dbContext));\n        });\n    };\n    return RequestMessage;\n}());\nexports[\"default\"] = RequestMessage;\n/**\n * Create an object that represent transaction metadata.\n * @param {Bookmarks} bookmarks the bookmarks.\n * @param {TxConfig} txConfig the configuration.\n * @param {string} database the database name.\n * @param {string} mode the access mode.\n * @param {string} impersonatedUser the impersonated user mode.\n * @param {notificationFilter} notificationFilter the notification filter\n * @return {Object} a metadata object.\n */\nfunction buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser, notificationFilter) {\n    var metadata = {};\n    if (!bookmarks.isEmpty()) {\n        metadata.bookmarks = bookmarks.values();\n    }\n    if (txConfig.timeout !== null) {\n        metadata.tx_timeout = txConfig.timeout;\n    }\n    if (txConfig.metadata) {\n        metadata.tx_metadata = txConfig.metadata;\n    }\n    if (database) {\n        metadata.db = assertString(database, 'database');\n    }\n    if (impersonatedUser) {\n        metadata.imp_user = assertString(impersonatedUser, 'impersonatedUser');\n    }\n    if (mode === ACCESS_MODE_READ) {\n        metadata.mode = READ_MODE;\n    }\n    if (notificationFilter) {\n        if (notificationFilter.minimumSeverityLevel) {\n            metadata.notifications_minimum_severity = notificationFilter.minimumSeverityLevel;\n        }\n        if (notificationFilter.disabledCategories) {\n            metadata.notifications_disabled_categories = notificationFilter.disabledCategories;\n        }\n    }\n    return metadata;\n}\n/**\n * Create an object that represents streaming metadata.\n * @param {Integer|number} stmtId The query id to stream its results.\n * @param {Integer|number} n The number of records to stream.\n * @returns {Object} a metadata object.\n */\nfunction buildStreamMetadata(stmtId, n) {\n    var metadata = { n: (0, neo4j_driver_core_1.int)(n) };\n    if (stmtId !== NO_STATEMENT_ID) {\n        metadata.qid = (0, neo4j_driver_core_1.int)(stmtId);\n    }\n    return metadata;\n}\n// constants for messages that never change\nvar PULL_ALL_MESSAGE = new RequestMessage(PULL_ALL, [], function () { return 'PULL_ALL'; });\nvar RESET_MESSAGE = new RequestMessage(RESET, [], function () { return 'RESET'; });\nvar COMMIT_MESSAGE = new RequestMessage(COMMIT, [], function () { return 'COMMIT'; });\nvar ROLLBACK_MESSAGE = new RequestMessage(ROLLBACK, [], function () { return 'ROLLBACK'; });\nvar GOODBYE_MESSAGE = new RequestMessage(GOODBYE, [], function () { return 'GOODBYE'; });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yZXF1ZXN0LW1lc3NhZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix3QkFBd0I7QUFDeEIsa0JBQWtCO0FBQ2xCLGdCQUFnQjtBQUNoQix3QkFBd0I7QUFDeEIscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQixvQkFBb0I7QUFDcEIsa0JBQWtCO0FBQ2xCLG1CQUFtQjtBQUNuQixxQkFBcUI7QUFDckIsc0JBQXNCO0FBQ3RCLGtCQUFrQjtBQUNsQixrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLG9CQUFvQjtBQUNwQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLCtFQUErRSxxQ0FBcUMsSUFBSSxLQUFLO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0EsMEVBQTBFLDBGQUEwRjtBQUNwSztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGlDQUFpQztBQUNqQyx1Q0FBdUMsdUJBQXVCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxlQUFlLHlDQUF5QyxLQUFLO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZUFBZSx5Q0FBeUMsS0FBSztBQUNoSTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxrQ0FBa0M7QUFDbEMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsdUVBQXVFO0FBQzFJO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSx1RUFBdUU7QUFDMUk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0Esb0VBQW9FLGdCQUFnQixLQUFLLElBQUk7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQSw0REFBNEQsa0JBQWtCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQixlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxvQkFBb0I7QUFDbkMsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsbUVBQW1FLHVFQUF1RTtBQUMxSTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFdBQVc7QUFDMUIsZUFBZSxVQUFVO0FBQ3pCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQixlQUFlLGdCQUFnQjtBQUMvQixnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSxrRUFBa0Usc0VBQXNFO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsZ0JBQWdCO0FBQy9CLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHFFQUFxRSx5RUFBeUU7QUFDOUk7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsbURBQW1EO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLG9DQUFvQztBQUNwQyx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLG9DQUFvQztBQUNwQywwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLG9CQUFvQjtBQUMvQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLG9CQUFvQjtBQUMxRixnRUFBZ0UsaUJBQWlCO0FBQ2pGLGtFQUFrRSxrQkFBa0I7QUFDcEYsc0VBQXNFLG9CQUFvQjtBQUMxRixvRUFBb0UsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yZXF1ZXN0LW1lc3NhZ2UuanM/MDllZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNJR05BVFVSRVMgPSB2b2lkIDA7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBBQ0NFU1NfTU9ERV9SRUFEID0gX2EuQUNDRVNTX01PREVfUkVBRCwgRkVUQ0hfQUxMID0gX2EuRkVUQ0hfQUxMLCBhc3NlcnRTdHJpbmcgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnV0aWwuYXNzZXJ0U3RyaW5nO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8vIFNpZ25hdHVyZSBieXRlcyBmb3IgZWFjaCByZXF1ZXN0IG1lc3NhZ2UgdHlwZVxudmFyIElOSVQgPSAweDAxOyAvLyAwMDAwIDAwMDEgLy8gSU5JVCA8dXNlcl9hZ2VudD4gPGF1dGhlbnRpY2F0aW9uX3Rva2VuPlxudmFyIEFDS19GQUlMVVJFID0gMHgwZTsgLy8gMDAwMCAxMTEwIC8vIEFDS19GQUlMVVJFIC0gdW51c2VkXG52YXIgUkVTRVQgPSAweDBmOyAvLyAwMDAwIDExMTEgLy8gUkVTRVRcbnZhciBSVU4gPSAweDEwOyAvLyAwMDAxIDAwMDAgLy8gUlVOIDxxdWVyeT4gPHBhcmFtZXRlcnM+XG52YXIgRElTQ0FSRF9BTEwgPSAweDJmOyAvLyAwMDEwIDExMTEgLy8gRElTQ0FSRF9BTEwgLSB1bnVzZWRcbnZhciBQVUxMX0FMTCA9IDB4M2Y7IC8vIDAwMTEgMTExMSAvLyBQVUxMX0FMTFxudmFyIEhFTExPID0gMHgwMTsgLy8gMDAwMCAwMDAxIC8vIEhFTExPIDxtZXRhZGF0YT5cbnZhciBHT09EQllFID0gMHgwMjsgLy8gMDAwMCAwMDEwIC8vIEdPT0RCWUVcbnZhciBCRUdJTiA9IDB4MTE7IC8vIDAwMDEgMDAwMSAvLyBCRUdJTiA8bWV0YWRhdGE+XG52YXIgQ09NTUlUID0gMHgxMjsgLy8gMDAwMSAwMDEwIC8vIENPTU1JVFxudmFyIFJPTExCQUNLID0gMHgxMzsgLy8gMDAwMSAwMDExIC8vIFJPTExCQUNLXG52YXIgVEVMRU1FVFJZID0gMHg1NDsgLy8gMDEwMSAwMTAwIC8vIFRFTEVNRVRSWSA8YXBpPlxudmFyIFJPVVRFID0gMHg2NjsgLy8gMDExMCAwMTEwIC8vIFJPVVRFXG52YXIgTE9HT04gPSAweDZBOyAvLyBMT0dPTlxudmFyIExPR09GRiA9IDB4NkI7IC8vIExPR09GRlxudmFyIERJU0NBUkQgPSAweDJmOyAvLyAwMDEwIDExMTEgLy8gRElTQ0FSRFxudmFyIFBVTEwgPSAweDNmOyAvLyAwMDExIDExMTEgLy8gUFVMTFxudmFyIFJFQURfTU9ERSA9ICdyJztcbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBOT19TVEFURU1FTlRfSUQgPSAtMTtcbnZhciBTSUdOQVRVUkVTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgSU5JVDogSU5JVCxcbiAgICBSRVNFVDogUkVTRVQsXG4gICAgUlVOOiBSVU4sXG4gICAgUFVMTF9BTEw6IFBVTExfQUxMLFxuICAgIEhFTExPOiBIRUxMTyxcbiAgICBHT09EQllFOiBHT09EQllFLFxuICAgIEJFR0lOOiBCRUdJTixcbiAgICBDT01NSVQ6IENPTU1JVCxcbiAgICBST0xMQkFDSzogUk9MTEJBQ0ssXG4gICAgVEVMRU1FVFJZOiBURUxFTUVUUlksXG4gICAgUk9VVEU6IFJPVVRFLFxuICAgIExPR09OOiBMT0dPTixcbiAgICBMT0dPRkY6IExPR09GRixcbiAgICBESVNDQVJEOiBESVNDQVJELFxuICAgIFBVTEw6IFBVTExcbn0pO1xuZXhwb3J0cy5TSUdOQVRVUkVTID0gU0lHTkFUVVJFUztcbnZhciBSZXF1ZXN0TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXF1ZXN0TWVzc2FnZShzaWduYXR1cmUsIGZpZWxkcywgdG9TdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gICAgICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICAgICAgICB0aGlzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBJTklUIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsaWVudE5hbWUgdGhlIGNsaWVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgSU5JVCBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLmluaXQgPSBmdW5jdGlvbiAoY2xpZW50TmFtZSwgYXV0aFRva2VuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoSU5JVCwgW2NsaWVudE5hbWUsIGF1dGhUb2tlbl0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiSU5JVCBcIi5jb25jYXQoY2xpZW50TmFtZSwgXCIgey4uLn1cIik7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFJVTiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSB0aGUgY3lwaGVyIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIHRoZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgUlVOIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoUlVOLCBbcXVlcnksIHBhcmFtZXRlcnNdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIlJVTiBcIi5jb25jYXQocXVlcnksIFwiIFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShwYXJhbWV0ZXJzKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgUFVMTF9BTEwgbWVzc2FnZS5cbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gdGhlIFBVTExfQUxMIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UucHVsbEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFBVTExfQUxMX01FU1NBR0U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBSRVNFVCBtZXNzYWdlLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSB0aGUgUkVTRVQgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFJFU0VUX01FU1NBR0U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSEVMTE8gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlckFnZW50IHRoZSB1c2VyIGFnZW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25hbCBzZXJ2ZXIgc2lkZSByb3V0aW5nLCBzZXQgdG8gcm91dGluZyBjb250ZXh0IHRvIHR1cm4gb24gc2VydmVyIHNpZGUgcm91dGluZyAoPiA0LjEpXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IG5ldyBIRUxMTyBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLmhlbGxvID0gZnVuY3Rpb24gKHVzZXJBZ2VudCwgYXV0aFRva2VuLCByb3V0aW5nLCBwYXRjaHMpIHtcbiAgICAgICAgaWYgKHJvdXRpbmcgPT09IHZvaWQgMCkgeyByb3V0aW5nID0gbnVsbDsgfVxuICAgICAgICBpZiAocGF0Y2hzID09PSB2b2lkIDApIHsgcGF0Y2hzID0gbnVsbDsgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBPYmplY3QuYXNzaWduKHsgdXNlcl9hZ2VudDogdXNlckFnZW50IH0sIGF1dGhUb2tlbik7XG4gICAgICAgIGlmIChyb3V0aW5nKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5yb3V0aW5nID0gcm91dGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hzKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5wYXRjaF9ib2x0ID0gcGF0Y2hzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE1lc3NhZ2UoSEVMTE8sIFttZXRhZGF0YV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiSEVMTE8ge3VzZXJfYWdlbnQ6ICdcIi5jb25jYXQodXNlckFnZW50LCBcIicsIC4uLn1cIik7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uYWwgc2VydmVyIHNpZGUgcm91dGluZywgc2V0IHRvIHJvdXRpbmcgY29udGV4dCB0byB0dXJuIG9uIHNlcnZlciBzaWRlIHJvdXRpbmcgKD4gNC4xKVxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgSEVMTE8gbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5oZWxsbzV4MSA9IGZ1bmN0aW9uICh1c2VyQWdlbnQsIHJvdXRpbmcpIHtcbiAgICAgICAgaWYgKHJvdXRpbmcgPT09IHZvaWQgMCkgeyByb3V0aW5nID0gbnVsbDsgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSB7IHVzZXJfYWdlbnQ6IHVzZXJBZ2VudCB9O1xuICAgICAgICBpZiAocm91dGluZykge1xuICAgICAgICAgICAgbWV0YWRhdGEucm91dGluZyA9IHJvdXRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShIRUxMTywgW21ldGFkYXRhXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJIRUxMTyB7dXNlcl9hZ2VudDogJ1wiLmNvbmNhdCh1c2VyQWdlbnQsIFwiJywgLi4ufVwiKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSEVMTE8gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlckFnZW50IHRoZSB1c2VyIGFnZW50LlxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXIgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByb3V0aW5nIHNlcnZlciBzaWRlIHJvdXRpbmcsIHNldCB0byByb3V0aW5nIGNvbnRleHQgdG8gdHVybiBvbiBzZXJ2ZXIgc2lkZSByb3V0aW5nICg+IDQuMSlcbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UuaGVsbG81eDIgPSBmdW5jdGlvbiAodXNlckFnZW50LCBub3RpZmljYXRpb25GaWx0ZXIsIHJvdXRpbmcpIHtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlciA9PT0gdm9pZCAwKSB7IG5vdGlmaWNhdGlvbkZpbHRlciA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJvdXRpbmcgPT09IHZvaWQgMCkgeyByb3V0aW5nID0gbnVsbDsgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSB7IHVzZXJfYWdlbnQ6IHVzZXJBZ2VudCB9O1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyKSB7XG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyLm1pbmltdW1TZXZlcml0eUxldmVsKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEubm90aWZpY2F0aW9uc19taW5pbXVtX3NldmVyaXR5ID0gbm90aWZpY2F0aW9uRmlsdGVyLm1pbmltdW1TZXZlcml0eUxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlci5kaXNhYmxlZENhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5ub3RpZmljYXRpb25zX2Rpc2FibGVkX2NhdGVnb3JpZXMgPSBub3RpZmljYXRpb25GaWx0ZXIuZGlzYWJsZWRDYXRlZ29yaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyb3V0aW5nKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5yb3V0aW5nID0gcm91dGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKEhFTExPLCBbbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkhFTExPIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1ldGFkYXRhKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYm9sdEFnZW50IHRoZSBib2x0IGFnZW50LlxuICAgICAqIEBwYXJhbSB7Tm90aWZpY2F0aW9uRmlsdGVyfSBub3RpZmljYXRpb25GaWx0ZXIgdGhlIG5vdGlmaWNhdGlvbiBmaWx0ZXIgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByb3V0aW5nIHNlcnZlciBzaWRlIHJvdXRpbmcsIHNldCB0byByb3V0aW5nIGNvbnRleHQgdG8gdHVybiBvbiBzZXJ2ZXIgc2lkZSByb3V0aW5nICg+IDQuMSlcbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gbmV3IEhFTExPIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UuaGVsbG81eDMgPSBmdW5jdGlvbiAodXNlckFnZW50LCBib2x0QWdlbnQsIG5vdGlmaWNhdGlvbkZpbHRlciwgcm91dGluZykge1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uRmlsdGVyID09PSB2b2lkIDApIHsgbm90aWZpY2F0aW9uRmlsdGVyID0gbnVsbDsgfVxuICAgICAgICBpZiAocm91dGluZyA9PT0gdm9pZCAwKSB7IHJvdXRpbmcgPSBudWxsOyB9XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHt9O1xuICAgICAgICBpZiAodXNlckFnZW50KSB7XG4gICAgICAgICAgICBtZXRhZGF0YS51c2VyX2FnZW50ID0gdXNlckFnZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2x0QWdlbnQpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLmJvbHRfYWdlbnQgPSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdDogYm9sdEFnZW50LnByb2R1Y3QsXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IGJvbHRBZ2VudC5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBsYW5ndWFnZTogYm9sdEFnZW50Lmxhbmd1YWdlLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlX2RldGFpbHM6IGJvbHRBZ2VudC5sYW5ndWFnZURldGFpbHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlcikge1xuICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlci5taW5pbXVtU2V2ZXJpdHlMZXZlbCkge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLm5vdGlmaWNhdGlvbnNfbWluaW11bV9zZXZlcml0eSA9IG5vdGlmaWNhdGlvbkZpbHRlci5taW5pbXVtU2V2ZXJpdHlMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RpZmljYXRpb25GaWx0ZXIuZGlzYWJsZWRDYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEubm90aWZpY2F0aW9uc19kaXNhYmxlZF9jYXRlZ29yaWVzID0gbm90aWZpY2F0aW9uRmlsdGVyLmRpc2FibGVkQ2F0ZWdvcmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocm91dGluZykge1xuICAgICAgICAgICAgbWV0YWRhdGEucm91dGluZyA9IHJvdXRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShIRUxMTywgW21ldGFkYXRhXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJIRUxMTyBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtZXRhZGF0YSkpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBMT0dPTiBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGF1dGhUb2tlbiBUaGUgYXV0aCB0b2tlblxuICAgICAqIEByZXR1cm5zIHtSZXF1ZXN0TWVzc2FnZX0gbmV3IExPR09OIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5sb2dvbiA9IGZ1bmN0aW9uIChhdXRoVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShMT0dPTiwgW2F1dGhUb2tlbl0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuICdMT0dPTiB7IC4uLiB9JzsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTE9HT0ZGIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UmVxdWVzdE1lc3NhZ2V9IG5ldyBMT0dPRkYgbWVzc2FnZVxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLmxvZ29mZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShMT0dPRkYsIFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiAnTE9HT0ZGJzsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQkVHSU4gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2ttYXJrc30gYm9va21hcmtzIHRoZSBib29rbWFya3MuXG4gICAgICogQHBhcmFtIHtUeENvbmZpZ30gdHhDb25maWcgdGhlIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFiYXNlIHRoZSBkYXRhYmFzZSBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIHRoZSBhY2Nlc3MgbW9kZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1wZXJzb25hdGVkVXNlciB0aGUgaW1wZXJzb25hdGVkIHVzZXIuXG4gICAgICogQHBhcmFtIHtOb3RpZmljYXRpb25GaWx0ZXJ9IG5vdGlmaWNhdGlvbkZpbHRlciB0aGUgbm90aWZpY2F0aW9uIGZpbHRlclxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgQkVHSU4gbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5iZWdpbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCB0eENvbmZpZyA9IF9iLnR4Q29uZmlnLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBtb2RlID0gX2IubW9kZSwgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG5vdGlmaWNhdGlvbkZpbHRlciA9IF9iLm5vdGlmaWNhdGlvbkZpbHRlcjtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gYnVpbGRUeE1ldGFkYXRhKGJvb2ttYXJrcywgdHhDb25maWcsIGRhdGFiYXNlLCBtb2RlLCBpbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKEJFR0lOLCBbbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkJFR0lOIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1ldGFkYXRhKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgQ09NTUlUIG1lc3NhZ2UuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBDT01NSVQgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5jb21taXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBDT01NSVRfTUVTU0FHRTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIFJPTExCQUNLIG1lc3NhZ2UuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBST0xMQkFDSyBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLnJvbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUk9MTEJBQ0tfTUVTU0FHRTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBSVU4gbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IHRoZSBjeXBoZXIgcXVlcnkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtCb29rbWFya3N9IGJvb2ttYXJrcyB0aGUgYm9va21hcmtzLlxuICAgICAqIEBwYXJhbSB7VHhDb25maWd9IHR4Q29uZmlnIHRoZSBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZSB0aGUgZGF0YWJhc2UgbmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSB0aGUgYWNjZXNzIG1vZGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltcGVyc29uYXRlZFVzZXIgdGhlIGltcGVyc29uYXRlZCB1c2VyLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSBuZXcgUlVOIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIG1ldGFkYXRhLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLnJ1bldpdGhNZXRhZGF0YSA9IGZ1bmN0aW9uIChxdWVyeSwgcGFyYW1ldGVycywgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgdHhDb25maWcgPSBfYi50eENvbmZpZywgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgbW9kZSA9IF9iLm1vZGUsIGltcGVyc29uYXRlZFVzZXIgPSBfYi5pbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIgPSBfYi5ub3RpZmljYXRpb25GaWx0ZXI7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGJ1aWxkVHhNZXRhZGF0YShib29rbWFya3MsIHR4Q29uZmlnLCBkYXRhYmFzZSwgbW9kZSwgaW1wZXJzb25hdGVkVXNlciwgbm90aWZpY2F0aW9uRmlsdGVyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShSVU4sIFtxdWVyeSwgcGFyYW1ldGVycywgbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJSVU4gXCIuY29uY2F0KHF1ZXJ5LCBcIiBcIikuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocGFyYW1ldGVycyksIFwiIFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtZXRhZGF0YSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIEdPT0RCWUUgbWVzc2FnZS5cbiAgICAgKiBAcmV0dXJuIHtSZXF1ZXN0TWVzc2FnZX0gdGhlIEdPT0RCWUUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5nb29kYnllID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gR09PREJZRV9NRVNTQUdFO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgbmV3IFBVTEwgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcn0gc3RtdElkXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcn0gblxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSB0aGUgUFVMTCBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLnB1bGwgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9jID0gX2Iuc3RtdElkLCBzdG10SWQgPSBfYyA9PT0gdm9pZCAwID8gTk9fU1RBVEVNRU5UX0lEIDogX2MsIF9kID0gX2IubiwgbiA9IF9kID09PSB2b2lkIDAgPyBGRVRDSF9BTEwgOiBfZDtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gYnVpbGRTdHJlYW1NZXRhZGF0YShzdG10SWQgPT09IG51bGwgfHwgc3RtdElkID09PSB1bmRlZmluZWQgPyBOT19TVEFURU1FTlRfSUQgOiBzdG10SWQsIG4gfHwgRkVUQ0hfQUxMKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShQVUxMLCBbbWV0YWRhdGFdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIlBVTEwgXCIuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkobWV0YWRhdGEpKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBuZXcgRElTQ0FSRCBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfSBzdG10SWRcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfSBuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBQVUxMIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVxdWVzdE1lc3NhZ2UuZGlzY2FyZCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5zdG10SWQsIHN0bXRJZCA9IF9jID09PSB2b2lkIDAgPyBOT19TVEFURU1FTlRfSUQgOiBfYywgX2QgPSBfYi5uLCBuID0gX2QgPT09IHZvaWQgMCA/IEZFVENIX0FMTCA6IF9kO1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBidWlsZFN0cmVhbU1ldGFkYXRhKHN0bXRJZCA9PT0gbnVsbCB8fCBzdG10SWQgPT09IHVuZGVmaW5lZCA/IE5PX1NUQVRFTUVOVF9JRCA6IHN0bXRJZCwgbiB8fCBGRVRDSF9BTEwpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKERJU0NBUkQsIFttZXRhZGF0YV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiRElTQ0FSRCBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtZXRhZGF0YSkpOyB9KTtcbiAgICB9O1xuICAgIFJlcXVlc3RNZXNzYWdlLnRlbGVtZXRyeSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgYXBpID0gX2EuYXBpO1xuICAgICAgICB2YXIgcGFyc2VkQXBpID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShhcGkpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKFRFTEVNRVRSWSwgW3BhcnNlZEFwaV0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiVEVMRU1FVFJZIFwiLmNvbmNhdChwYXJzZWRBcGkudG9TdHJpbmcoKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIFJPVVRFIG1lc3NhZ2UsIHRoaXMgbWVzc2FnZSBpcyB1c2VkIHRvIGZldGNoIHRoZSByb3V0aW5nIHRhYmxlIGZyb20gdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJvdXRpbmdDb250ZXh0IFRoZSByb3V0aW5nIGNvbnRleHQgdXNlZCB0byBkZWZpbmUgdGhlIHJvdXRpbmcgdGFibGUuIE11bHRpLWRhdGFjZW50ZXIgZGVwbG95bWVudHMgaXMgb25lIG9mIGl0cyB1c2UgY2FzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBib29rbWFya3MgVGhlIGxpc3Qgb2YgdGhlIGJvb2ttYXJrcyBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZU5hbWUgVGhlIG5hbWUgb2YgdGhlIGRhdGFiYXNlIHRvIGdldCB0aGUgcm91dGluZyB0YWJsZSBmb3IuXG4gICAgICogQHJldHVybiB7UmVxdWVzdE1lc3NhZ2V9IHRoZSBST1VURSBtZXNzYWdlLlxuICAgICAqL1xuICAgIFJlcXVlc3RNZXNzYWdlLnJvdXRlID0gZnVuY3Rpb24gKHJvdXRpbmdDb250ZXh0LCBib29rbWFya3MsIGRhdGFiYXNlTmFtZSkge1xuICAgICAgICBpZiAocm91dGluZ0NvbnRleHQgPT09IHZvaWQgMCkgeyByb3V0aW5nQ29udGV4dCA9IHt9OyB9XG4gICAgICAgIGlmIChib29rbWFya3MgPT09IHZvaWQgMCkgeyBib29rbWFya3MgPSBbXTsgfVxuICAgICAgICBpZiAoZGF0YWJhc2VOYW1lID09PSB2b2lkIDApIHsgZGF0YWJhc2VOYW1lID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RNZXNzYWdlKFJPVVRFLCBbcm91dGluZ0NvbnRleHQsIGJvb2ttYXJrcywgZGF0YWJhc2VOYW1lXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiUk9VVEUgXCIuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocm91dGluZ0NvbnRleHQpLCBcIiBcIikuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkoYm9va21hcmtzKSwgXCIgXCIpLmNvbmNhdChkYXRhYmFzZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSBST1VURSBtZXNzYWdlLCB0aGlzIG1lc3NhZ2UgaXMgdXNlZCB0byBmZXRjaCB0aGUgcm91dGluZyB0YWJsZSBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByb3V0aW5nQ29udGV4dCBUaGUgcm91dGluZyBjb250ZXh0IHVzZWQgdG8gZGVmaW5lIHRoZSByb3V0aW5nIHRhYmxlLiBNdWx0aS1kYXRhY2VudGVyIGRlcGxveW1lbnRzIGlzIG9uZSBvZiBpdHMgdXNlIGNhc2VzXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gYm9va21hcmtzIFRoZSBsaXN0IG9mIHRoZSBib29rbWFya3Mgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YWJhc2VDb250ZXh0IFRoZSBjb250ZXh0IGluZm9yYW10aW9uIG9mIHRoZSBkYXRhYmFzZSB0byBnZXQgdGhlIHJvdXRpbmcgdGFibGUgZm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZUNvbnRleHQuZGF0YWJhc2VOYW1lIFRoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSB0byBnZXQgdGhlIHJvdXRpbmcgdGFibGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFiYXNlQ29udGV4dC5pbXBlcnNvbmF0ZWRVc2VyIFRoZSBuYW1lIG9mIHRoZSB1c2VyIHRvIGltcGVyc29uYXRpb24gd2hlbiBnZXR0aW5nIHRoZSByb3V0aW5nIHRhYmxlLlxuICAgICAqIEByZXR1cm4ge1JlcXVlc3RNZXNzYWdlfSB0aGUgUk9VVEUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBSZXF1ZXN0TWVzc2FnZS5yb3V0ZVY0eDQgPSBmdW5jdGlvbiAocm91dGluZ0NvbnRleHQsIGJvb2ttYXJrcywgZGF0YWJhc2VDb250ZXh0KSB7XG4gICAgICAgIGlmIChyb3V0aW5nQ29udGV4dCA9PT0gdm9pZCAwKSB7IHJvdXRpbmdDb250ZXh0ID0ge307IH1cbiAgICAgICAgaWYgKGJvb2ttYXJrcyA9PT0gdm9pZCAwKSB7IGJvb2ttYXJrcyA9IFtdOyB9XG4gICAgICAgIGlmIChkYXRhYmFzZUNvbnRleHQgPT09IHZvaWQgMCkgeyBkYXRhYmFzZUNvbnRleHQgPSB7fTsgfVxuICAgICAgICB2YXIgZGJDb250ZXh0ID0ge307XG4gICAgICAgIGlmIChkYXRhYmFzZUNvbnRleHQuZGF0YWJhc2VOYW1lKSB7XG4gICAgICAgICAgICBkYkNvbnRleHQuZGIgPSBkYXRhYmFzZUNvbnRleHQuZGF0YWJhc2VOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhYmFzZUNvbnRleHQuaW1wZXJzb25hdGVkVXNlcikge1xuICAgICAgICAgICAgZGJDb250ZXh0LmltcF91c2VyID0gZGF0YWJhc2VDb250ZXh0LmltcGVyc29uYXRlZFVzZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0TWVzc2FnZShST1VURSwgW3JvdXRpbmdDb250ZXh0LCBib29rbWFya3MsIGRiQ29udGV4dF0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlJPVVRFIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KHJvdXRpbmdDb250ZXh0KSwgXCIgXCIpLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KGJvb2ttYXJrcyksIFwiIFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShkYkNvbnRleHQpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVxdWVzdE1lc3NhZ2U7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUmVxdWVzdE1lc3NhZ2U7XG4vKipcbiAqIENyZWF0ZSBhbiBvYmplY3QgdGhhdCByZXByZXNlbnQgdHJhbnNhY3Rpb24gbWV0YWRhdGEuXG4gKiBAcGFyYW0ge0Jvb2ttYXJrc30gYm9va21hcmtzIHRoZSBib29rbWFya3MuXG4gKiBAcGFyYW0ge1R4Q29uZmlnfSB0eENvbmZpZyB0aGUgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZSB0aGUgZGF0YWJhc2UgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIHRoZSBhY2Nlc3MgbW9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpbXBlcnNvbmF0ZWRVc2VyIHRoZSBpbXBlcnNvbmF0ZWQgdXNlciBtb2RlLlxuICogQHBhcmFtIHtub3RpZmljYXRpb25GaWx0ZXJ9IG5vdGlmaWNhdGlvbkZpbHRlciB0aGUgbm90aWZpY2F0aW9uIGZpbHRlclxuICogQHJldHVybiB7T2JqZWN0fSBhIG1ldGFkYXRhIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gYnVpbGRUeE1ldGFkYXRhKGJvb2ttYXJrcywgdHhDb25maWcsIGRhdGFiYXNlLCBtb2RlLCBpbXBlcnNvbmF0ZWRVc2VyLCBub3RpZmljYXRpb25GaWx0ZXIpIHtcbiAgICB2YXIgbWV0YWRhdGEgPSB7fTtcbiAgICBpZiAoIWJvb2ttYXJrcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgbWV0YWRhdGEuYm9va21hcmtzID0gYm9va21hcmtzLnZhbHVlcygpO1xuICAgIH1cbiAgICBpZiAodHhDb25maWcudGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICBtZXRhZGF0YS50eF90aW1lb3V0ID0gdHhDb25maWcudGltZW91dDtcbiAgICB9XG4gICAgaWYgKHR4Q29uZmlnLm1ldGFkYXRhKSB7XG4gICAgICAgIG1ldGFkYXRhLnR4X21ldGFkYXRhID0gdHhDb25maWcubWV0YWRhdGE7XG4gICAgfVxuICAgIGlmIChkYXRhYmFzZSkge1xuICAgICAgICBtZXRhZGF0YS5kYiA9IGFzc2VydFN0cmluZyhkYXRhYmFzZSwgJ2RhdGFiYXNlJyk7XG4gICAgfVxuICAgIGlmIChpbXBlcnNvbmF0ZWRVc2VyKSB7XG4gICAgICAgIG1ldGFkYXRhLmltcF91c2VyID0gYXNzZXJ0U3RyaW5nKGltcGVyc29uYXRlZFVzZXIsICdpbXBlcnNvbmF0ZWRVc2VyJyk7XG4gICAgfVxuICAgIGlmIChtb2RlID09PSBBQ0NFU1NfTU9ERV9SRUFEKSB7XG4gICAgICAgIG1ldGFkYXRhLm1vZGUgPSBSRUFEX01PREU7XG4gICAgfVxuICAgIGlmIChub3RpZmljYXRpb25GaWx0ZXIpIHtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkZpbHRlci5taW5pbXVtU2V2ZXJpdHlMZXZlbCkge1xuICAgICAgICAgICAgbWV0YWRhdGEubm90aWZpY2F0aW9uc19taW5pbXVtX3NldmVyaXR5ID0gbm90aWZpY2F0aW9uRmlsdGVyLm1pbmltdW1TZXZlcml0eUxldmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RpZmljYXRpb25GaWx0ZXIuZGlzYWJsZWRDYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5ub3RpZmljYXRpb25zX2Rpc2FibGVkX2NhdGVnb3JpZXMgPSBub3RpZmljYXRpb25GaWx0ZXIuZGlzYWJsZWRDYXRlZ29yaWVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXRhZGF0YTtcbn1cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgc3RyZWFtaW5nIG1ldGFkYXRhLlxuICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcn0gc3RtdElkIFRoZSBxdWVyeSBpZCB0byBzdHJlYW0gaXRzIHJlc3VsdHMuXG4gKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgcmVjb3JkcyB0byBzdHJlYW0uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBhIG1ldGFkYXRhIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gYnVpbGRTdHJlYW1NZXRhZGF0YShzdG10SWQsIG4pIHtcbiAgICB2YXIgbWV0YWRhdGEgPSB7IG46ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkobikgfTtcbiAgICBpZiAoc3RtdElkICE9PSBOT19TVEFURU1FTlRfSUQpIHtcbiAgICAgICAgbWV0YWRhdGEucWlkID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShzdG10SWQpO1xuICAgIH1cbiAgICByZXR1cm4gbWV0YWRhdGE7XG59XG4vLyBjb25zdGFudHMgZm9yIG1lc3NhZ2VzIHRoYXQgbmV2ZXIgY2hhbmdlXG52YXIgUFVMTF9BTExfTUVTU0FHRSA9IG5ldyBSZXF1ZXN0TWVzc2FnZShQVUxMX0FMTCwgW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuICdQVUxMX0FMTCc7IH0pO1xudmFyIFJFU0VUX01FU1NBR0UgPSBuZXcgUmVxdWVzdE1lc3NhZ2UoUkVTRVQsIFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiAnUkVTRVQnOyB9KTtcbnZhciBDT01NSVRfTUVTU0FHRSA9IG5ldyBSZXF1ZXN0TWVzc2FnZShDT01NSVQsIFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiAnQ09NTUlUJzsgfSk7XG52YXIgUk9MTEJBQ0tfTUVTU0FHRSA9IG5ldyBSZXF1ZXN0TWVzc2FnZShST0xMQkFDSywgW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuICdST0xMQkFDSyc7IH0pO1xudmFyIEdPT0RCWUVfTUVTU0FHRSA9IG5ldyBSZXF1ZXN0TWVzc2FnZShHT09EQllFLCBbXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0dPT0RCWUUnOyB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\n// Signature bytes for each response message type\nvar SUCCESS = 0x70; // 0111 0000 // SUCCESS <metadata>\nvar RECORD = 0x71; // 0111 0001 // RECORD <value>\nvar IGNORED = 0x7e; // 0111 1110 // IGNORED <metadata>\nvar FAILURE = 0x7f; // 0111 1111 // FAILURE <metadata>\nfunction NO_OP() { }\nfunction NO_OP_IDENTITY(subject) {\n    return subject;\n}\nvar NO_OP_OBSERVER = {\n    onNext: NO_OP,\n    onCompleted: NO_OP,\n    onError: NO_OP\n};\n/**\n * Treat the protocol responses and notify the observers\n */\nvar ResponseHandler = /** @class */ (function () {\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~Observer~OnErrorApplyTransformation\n     * @param {any} error The error\n     * @returns {any} The new error\n     */\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~Observer~OnError\n     * @param {any} error The error\n     */\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~MetadataTransformer\n     * @param {any} metadata The metadata got onSuccess\n     * @returns {any} The transformed metadata\n     */\n    /**\n     * @typedef {Object} ResponseHandler~Observer\n     * @property {ResponseHandler~Observer~OnError} onError Invoke when a connection error occurs\n     * @property {ResponseHandler~Observer~OnError} onFailure Invoke when a protocol failure occurs\n     * @property {ResponseHandler~Observer~OnErrorApplyTransformation} onErrorApplyTransformation Invoke just after the failure occurs,\n     *  before notify to respective observer. This method should transform the failure reason to the approprited one.\n     */\n    /**\n     * Constructor\n     * @param {Object} param The params\n     * @param {ResponseHandler~MetadataTransformer} transformMetadata Transform metadata when the SUCCESS is received.\n     * @param {Channel} channel The channel used to exchange messages\n     * @param {Logger} log The logger\n     * @param {ResponseHandler~Observer} observer Object which will be notified about errors\n     */\n    function ResponseHandler(_a) {\n        var _b = _a === void 0 ? {} : _a, transformMetadata = _b.transformMetadata, log = _b.log, observer = _b.observer;\n        this._pendingObservers = [];\n        this._log = log;\n        this._transformMetadata = transformMetadata || NO_OP_IDENTITY;\n        this._observer = Object.assign({\n            onObserversCountChange: NO_OP,\n            onError: NO_OP,\n            onFailure: NO_OP,\n            onErrorApplyTransformation: NO_OP_IDENTITY\n        }, observer);\n    }\n    Object.defineProperty(ResponseHandler.prototype, \"currentFailure\", {\n        get: function () {\n            return this._currentFailure;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ResponseHandler.prototype.handleResponse = function (msg) {\n        var payload = msg.fields[0];\n        switch (msg.signature) {\n            case RECORD:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: RECORD \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                this._currentObserver.onNext(payload);\n                break;\n            case SUCCESS:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: SUCCESS \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    var metadata = this._transformMetadata(payload);\n                    this._currentObserver.onCompleted(metadata);\n                }\n                finally {\n                    this._updateCurrentObserver();\n                }\n                break;\n            case FAILURE:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: FAILURE \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    var standardizedCode = _standardizeCode(payload.code);\n                    var error = (0, neo4j_driver_core_1.newError)(payload.message, standardizedCode);\n                    this._currentFailure = this._observer.onErrorApplyTransformation(error);\n                    this._currentObserver.onError(this._currentFailure);\n                }\n                finally {\n                    this._updateCurrentObserver();\n                    // Things are now broken. Pending observers will get FAILURE messages routed until we are done handling this failure.\n                    this._observer.onFailure(this._currentFailure);\n                }\n                break;\n            case IGNORED:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: IGNORED \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    if (this._currentFailure && this._currentObserver.onError) {\n                        this._currentObserver.onError(this._currentFailure);\n                    }\n                    else if (this._currentObserver.onError) {\n                        this._currentObserver.onError((0, neo4j_driver_core_1.newError)('Ignored either because of an error or RESET'));\n                    }\n                }\n                finally {\n                    this._updateCurrentObserver();\n                }\n                break;\n            default:\n                this._observer.onError((0, neo4j_driver_core_1.newError)('Unknown Bolt protocol message: ' + msg));\n        }\n    };\n    /*\n     * Pop next pending observer form the list of observers and make it current observer.\n     * @protected\n     */\n    ResponseHandler.prototype._updateCurrentObserver = function () {\n        this._currentObserver = this._pendingObservers.shift();\n        this._observer.onObserversCountChange(this._observersCount);\n    };\n    Object.defineProperty(ResponseHandler.prototype, \"_observersCount\", {\n        get: function () {\n            return this._currentObserver == null ? this._pendingObservers.length : this._pendingObservers.length + 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ResponseHandler.prototype._queueObserver = function (observer) {\n        observer = observer || NO_OP_OBSERVER;\n        observer.onCompleted = observer.onCompleted || NO_OP;\n        observer.onError = observer.onError || NO_OP;\n        observer.onNext = observer.onNext || NO_OP;\n        if (this._currentObserver === undefined) {\n            this._currentObserver = observer;\n        }\n        else {\n            this._pendingObservers.push(observer);\n        }\n        this._observer.onObserversCountChange(this._observersCount);\n        return true;\n    };\n    ResponseHandler.prototype._notifyErrorToObservers = function (error) {\n        if (this._currentObserver && this._currentObserver.onError) {\n            this._currentObserver.onError(error);\n        }\n        while (this._pendingObservers.length > 0) {\n            var observer = this._pendingObservers.shift();\n            if (observer && observer.onError) {\n                observer.onError(error);\n            }\n        }\n    };\n    ResponseHandler.prototype.hasOngoingObservableRequests = function () {\n        return this._currentObserver != null || this._pendingObservers.length > 0;\n    };\n    ResponseHandler.prototype._resetFailure = function () {\n        this._currentFailure = null;\n    };\n    return ResponseHandler;\n}());\nexports[\"default\"] = ResponseHandler;\n/**\n * Standardize error classification that are different between 5.x and previous versions.\n *\n * The transient error were clean-up for being retrieable and because of this\n * `Terminated` and `LockClientStopped` were reclassified as `ClientError`.\n *\n * @param {string} code\n * @returns {string} the standardized error code\n */\nfunction _standardizeCode(code) {\n    if (code === 'Neo.TransientError.Transaction.Terminated') {\n        return 'Neo.ClientError.Transaction.Terminated';\n    }\n    else if (code === 'Neo.TransientError.Transaction.LockClientStopped') {\n        return 'Neo.ClientError.Transaction.LockClientStopped';\n    }\n    return code;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yZXNwb25zZS1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0Esb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQixvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQixLQUFLO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQixLQUFLO0FBQ3RCO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixrQkFBa0Isa0NBQWtDO0FBQ3BELGtCQUFrQixrQ0FBa0M7QUFDcEQsa0JBQWtCLHFEQUFxRDtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHFDQUFxQztBQUNwRCxlQUFlLFNBQVM7QUFDeEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsMEJBQTBCO0FBQ3pDO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvcmVzcG9uc2UtaGFuZGxlci5qcz8xNDY0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xuLy8gU2lnbmF0dXJlIGJ5dGVzIGZvciBlYWNoIHJlc3BvbnNlIG1lc3NhZ2UgdHlwZVxudmFyIFNVQ0NFU1MgPSAweDcwOyAvLyAwMTExIDAwMDAgLy8gU1VDQ0VTUyA8bWV0YWRhdGE+XG52YXIgUkVDT1JEID0gMHg3MTsgLy8gMDExMSAwMDAxIC8vIFJFQ09SRCA8dmFsdWU+XG52YXIgSUdOT1JFRCA9IDB4N2U7IC8vIDAxMTEgMTExMCAvLyBJR05PUkVEIDxtZXRhZGF0YT5cbnZhciBGQUlMVVJFID0gMHg3ZjsgLy8gMDExMSAxMTExIC8vIEZBSUxVUkUgPG1ldGFkYXRhPlxuZnVuY3Rpb24gTk9fT1AoKSB7IH1cbmZ1bmN0aW9uIE5PX09QX0lERU5USVRZKHN1YmplY3QpIHtcbiAgICByZXR1cm4gc3ViamVjdDtcbn1cbnZhciBOT19PUF9PQlNFUlZFUiA9IHtcbiAgICBvbk5leHQ6IE5PX09QLFxuICAgIG9uQ29tcGxldGVkOiBOT19PUCxcbiAgICBvbkVycm9yOiBOT19PUFxufTtcbi8qKlxuICogVHJlYXQgdGhlIHByb3RvY29sIHJlc3BvbnNlcyBhbmQgbm90aWZ5IHRoZSBvYnNlcnZlcnNcbiAqL1xudmFyIFJlc3BvbnNlSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBzb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBjb25uZWN0aW9cbiAgICAgKiBAY2FsbGJhY2sgUmVzcG9uc2VIYW5kbGVyfk9ic2VydmVyfk9uRXJyb3JBcHBseVRyYW5zZm9ybWF0aW9uXG4gICAgICogQHBhcmFtIHthbnl9IGVycm9yIFRoZSBlcnJvclxuICAgICAqIEByZXR1cm5zIHthbnl9IFRoZSBuZXcgZXJyb3JcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBzb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBjb25uZWN0aW9cbiAgICAgKiBAY2FsbGJhY2sgUmVzcG9uc2VIYW5kbGVyfk9ic2VydmVyfk9uRXJyb3JcbiAgICAgKiBAcGFyYW0ge2FueX0gZXJyb3IgVGhlIGVycm9yXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gc29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgY29ubmVjdGlvXG4gICAgICogQGNhbGxiYWNrIFJlc3BvbnNlSGFuZGxlcn5NZXRhZGF0YVRyYW5zZm9ybWVyXG4gICAgICogQHBhcmFtIHthbnl9IG1ldGFkYXRhIFRoZSBtZXRhZGF0YSBnb3Qgb25TdWNjZXNzXG4gICAgICogQHJldHVybnMge2FueX0gVGhlIHRyYW5zZm9ybWVkIG1ldGFkYXRhXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gUmVzcG9uc2VIYW5kbGVyfk9ic2VydmVyXG4gICAgICogQHByb3BlcnR5IHtSZXNwb25zZUhhbmRsZXJ+T2JzZXJ2ZXJ+T25FcnJvcn0gb25FcnJvciBJbnZva2Ugd2hlbiBhIGNvbm5lY3Rpb24gZXJyb3Igb2NjdXJzXG4gICAgICogQHByb3BlcnR5IHtSZXNwb25zZUhhbmRsZXJ+T2JzZXJ2ZXJ+T25FcnJvcn0gb25GYWlsdXJlIEludm9rZSB3aGVuIGEgcHJvdG9jb2wgZmFpbHVyZSBvY2N1cnNcbiAgICAgKiBAcHJvcGVydHkge1Jlc3BvbnNlSGFuZGxlcn5PYnNlcnZlcn5PbkVycm9yQXBwbHlUcmFuc2Zvcm1hdGlvbn0gb25FcnJvckFwcGx5VHJhbnNmb3JtYXRpb24gSW52b2tlIGp1c3QgYWZ0ZXIgdGhlIGZhaWx1cmUgb2NjdXJzLFxuICAgICAqICBiZWZvcmUgbm90aWZ5IHRvIHJlc3BlY3RpdmUgb2JzZXJ2ZXIuIFRoaXMgbWV0aG9kIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGZhaWx1cmUgcmVhc29uIHRvIHRoZSBhcHByb3ByaXRlZCBvbmUuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gVGhlIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7UmVzcG9uc2VIYW5kbGVyfk1ldGFkYXRhVHJhbnNmb3JtZXJ9IHRyYW5zZm9ybU1ldGFkYXRhIFRyYW5zZm9ybSBtZXRhZGF0YSB3aGVuIHRoZSBTVUNDRVNTIGlzIHJlY2VpdmVkLlxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbH0gY2hhbm5lbCBUaGUgY2hhbm5lbCB1c2VkIHRvIGV4Y2hhbmdlIG1lc3NhZ2VzXG4gICAgICogQHBhcmFtIHtMb2dnZXJ9IGxvZyBUaGUgbG9nZ2VyXG4gICAgICogQHBhcmFtIHtSZXNwb25zZUhhbmRsZXJ+T2JzZXJ2ZXJ9IG9ic2VydmVyIE9iamVjdCB3aGljaCB3aWxsIGJlIG5vdGlmaWVkIGFib3V0IGVycm9yc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc3BvbnNlSGFuZGxlcihfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdHJhbnNmb3JtTWV0YWRhdGEgPSBfYi50cmFuc2Zvcm1NZXRhZGF0YSwgbG9nID0gX2IubG9nLCBvYnNlcnZlciA9IF9iLm9ic2VydmVyO1xuICAgICAgICB0aGlzLl9wZW5kaW5nT2JzZXJ2ZXJzID0gW107XG4gICAgICAgIHRoaXMuX2xvZyA9IGxvZztcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtTWV0YWRhdGEgPSB0cmFuc2Zvcm1NZXRhZGF0YSB8fCBOT19PUF9JREVOVElUWTtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIG9uT2JzZXJ2ZXJzQ291bnRDaGFuZ2U6IE5PX09QLFxuICAgICAgICAgICAgb25FcnJvcjogTk9fT1AsXG4gICAgICAgICAgICBvbkZhaWx1cmU6IE5PX09QLFxuICAgICAgICAgICAgb25FcnJvckFwcGx5VHJhbnNmb3JtYXRpb246IE5PX09QX0lERU5USVRZXG4gICAgICAgIH0sIG9ic2VydmVyKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUsIFwiY3VycmVudEZhaWx1cmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50RmFpbHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFJlc3BvbnNlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0gbXNnLmZpZWxkc1swXTtcbiAgICAgICAgc3dpdGNoIChtc2cuc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBjYXNlIFJFQ09SRDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiUzogUkVDT1JEIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1zZykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudE9ic2VydmVyLm9uTmV4dChwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU1VDQ0VTUzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiUzogU1VDQ0VTUyBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtc2cpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXRhZGF0YSA9IHRoaXMuX3RyYW5zZm9ybU1ldGFkYXRhKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIub25Db21wbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ3VycmVudE9ic2VydmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGQUlMVVJFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb2cuaXNEZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoXCJTOiBGQUlMVVJFIFwiLmNvbmNhdChuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KG1zZykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YW5kYXJkaXplZENvZGUgPSBfc3RhbmRhcmRpemVDb2RlKHBheWxvYWQuY29kZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShwYXlsb2FkLm1lc3NhZ2UsIHN0YW5kYXJkaXplZENvZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50RmFpbHVyZSA9IHRoaXMuX29ic2VydmVyLm9uRXJyb3JBcHBseVRyYW5zZm9ybWF0aW9uKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudE9ic2VydmVyLm9uRXJyb3IodGhpcy5fY3VycmVudEZhaWx1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ3VycmVudE9ic2VydmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaW5ncyBhcmUgbm93IGJyb2tlbi4gUGVuZGluZyBvYnNlcnZlcnMgd2lsbCBnZXQgRkFJTFVSRSBtZXNzYWdlcyByb3V0ZWQgdW50aWwgd2UgYXJlIGRvbmUgaGFuZGxpbmcgdGhpcyBmYWlsdXJlLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vYnNlcnZlci5vbkZhaWx1cmUodGhpcy5fY3VycmVudEZhaWx1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSUdOT1JFRDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiUzogSUdOT1JFRCBcIi5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShtc2cpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50RmFpbHVyZSAmJiB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIub25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudE9ic2VydmVyLm9uRXJyb3IodGhpcy5fY3VycmVudEZhaWx1cmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRPYnNlcnZlci5vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIub25FcnJvcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0lnbm9yZWQgZWl0aGVyIGJlY2F1c2Ugb2YgYW4gZXJyb3Igb3IgUkVTRVQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUN1cnJlbnRPYnNlcnZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIub25FcnJvcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1Vua25vd24gQm9sdCBwcm90b2NvbCBtZXNzYWdlOiAnICsgbXNnKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXG4gICAgICogUG9wIG5leHQgcGVuZGluZyBvYnNlcnZlciBmb3JtIHRoZSBsaXN0IG9mIG9ic2VydmVycyBhbmQgbWFrZSBpdCBjdXJyZW50IG9ic2VydmVyLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBSZXNwb25zZUhhbmRsZXIucHJvdG90eXBlLl91cGRhdGVDdXJyZW50T2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRPYnNlcnZlciA9IHRoaXMuX3BlbmRpbmdPYnNlcnZlcnMuc2hpZnQoKTtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIub25PYnNlcnZlcnNDb3VudENoYW5nZSh0aGlzLl9vYnNlcnZlcnNDb3VudCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzcG9uc2VIYW5kbGVyLnByb3RvdHlwZSwgXCJfb2JzZXJ2ZXJzQ291bnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIgPT0gbnVsbCA/IHRoaXMuX3BlbmRpbmdPYnNlcnZlcnMubGVuZ3RoIDogdGhpcy5fcGVuZGluZ09ic2VydmVycy5sZW5ndGggKyAxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUmVzcG9uc2VIYW5kbGVyLnByb3RvdHlwZS5fcXVldWVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBvYnNlcnZlciA9IG9ic2VydmVyIHx8IE5PX09QX09CU0VSVkVSO1xuICAgICAgICBvYnNlcnZlci5vbkNvbXBsZXRlZCA9IG9ic2VydmVyLm9uQ29tcGxldGVkIHx8IE5PX09QO1xuICAgICAgICBvYnNlcnZlci5vbkVycm9yID0gb2JzZXJ2ZXIub25FcnJvciB8fCBOT19PUDtcbiAgICAgICAgb2JzZXJ2ZXIub25OZXh0ID0gb2JzZXJ2ZXIub25OZXh0IHx8IE5PX09QO1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudE9ic2VydmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRPYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ09ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vYnNlcnZlci5vbk9ic2VydmVyc0NvdW50Q2hhbmdlKHRoaXMuX29ic2VydmVyc0NvdW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBSZXNwb25zZUhhbmRsZXIucHJvdG90eXBlLl9ub3RpZnlFcnJvclRvT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50T2JzZXJ2ZXIgJiYgdGhpcy5fY3VycmVudE9ic2VydmVyLm9uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRPYnNlcnZlci5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5fcGVuZGluZ09ic2VydmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSB0aGlzLl9wZW5kaW5nT2JzZXJ2ZXJzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIub25FcnJvcikge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNwb25zZUhhbmRsZXIucHJvdG90eXBlLmhhc09uZ29pbmdPYnNlcnZhYmxlUmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50T2JzZXJ2ZXIgIT0gbnVsbCB8fCB0aGlzLl9wZW5kaW5nT2JzZXJ2ZXJzLmxlbmd0aCA+IDA7XG4gICAgfTtcbiAgICBSZXNwb25zZUhhbmRsZXIucHJvdG90eXBlLl9yZXNldEZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRGYWlsdXJlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBSZXNwb25zZUhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUmVzcG9uc2VIYW5kbGVyO1xuLyoqXG4gKiBTdGFuZGFyZGl6ZSBlcnJvciBjbGFzc2lmaWNhdGlvbiB0aGF0IGFyZSBkaWZmZXJlbnQgYmV0d2VlbiA1LnggYW5kIHByZXZpb3VzIHZlcnNpb25zLlxuICpcbiAqIFRoZSB0cmFuc2llbnQgZXJyb3Igd2VyZSBjbGVhbi11cCBmb3IgYmVpbmcgcmV0cmllYWJsZSBhbmQgYmVjYXVzZSBvZiB0aGlzXG4gKiBgVGVybWluYXRlZGAgYW5kIGBMb2NrQ2xpZW50U3RvcHBlZGAgd2VyZSByZWNsYXNzaWZpZWQgYXMgYENsaWVudEVycm9yYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29kZVxuICogQHJldHVybnMge3N0cmluZ30gdGhlIHN0YW5kYXJkaXplZCBlcnJvciBjb2RlXG4gKi9cbmZ1bmN0aW9uIF9zdGFuZGFyZGl6ZUNvZGUoY29kZSkge1xuICAgIGlmIChjb2RlID09PSAnTmVvLlRyYW5zaWVudEVycm9yLlRyYW5zYWN0aW9uLlRlcm1pbmF0ZWQnKSB7XG4gICAgICAgIHJldHVybiAnTmVvLkNsaWVudEVycm9yLlRyYW5zYWN0aW9uLlRlcm1pbmF0ZWQnO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2RlID09PSAnTmVvLlRyYW5zaWVudEVycm9yLlRyYW5zYWN0aW9uLkxvY2tDbGllbnRTdG9wcGVkJykge1xuICAgICAgICByZXR1cm4gJ05lby5DbGllbnRFcnJvci5UcmFuc2FjdGlvbi5Mb2NrQ2xpZW50U3RvcHBlZCc7XG4gICAgfVxuICAgIHJldHVybiBjb2RlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\nvar neo4j_driver_core_1 = __importDefault(__webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\"));\n/**\n * Represente the raw version of the routing table\n */\nvar RawRoutingTable = /** @class */ (function () {\n    function RawRoutingTable() {\n    }\n    /**\n     * Constructs the raw routing table for Record based result\n     * @param {Record} record The record which will be used get the raw routing table\n     * @returns {RawRoutingTable} The raw routing table\n     */\n    RawRoutingTable.ofRecord = function (record) {\n        if (record === null) {\n            return RawRoutingTable.ofNull();\n        }\n        return new RecordRawRoutingTable(record);\n    };\n    /**\n     * Constructs the raw routing table for Success result for a Routing Message\n     * @param {object} response The result\n     * @returns {RawRoutingTable} The raw routing table\n     */\n    RawRoutingTable.ofMessageResponse = function (response) {\n        if (response === null) {\n            return RawRoutingTable.ofNull();\n        }\n        return new ResponseRawRoutingTable(response);\n    };\n    /**\n     * Construct the raw routing table of a null response\n     *\n     * @returns {RawRoutingTable} the raw routing table\n     */\n    RawRoutingTable.ofNull = function () {\n        return new NullRawRoutingTable();\n    };\n    Object.defineProperty(RawRoutingTable.prototype, \"ttl\", {\n        /**\n         * Get raw ttl\n         *\n         * @returns {number|string} ttl Time to live\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"db\", {\n        /**\n         * Get raw db\n         *\n         * @returns {string?} The database name\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"servers\", {\n        /**\n         *\n         * @typedef {Object} ServerRole\n         * @property {string} role the role of the address on the cluster\n         * @property {string[]} addresses the address within the role\n         *\n         * @return {ServerRole[]} list of servers addresses\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"isNull\", {\n        /**\n         * Indicates the result is null\n         *\n         * @returns {boolean} Is null\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RawRoutingTable;\n}());\nexports[\"default\"] = RawRoutingTable;\n/**\n * Get the raw routing table information from route message response\n */\nvar ResponseRawRoutingTable = /** @class */ (function (_super) {\n    __extends(ResponseRawRoutingTable, _super);\n    function ResponseRawRoutingTable(response) {\n        var _this = _super.call(this) || this;\n        _this._response = response;\n        return _this;\n    }\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"ttl\", {\n        get: function () {\n            return this._response.rt.ttl;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"servers\", {\n        get: function () {\n            return this._response.rt.servers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"db\", {\n        get: function () {\n            return this._response.rt.db;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return this._response === null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ResponseRawRoutingTable;\n}(RawRoutingTable));\n/**\n * Null routing table\n */\nvar NullRawRoutingTable = /** @class */ (function (_super) {\n    __extends(NullRawRoutingTable, _super);\n    function NullRawRoutingTable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(NullRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NullRawRoutingTable;\n}(RawRoutingTable));\n/**\n * Get the raw routing table information from the record\n */\nvar RecordRawRoutingTable = /** @class */ (function (_super) {\n    __extends(RecordRawRoutingTable, _super);\n    function RecordRawRoutingTable(record) {\n        var _this = _super.call(this) || this;\n        _this._record = record;\n        return _this;\n    }\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"ttl\", {\n        get: function () {\n            return this._record.get('ttl');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"servers\", {\n        get: function () {\n            return this._record.get('servers');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"db\", {\n        get: function () {\n            return this._record.has('db') ? this._record.get('db') : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return this._record === null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RecordRawRoutingTable;\n}(RawRoutingTable));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9yb3V0aW5nLXRhYmxlLXJhdy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QixzQkFBc0IsUUFBUTtBQUM5QixzQkFBc0IsVUFBVTtBQUNoQztBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvcm91dGluZy10YWJsZS1yYXcuanM/ZDJhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIikpO1xuLyoqXG4gKiBSZXByZXNlbnRlIHRoZSByYXcgdmVyc2lvbiBvZiB0aGUgcm91dGluZyB0YWJsZVxuICovXG52YXIgUmF3Um91dGluZ1RhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhd1JvdXRpbmdUYWJsZSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyB0aGUgcmF3IHJvdXRpbmcgdGFibGUgZm9yIFJlY29yZCBiYXNlZCByZXN1bHRcbiAgICAgKiBAcGFyYW0ge1JlY29yZH0gcmVjb3JkIFRoZSByZWNvcmQgd2hpY2ggd2lsbCBiZSB1c2VkIGdldCB0aGUgcmF3IHJvdXRpbmcgdGFibGVcbiAgICAgKiBAcmV0dXJucyB7UmF3Um91dGluZ1RhYmxlfSBUaGUgcmF3IHJvdXRpbmcgdGFibGVcbiAgICAgKi9cbiAgICBSYXdSb3V0aW5nVGFibGUub2ZSZWNvcmQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBSYXdSb3V0aW5nVGFibGUub2ZOdWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWNvcmRSYXdSb3V0aW5nVGFibGUocmVjb3JkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgdGhlIHJhdyByb3V0aW5nIHRhYmxlIGZvciBTdWNjZXNzIHJlc3VsdCBmb3IgYSBSb3V0aW5nIE1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHtSYXdSb3V0aW5nVGFibGV9IFRoZSByYXcgcm91dGluZyB0YWJsZVxuICAgICAqL1xuICAgIFJhd1JvdXRpbmdUYWJsZS5vZk1lc3NhZ2VSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBSYXdSb3V0aW5nVGFibGUub2ZOdWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZVJhd1JvdXRpbmdUYWJsZShyZXNwb25zZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgdGhlIHJhdyByb3V0aW5nIHRhYmxlIG9mIGEgbnVsbCByZXNwb25zZVxuICAgICAqXG4gICAgICogQHJldHVybnMge1Jhd1JvdXRpbmdUYWJsZX0gdGhlIHJhdyByb3V0aW5nIHRhYmxlXG4gICAgICovXG4gICAgUmF3Um91dGluZ1RhYmxlLm9mTnVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOdWxsUmF3Um91dGluZ1RhYmxlKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmF3Um91dGluZ1RhYmxlLnByb3RvdHlwZSwgXCJ0dGxcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHJhdyB0dGxcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge251bWJlcnxzdHJpbmd9IHR0bCBUaW1lIHRvIGxpdmVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcImRiXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCByYXcgZGJcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZz99IFRoZSBkYXRhYmFzZSBuYW1lXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmF3Um91dGluZ1RhYmxlLnByb3RvdHlwZSwgXCJzZXJ2ZXJzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcnZlclJvbGVcbiAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHJvbGUgdGhlIHJvbGUgb2YgdGhlIGFkZHJlc3Mgb24gdGhlIGNsdXN0ZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmdbXX0gYWRkcmVzc2VzIHRoZSBhZGRyZXNzIHdpdGhpbiB0aGUgcm9sZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuIHtTZXJ2ZXJSb2xlW119IGxpc3Qgb2Ygc2VydmVycyBhZGRyZXNzZXNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcImlzTnVsbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhlIHJlc3VsdCBpcyBudWxsXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBJcyBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUmF3Um91dGluZ1RhYmxlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJhd1JvdXRpbmdUYWJsZTtcbi8qKlxuICogR2V0IHRoZSByYXcgcm91dGluZyB0YWJsZSBpbmZvcm1hdGlvbiBmcm9tIHJvdXRlIG1lc3NhZ2UgcmVzcG9uc2VcbiAqL1xudmFyIFJlc3BvbnNlUmF3Um91dGluZ1RhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXNwb25zZVJhd1JvdXRpbmdUYWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXNwb25zZVJhd1JvdXRpbmdUYWJsZShyZXNwb25zZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzcG9uc2VSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcInR0bFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlLnJ0LnR0bDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNwb25zZVJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwic2VydmVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlLnJ0LnNlcnZlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzcG9uc2VSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcImRiXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2UucnQuZGI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzcG9uc2VSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcImlzTnVsbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlID09PSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJlc3BvbnNlUmF3Um91dGluZ1RhYmxlO1xufShSYXdSb3V0aW5nVGFibGUpKTtcbi8qKlxuICogTnVsbCByb3V0aW5nIHRhYmxlXG4gKi9cbnZhciBOdWxsUmF3Um91dGluZ1RhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOdWxsUmF3Um91dGluZ1RhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE51bGxSYXdSb3V0aW5nVGFibGUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE51bGxSYXdSb3V0aW5nVGFibGUucHJvdG90eXBlLCBcImlzTnVsbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTnVsbFJhd1JvdXRpbmdUYWJsZTtcbn0oUmF3Um91dGluZ1RhYmxlKSk7XG4vKipcbiAqIEdldCB0aGUgcmF3IHJvdXRpbmcgdGFibGUgaW5mb3JtYXRpb24gZnJvbSB0aGUgcmVjb3JkXG4gKi9cbnZhciBSZWNvcmRSYXdSb3V0aW5nVGFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlY29yZFJhd1JvdXRpbmdUYWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWNvcmRSYXdSb3V0aW5nVGFibGUocmVjb3JkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9yZWNvcmQgPSByZWNvcmQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY29yZFJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwidHRsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb3JkLmdldCgndHRsJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjb3JkUmF3Um91dGluZ1RhYmxlLnByb3RvdHlwZSwgXCJzZXJ2ZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb3JkLmdldCgnc2VydmVycycpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY29yZFJhd1JvdXRpbmdUYWJsZS5wcm90b3R5cGUsIFwiZGJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvcmQuaGFzKCdkYicpID8gdGhpcy5fcmVjb3JkLmdldCgnZGInKSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjb3JkUmF3Um91dGluZ1RhYmxlLnByb3RvdHlwZSwgXCJpc051bGxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvcmQgPT09IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUmVjb3JkUmF3Um91dGluZ1RhYmxlO1xufShSYXdSb3V0aW5nVGFibGUpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TelemetryObserver = exports.ProcedureRouteObserver = exports.RouteObserver = exports.CompletedObserver = exports.FailedObserver = exports.ResetObserver = exports.LogoffObserver = exports.LoginObserver = exports.ResultStreamObserver = exports.StreamObserver = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar routing_table_raw_1 = __importDefault(__webpack_require__(/*! ./routing-table-raw */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js\"));\nvar FETCH_ALL = neo4j_driver_core_1.internal.constants.FETCH_ALL;\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar StreamObserver = /** @class */ (function () {\n    function StreamObserver() {\n    }\n    StreamObserver.prototype.onNext = function (rawRecord) { };\n    StreamObserver.prototype.onError = function (_error) { };\n    StreamObserver.prototype.onCompleted = function (meta) { };\n    return StreamObserver;\n}());\nexports.StreamObserver = StreamObserver;\n/**\n * Handles a RUN/PULL_ALL, or RUN/DISCARD_ALL requests, maps the responses\n * in a way that a user-provided observer can see these as a clean Stream\n * of records.\n * This class will queue up incoming messages until a user-provided observer\n * for the incoming stream is registered. Thus, we keep fields around\n * for tracking head/records/tail. These are only used if there is no\n * observer registered.\n * @access private\n */\nvar ResultStreamObserver = /** @class */ (function (_super) {\n    __extends(ResultStreamObserver, _super);\n    /**\n     *\n     * @param {Object} param\n     * @param {Object} param.server\n     * @param {boolean} param.reactive\n     * @param {function(stmtId: number|Integer, n: number|Integer, observer: StreamObserver)} param.moreFunction -\n     * @param {function(stmtId: number|Integer, observer: StreamObserver)} param.discardFunction -\n     * @param {number|Integer} param.fetchSize -\n     * @param {function(err: Error): Promise|void} param.beforeError -\n     * @param {function(err: Error): Promise|void} param.afterError -\n     * @param {function(keys: string[]): Promise|void} param.beforeKeys -\n     * @param {function(keys: string[]): Promise|void} param.afterKeys -\n     * @param {function(metadata: Object): Promise|void} param.beforeComplete -\n     * @param {function(metadata: Object): Promise|void} param.afterComplete -\n     */\n    function ResultStreamObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.reactive, reactive = _c === void 0 ? false : _c, moreFunction = _b.moreFunction, discardFunction = _b.discardFunction, _d = _b.fetchSize, fetchSize = _d === void 0 ? FETCH_ALL : _d, beforeError = _b.beforeError, afterError = _b.afterError, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, server = _b.server, _e = _b.highRecordWatermark, highRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e, _f = _b.lowRecordWatermark, lowRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f;\n        var _this = _super.call(this) || this;\n        _this._fieldKeys = null;\n        _this._fieldLookup = null;\n        _this._head = null;\n        _this._queuedRecords = [];\n        _this._tail = null;\n        _this._error = null;\n        _this._observers = [];\n        _this._meta = {};\n        _this._server = server;\n        _this._beforeError = beforeError;\n        _this._afterError = afterError;\n        _this._beforeKeys = beforeKeys;\n        _this._afterKeys = afterKeys;\n        _this._beforeComplete = beforeComplete;\n        _this._afterComplete = afterComplete;\n        _this._queryId = null;\n        _this._moreFunction = moreFunction;\n        _this._discardFunction = discardFunction;\n        _this._discard = false;\n        _this._fetchSize = fetchSize;\n        _this._lowRecordWatermark = lowRecordWatermark;\n        _this._highRecordWatermark = highRecordWatermark;\n        _this._setState(reactive ? _states.READY : _states.READY_STREAMING);\n        _this._setupAutoPull();\n        _this._paused = false;\n        return _this;\n    }\n    /**\n     * Pause the record consuming\n     *\n     * This function will supend the record consuming. It will not cancel the stream and the already\n     * requested records will be sent to the subscriber.\n     */\n    ResultStreamObserver.prototype.pause = function () {\n        this._paused = true;\n    };\n    /**\n     * Resume the record consuming\n     *\n     * This function will resume the record consuming fetching more records from the server.\n     */\n    ResultStreamObserver.prototype.resume = function () {\n        this._paused = false;\n        this._setupAutoPull(true);\n        this._state.pull(this);\n    };\n    /**\n     * Will be called on every record that comes in and transform a raw record\n     * to a Object. If user-provided observer is present, pass transformed record\n     * to it's onNext method, otherwise, push to record que.\n     * @param {Array} rawRecord - An array with the raw record\n     */\n    ResultStreamObserver.prototype.onNext = function (rawRecord) {\n        var record = new neo4j_driver_core_1.Record(this._fieldKeys, rawRecord, this._fieldLookup);\n        if (this._observers.some(function (o) { return o.onNext; })) {\n            this._observers.forEach(function (o) {\n                if (o.onNext) {\n                    o.onNext(record);\n                }\n            });\n        }\n        else {\n            this._queuedRecords.push(record);\n            if (this._queuedRecords.length > this._highRecordWatermark) {\n                this._autoPull = false;\n            }\n        }\n    };\n    ResultStreamObserver.prototype.onCompleted = function (meta) {\n        this._state.onSuccess(this, meta);\n    };\n    /**\n     * Will be called on errors.\n     * If user-provided observer is present, pass the error\n     * to it's onError method, otherwise set instance variable _error.\n     * @param {Object} error - An error object\n     */\n    ResultStreamObserver.prototype.onError = function (error) {\n        this._state.onError(this, error);\n    };\n    /**\n     * Cancel pending record stream\n     */\n    ResultStreamObserver.prototype.cancel = function () {\n        this._discard = true;\n    };\n    /**\n     * Stream observer defaults to handling responses for two messages: RUN + PULL_ALL or RUN + DISCARD_ALL.\n     * Response for RUN initializes query keys. Response for PULL_ALL / DISCARD_ALL exposes the result stream.\n     *\n     * However, some operations can be represented as a single message which receives full metadata in a single response.\n     * For example, operations to begin, commit and rollback an explicit transaction use two messages in Bolt V1 but a single message in Bolt V3.\n     * Messages are `RUN \"BEGIN\" {}` + `PULL_ALL` in Bolt V1 and `BEGIN` in Bolt V3.\n     *\n     * This function prepares the observer to only handle a single response message.\n     */\n    ResultStreamObserver.prototype.prepareToHandleSingleResponse = function () {\n        this._head = [];\n        this._fieldKeys = [];\n        this._setState(_states.STREAMING);\n    };\n    /**\n     * Mark this observer as if it has completed with no metadata.\n     */\n    ResultStreamObserver.prototype.markCompleted = function () {\n        this._head = [];\n        this._fieldKeys = [];\n        this._tail = {};\n        this._setState(_states.SUCCEEDED);\n    };\n    /**\n     * Subscribe to events with provided observer.\n     * @param {Object} observer - Observer object\n     * @param {function(keys: String[])} observer.onKeys - Handle stream header, field keys.\n     * @param {function(record: Object)} observer.onNext - Handle records, one by one.\n     * @param {function(metadata: Object)} observer.onCompleted - Handle stream tail, the metadata.\n     * @param {function(error: Object)} observer.onError - Handle errors, should always be provided.\n     */\n    ResultStreamObserver.prototype.subscribe = function (observer) {\n        if (this._head && observer.onKeys) {\n            observer.onKeys(this._head);\n        }\n        if (this._queuedRecords.length > 0 && observer.onNext) {\n            for (var i = 0; i < this._queuedRecords.length; i++) {\n                observer.onNext(this._queuedRecords[i]);\n                if (this._queuedRecords.length - i - 1 <= this._lowRecordWatermark) {\n                    this._autoPull = true;\n                    if (this._state === _states.READY) {\n                        this._handleStreaming();\n                    }\n                }\n            }\n        }\n        if (this._tail && observer.onCompleted) {\n            observer.onCompleted(this._tail);\n        }\n        if (this._error) {\n            observer.onError(this._error);\n        }\n        this._observers.push(observer);\n        if (this._state === _states.READY) {\n            this._handleStreaming();\n        }\n    };\n    ResultStreamObserver.prototype._handleHasMore = function (meta) {\n        // We've consumed current batch and server notified us that there're more\n        // records to stream. Let's invoke more or discard function based on whether\n        // the user wants to discard streaming or not\n        this._setState(_states.READY); // we've done streaming\n        this._handleStreaming();\n        delete meta.has_more;\n    };\n    ResultStreamObserver.prototype._handlePullSuccess = function (meta) {\n        var _this = this;\n        var completionMetadata = Object.assign(this._server ? { server: this._server } : {}, this._meta, meta);\n        if (![undefined, null, 'r', 'w', 'rw', 's'].includes(completionMetadata.type)) {\n            this.onError((0, neo4j_driver_core_1.newError)(\"Server returned invalid query type. Expected one of [undefined, null, \\\"r\\\", \\\"w\\\", \\\"rw\\\", \\\"s\\\"] but got '\".concat(completionMetadata.type, \"'\"), PROTOCOL_ERROR));\n            return;\n        }\n        this._setState(_states.SUCCEEDED);\n        var beforeHandlerResult = null;\n        if (this._beforeComplete) {\n            beforeHandlerResult = this._beforeComplete(completionMetadata);\n        }\n        var continuation = function () {\n            // End of stream\n            _this._tail = completionMetadata;\n            if (_this._observers.some(function (o) { return o.onCompleted; })) {\n                _this._observers.forEach(function (o) {\n                    if (o.onCompleted) {\n                        o.onCompleted(completionMetadata);\n                    }\n                });\n            }\n            if (_this._afterComplete) {\n                _this._afterComplete(completionMetadata);\n            }\n        };\n        if (beforeHandlerResult) {\n            Promise.resolve(beforeHandlerResult).then(function () { return continuation(); });\n        }\n        else {\n            continuation();\n        }\n    };\n    ResultStreamObserver.prototype._handleRunSuccess = function (meta, afterSuccess) {\n        var _this = this;\n        if (this._fieldKeys === null) {\n            // Stream header, build a name->index field lookup table\n            // to be used by records. This is an optimization to make it\n            // faster to look up fields in a record by name, rather than by index.\n            // Since the records we get back via Bolt are just arrays of values.\n            this._fieldKeys = [];\n            this._fieldLookup = {};\n            if (meta.fields && meta.fields.length > 0) {\n                this._fieldKeys = meta.fields;\n                for (var i = 0; i < meta.fields.length; i++) {\n                    this._fieldLookup[meta.fields[i]] = i;\n                }\n                // remove fields key from metadata object\n                delete meta.fields;\n            }\n            // Extract server generated query id for use in requestMore and discard\n            // functions\n            if (meta.qid !== null && meta.qid !== undefined) {\n                this._queryId = meta.qid;\n                // remove qid from metadata object\n                delete meta.qid;\n            }\n            this._storeMetadataForCompletion(meta);\n            var beforeHandlerResult = null;\n            if (this._beforeKeys) {\n                beforeHandlerResult = this._beforeKeys(this._fieldKeys);\n            }\n            var continuation_1 = function () {\n                _this._head = _this._fieldKeys;\n                if (_this._observers.some(function (o) { return o.onKeys; })) {\n                    _this._observers.forEach(function (o) {\n                        if (o.onKeys) {\n                            o.onKeys(_this._fieldKeys);\n                        }\n                    });\n                }\n                if (_this._afterKeys) {\n                    _this._afterKeys(_this._fieldKeys);\n                }\n                afterSuccess();\n            };\n            if (beforeHandlerResult) {\n                Promise.resolve(beforeHandlerResult).then(function () { return continuation_1(); });\n            }\n            else {\n                continuation_1();\n            }\n        }\n    };\n    ResultStreamObserver.prototype._handleError = function (error) {\n        var _this = this;\n        this._setState(_states.FAILED);\n        this._error = error;\n        var beforeHandlerResult = null;\n        if (this._beforeError) {\n            beforeHandlerResult = this._beforeError(error);\n        }\n        var continuation = function () {\n            if (_this._observers.some(function (o) { return o.onError; })) {\n                _this._observers.forEach(function (o) {\n                    if (o.onError) {\n                        o.onError(error);\n                    }\n                });\n            }\n            if (_this._afterError) {\n                _this._afterError(error);\n            }\n        };\n        if (beforeHandlerResult) {\n            Promise.resolve(beforeHandlerResult).then(function () { return continuation(); });\n        }\n        else {\n            continuation();\n        }\n    };\n    ResultStreamObserver.prototype._handleStreaming = function () {\n        if (this._head && this._observers.some(function (o) { return o.onNext || o.onCompleted; })) {\n            if (!this._paused && (this._discard || this._autoPull)) {\n                this._more();\n            }\n        }\n    };\n    ResultStreamObserver.prototype._more = function () {\n        if (this._discard) {\n            this._discardFunction(this._queryId, this);\n        }\n        else {\n            this._moreFunction(this._queryId, this._fetchSize, this);\n        }\n        this._setState(_states.STREAMING);\n    };\n    ResultStreamObserver.prototype._storeMetadataForCompletion = function (meta) {\n        var keys = Object.keys(meta);\n        var index = keys.length;\n        var key = '';\n        while (index--) {\n            key = keys[index];\n            this._meta[key] = meta[key];\n        }\n    };\n    ResultStreamObserver.prototype._setState = function (state) {\n        this._state = state;\n    };\n    ResultStreamObserver.prototype._setupAutoPull = function () {\n        this._autoPull = true;\n    };\n    return ResultStreamObserver;\n}(StreamObserver));\nexports.ResultStreamObserver = ResultStreamObserver;\nvar LoginObserver = /** @class */ (function (_super) {\n    __extends(LoginObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onCompleted\n     */\n    function LoginObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    LoginObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when initializing ' + neo4j_driver_core_1.json.stringify(record)));\n    };\n    LoginObserver.prototype.onError = function (error) {\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    LoginObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(metadata);\n        }\n    };\n    return LoginObserver;\n}(StreamObserver));\nexports.LoginObserver = LoginObserver;\nvar LogoffObserver = /** @class */ (function (_super) {\n    __extends(LogoffObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onCompleted\n     */\n    function LogoffObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    LogoffObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when logging off ' + neo4j_driver_core_1.json.stringify(record)));\n    };\n    LogoffObserver.prototype.onError = function (error) {\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    LogoffObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(metadata);\n        }\n    };\n    return LogoffObserver;\n}(StreamObserver));\nexports.LogoffObserver = LogoffObserver;\nvar ResetObserver = /** @class */ (function (_super) {\n    __extends(ResetObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: String)} param.onProtocolError\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onComplete\n     */\n    function ResetObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onProtocolError = _b.onProtocolError, onError = _b.onError, onComplete = _b.onComplete;\n        var _this = _super.call(this) || this;\n        _this._onProtocolError = onProtocolError;\n        _this._onError = onError;\n        _this._onComplete = onComplete;\n        return _this;\n    }\n    ResetObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when resetting: received record is: ' +\n            neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    ResetObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    ResetObserver.prototype.onCompleted = function (metadata) {\n        if (this._onComplete) {\n            this._onComplete(metadata);\n        }\n    };\n    return ResetObserver;\n}(StreamObserver));\nexports.ResetObserver = ResetObserver;\nvar TelemetryObserver = /** @class */ (function (_super) {\n    __extends(TelemetryObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onCompleted\n     */\n    function TelemetryObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    TelemetryObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when sending telemetry ' + neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    TelemetryObserver.prototype.onError = function (error) {\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    TelemetryObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(metadata);\n        }\n    };\n    return TelemetryObserver;\n}(ResultStreamObserver));\nexports.TelemetryObserver = TelemetryObserver;\nvar FailedObserver = /** @class */ (function (_super) {\n    __extends(FailedObserver, _super);\n    function FailedObserver(_a) {\n        var error = _a.error, onError = _a.onError;\n        var _this = _super.call(this, { beforeError: onError }) || this;\n        _this.onError(error);\n        return _this;\n    }\n    return FailedObserver;\n}(ResultStreamObserver));\nexports.FailedObserver = FailedObserver;\nvar CompletedObserver = /** @class */ (function (_super) {\n    __extends(CompletedObserver, _super);\n    function CompletedObserver() {\n        var _this = _super.call(this) || this;\n        _super.prototype.markCompleted.call(_this);\n        return _this;\n    }\n    return CompletedObserver;\n}(ResultStreamObserver));\nexports.CompletedObserver = CompletedObserver;\nvar ProcedureRouteObserver = /** @class */ (function (_super) {\n    __extends(ProcedureRouteObserver, _super);\n    function ProcedureRouteObserver(_a) {\n        var resultObserver = _a.resultObserver, onProtocolError = _a.onProtocolError, onError = _a.onError, onCompleted = _a.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._resultObserver = resultObserver;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        _this._records = [];\n        _this._onProtocolError = onProtocolError;\n        resultObserver.subscribe(_this);\n        return _this;\n    }\n    ProcedureRouteObserver.prototype.onNext = function (record) {\n        this._records.push(record);\n    };\n    ProcedureRouteObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    ProcedureRouteObserver.prototype.onCompleted = function () {\n        if (this._records !== null && this._records.length !== 1) {\n            this.onError((0, neo4j_driver_core_1.newError)('Illegal response from router. Received ' +\n                this._records.length +\n                ' records but expected only one.\\n' +\n                neo4j_driver_core_1.json.stringify(this._records), PROTOCOL_ERROR));\n            return;\n        }\n        if (this._onCompleted) {\n            this._onCompleted(routing_table_raw_1.default.ofRecord(this._records[0]));\n        }\n    };\n    return ProcedureRouteObserver;\n}(StreamObserver));\nexports.ProcedureRouteObserver = ProcedureRouteObserver;\nvar RouteObserver = /** @class */ (function (_super) {\n    __extends(RouteObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: String)} param.onProtocolError\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     */\n    function RouteObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onProtocolError = _b.onProtocolError, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onProtocolError = onProtocolError;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    RouteObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when resetting: received record is: ' +\n            neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    RouteObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    RouteObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(routing_table_raw_1.default.ofMessageResponse(metadata));\n        }\n    };\n    return RouteObserver;\n}(StreamObserver));\nexports.RouteObserver = RouteObserver;\nvar _states = {\n    READY_STREAMING: {\n        // async start state\n        onSuccess: function (streamObserver, meta) {\n            streamObserver._handleRunSuccess(meta, function () {\n                streamObserver._setState(_states.STREAMING);\n            } // after run succeeded, async directly move to streaming\n            // state\n            );\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'READY_STREAMING';\n        },\n        pull: function () { }\n    },\n    READY: {\n        // reactive start state\n        onSuccess: function (streamObserver, meta) {\n            streamObserver._handleRunSuccess(meta, function () { return streamObserver._handleStreaming(); } // after run succeeded received, reactive shall start pulling\n            );\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'READY';\n        },\n        pull: function (streamObserver) { return streamObserver._more(); }\n    },\n    STREAMING: {\n        onSuccess: function (streamObserver, meta) {\n            if (meta.has_more) {\n                streamObserver._handleHasMore(meta);\n            }\n            else {\n                streamObserver._handlePullSuccess(meta);\n            }\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'STREAMING';\n        },\n        pull: function () { }\n    },\n    FAILED: {\n        onError: function (_error) {\n            // more errors are ignored\n        },\n        name: function () {\n            return 'FAILED';\n        },\n        pull: function () { }\n    },\n    SUCCEEDED: {\n        name: function () {\n            return 'SUCCEEDED';\n        },\n        pull: function () { }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC9zdHJlYW0tb2JzZXJ2ZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsOEJBQThCLEdBQUcscUJBQXFCLEdBQUcseUJBQXlCLEdBQUcsc0JBQXNCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcscUJBQXFCLEdBQUcsNEJBQTRCLEdBQUcsc0JBQXNCO0FBQ3hRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELDBDQUEwQyxtQkFBTyxDQUFDLDRHQUFxQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QixlQUFlLCtFQUErRTtBQUM5RixlQUFlLDREQUE0RDtBQUMzRSxlQUFlLGdCQUFnQjtBQUMvQixlQUFlLG9DQUFvQztBQUNuRCxlQUFlLG9DQUFvQztBQUNuRCxlQUFlLHdDQUF3QztBQUN2RCxlQUFlLHdDQUF3QztBQUN2RCxlQUFlLDBDQUEwQztBQUN6RCxlQUFlLDBDQUEwQztBQUN6RDtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsa0JBQWtCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLDBCQUEwQjtBQUN6QyxlQUFlLDBCQUEwQjtBQUN6QyxlQUFlLDRCQUE0QjtBQUMzQyxlQUFlLHlCQUF5QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0NBQWdDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLHVCQUF1QixJQUFJO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx1QkFBdUI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHdCQUF3QjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3QkFBd0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsa0JBQWtCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLDBCQUEwQjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsbUJBQW1CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSx3QkFBd0I7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELG1DQUFtQztBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsdUJBQXVCO0FBQ3RDLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxzQkFBc0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHVCQUF1QjtBQUN0QyxlQUFlLHNCQUFzQjtBQUNyQyxlQUFlLDJCQUEyQjtBQUMxQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSw0Q0FBNEM7QUFDN0c7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULDBDQUEwQztBQUMxQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2JvbHQvc3RyZWFtLW9ic2VydmVycy5qcz8wZmExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGVsZW1ldHJ5T2JzZXJ2ZXIgPSBleHBvcnRzLlByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIgPSBleHBvcnRzLlJvdXRlT2JzZXJ2ZXIgPSBleHBvcnRzLkNvbXBsZXRlZE9ic2VydmVyID0gZXhwb3J0cy5GYWlsZWRPYnNlcnZlciA9IGV4cG9ydHMuUmVzZXRPYnNlcnZlciA9IGV4cG9ydHMuTG9nb2ZmT2JzZXJ2ZXIgPSBleHBvcnRzLkxvZ2luT2JzZXJ2ZXIgPSBleHBvcnRzLlJlc3VsdFN0cmVhbU9ic2VydmVyID0gZXhwb3J0cy5TdHJlYW1PYnNlcnZlciA9IHZvaWQgMDtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciByb3V0aW5nX3RhYmxlX3Jhd18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JvdXRpbmctdGFibGUtcmF3XCIpKTtcbnZhciBGRVRDSF9BTEwgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cy5GRVRDSF9BTEw7XG52YXIgUFJPVE9DT0xfRVJST1IgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlBST1RPQ09MX0VSUk9SO1xudmFyIFN0cmVhbU9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmVhbU9ic2VydmVyKCkge1xuICAgIH1cbiAgICBTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUub25OZXh0ID0gZnVuY3Rpb24gKHJhd1JlY29yZCkgeyB9O1xuICAgIFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKF9lcnJvcikgeyB9O1xuICAgIFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5vbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhKSB7IH07XG4gICAgcmV0dXJuIFN0cmVhbU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydHMuU3RyZWFtT2JzZXJ2ZXIgPSBTdHJlYW1PYnNlcnZlcjtcbi8qKlxuICogSGFuZGxlcyBhIFJVTi9QVUxMX0FMTCwgb3IgUlVOL0RJU0NBUkRfQUxMIHJlcXVlc3RzLCBtYXBzIHRoZSByZXNwb25zZXNcbiAqIGluIGEgd2F5IHRoYXQgYSB1c2VyLXByb3ZpZGVkIG9ic2VydmVyIGNhbiBzZWUgdGhlc2UgYXMgYSBjbGVhbiBTdHJlYW1cbiAqIG9mIHJlY29yZHMuXG4gKiBUaGlzIGNsYXNzIHdpbGwgcXVldWUgdXAgaW5jb21pbmcgbWVzc2FnZXMgdW50aWwgYSB1c2VyLXByb3ZpZGVkIG9ic2VydmVyXG4gKiBmb3IgdGhlIGluY29taW5nIHN0cmVhbSBpcyByZWdpc3RlcmVkLiBUaHVzLCB3ZSBrZWVwIGZpZWxkcyBhcm91bmRcbiAqIGZvciB0cmFja2luZyBoZWFkL3JlY29yZHMvdGFpbC4gVGhlc2UgYXJlIG9ubHkgdXNlZCBpZiB0aGVyZSBpcyBub1xuICogb2JzZXJ2ZXIgcmVnaXN0ZXJlZC5cbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICovXG52YXIgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlc3VsdFN0cmVhbU9ic2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtLnNlcnZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW0ucmVhY3RpdmVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0bXRJZDogbnVtYmVyfEludGVnZXIsIG46IG51bWJlcnxJbnRlZ2VyLCBvYnNlcnZlcjogU3RyZWFtT2JzZXJ2ZXIpfSBwYXJhbS5tb3JlRnVuY3Rpb24gLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RtdElkOiBudW1iZXJ8SW50ZWdlciwgb2JzZXJ2ZXI6IFN0cmVhbU9ic2VydmVyKX0gcGFyYW0uZGlzY2FyZEZ1bmN0aW9uIC1cbiAgICAgKiBAcGFyYW0ge251bWJlcnxJbnRlZ2VyfSBwYXJhbS5mZXRjaFNpemUgLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcik6IFByb21pc2V8dm9pZH0gcGFyYW0uYmVmb3JlRXJyb3IgLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcik6IFByb21pc2V8dm9pZH0gcGFyYW0uYWZ0ZXJFcnJvciAtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihrZXlzOiBzdHJpbmdbXSk6IFByb21pc2V8dm9pZH0gcGFyYW0uYmVmb3JlS2V5cyAtXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihrZXlzOiBzdHJpbmdbXSk6IFByb21pc2V8dm9pZH0gcGFyYW0uYWZ0ZXJLZXlzIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhOiBPYmplY3QpOiBQcm9taXNlfHZvaWR9IHBhcmFtLmJlZm9yZUNvbXBsZXRlIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhOiBPYmplY3QpOiBQcm9taXNlfHZvaWR9IHBhcmFtLmFmdGVyQ29tcGxldGUgLVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc3VsdFN0cmVhbU9ic2VydmVyKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBfYyA9IF9iLnJlYWN0aXZlLCByZWFjdGl2ZSA9IF9jID09PSB2b2lkIDAgPyBmYWxzZSA6IF9jLCBtb3JlRnVuY3Rpb24gPSBfYi5tb3JlRnVuY3Rpb24sIGRpc2NhcmRGdW5jdGlvbiA9IF9iLmRpc2NhcmRGdW5jdGlvbiwgX2QgPSBfYi5mZXRjaFNpemUsIGZldGNoU2l6ZSA9IF9kID09PSB2b2lkIDAgPyBGRVRDSF9BTEwgOiBfZCwgYmVmb3JlRXJyb3IgPSBfYi5iZWZvcmVFcnJvciwgYWZ0ZXJFcnJvciA9IF9iLmFmdGVyRXJyb3IsIGJlZm9yZUtleXMgPSBfYi5iZWZvcmVLZXlzLCBhZnRlcktleXMgPSBfYi5hZnRlcktleXMsIGJlZm9yZUNvbXBsZXRlID0gX2IuYmVmb3JlQ29tcGxldGUsIGFmdGVyQ29tcGxldGUgPSBfYi5hZnRlckNvbXBsZXRlLCBzZXJ2ZXIgPSBfYi5zZXJ2ZXIsIF9lID0gX2IuaGlnaFJlY29yZFdhdGVybWFyaywgaGlnaFJlY29yZFdhdGVybWFyayA9IF9lID09PSB2b2lkIDAgPyBOdW1iZXIuTUFYX1ZBTFVFIDogX2UsIF9mID0gX2IubG93UmVjb3JkV2F0ZXJtYXJrLCBsb3dSZWNvcmRXYXRlcm1hcmsgPSBfZiA9PT0gdm9pZCAwID8gTnVtYmVyLk1BWF9WQUxVRSA6IF9mO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fZmllbGRLZXlzID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2ZpZWxkTG9va3VwID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fcXVldWVkUmVjb3JkcyA9IFtdO1xuICAgICAgICBfdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IG51bGw7XG4gICAgICAgIF90aGlzLl9vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuX21ldGEgPSB7fTtcbiAgICAgICAgX3RoaXMuX3NlcnZlciA9IHNlcnZlcjtcbiAgICAgICAgX3RoaXMuX2JlZm9yZUVycm9yID0gYmVmb3JlRXJyb3I7XG4gICAgICAgIF90aGlzLl9hZnRlckVycm9yID0gYWZ0ZXJFcnJvcjtcbiAgICAgICAgX3RoaXMuX2JlZm9yZUtleXMgPSBiZWZvcmVLZXlzO1xuICAgICAgICBfdGhpcy5fYWZ0ZXJLZXlzID0gYWZ0ZXJLZXlzO1xuICAgICAgICBfdGhpcy5fYmVmb3JlQ29tcGxldGUgPSBiZWZvcmVDb21wbGV0ZTtcbiAgICAgICAgX3RoaXMuX2FmdGVyQ29tcGxldGUgPSBhZnRlckNvbXBsZXRlO1xuICAgICAgICBfdGhpcy5fcXVlcnlJZCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9tb3JlRnVuY3Rpb24gPSBtb3JlRnVuY3Rpb247XG4gICAgICAgIF90aGlzLl9kaXNjYXJkRnVuY3Rpb24gPSBkaXNjYXJkRnVuY3Rpb247XG4gICAgICAgIF90aGlzLl9kaXNjYXJkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9mZXRjaFNpemUgPSBmZXRjaFNpemU7XG4gICAgICAgIF90aGlzLl9sb3dSZWNvcmRXYXRlcm1hcmsgPSBsb3dSZWNvcmRXYXRlcm1hcms7XG4gICAgICAgIF90aGlzLl9oaWdoUmVjb3JkV2F0ZXJtYXJrID0gaGlnaFJlY29yZFdhdGVybWFyaztcbiAgICAgICAgX3RoaXMuX3NldFN0YXRlKHJlYWN0aXZlID8gX3N0YXRlcy5SRUFEWSA6IF9zdGF0ZXMuUkVBRFlfU1RSRUFNSU5HKTtcbiAgICAgICAgX3RoaXMuX3NldHVwQXV0b1B1bGwoKTtcbiAgICAgICAgX3RoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlIHRoZSByZWNvcmQgY29uc3VtaW5nXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgc3VwZW5kIHRoZSByZWNvcmQgY29uc3VtaW5nLiBJdCB3aWxsIG5vdCBjYW5jZWwgdGhlIHN0cmVhbSBhbmQgdGhlIGFscmVhZHlcbiAgICAgKiByZXF1ZXN0ZWQgcmVjb3JkcyB3aWxsIGJlIHNlbnQgdG8gdGhlIHN1YnNjcmliZXIuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzdW1lIHRoZSByZWNvcmQgY29uc3VtaW5nXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmVzdW1lIHRoZSByZWNvcmQgY29uc3VtaW5nIGZldGNoaW5nIG1vcmUgcmVjb3JkcyBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldHVwQXV0b1B1bGwodHJ1ZSk7XG4gICAgICAgIHRoaXMuX3N0YXRlLnB1bGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIGJlIGNhbGxlZCBvbiBldmVyeSByZWNvcmQgdGhhdCBjb21lcyBpbiBhbmQgdHJhbnNmb3JtIGEgcmF3IHJlY29yZFxuICAgICAqIHRvIGEgT2JqZWN0LiBJZiB1c2VyLXByb3ZpZGVkIG9ic2VydmVyIGlzIHByZXNlbnQsIHBhc3MgdHJhbnNmb3JtZWQgcmVjb3JkXG4gICAgICogdG8gaXQncyBvbk5leHQgbWV0aG9kLCBvdGhlcndpc2UsIHB1c2ggdG8gcmVjb3JkIHF1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSByYXdSZWNvcmQgLSBBbiBhcnJheSB3aXRoIHRoZSByYXcgcmVjb3JkXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChyYXdSZWNvcmQpIHtcbiAgICAgICAgdmFyIHJlY29yZCA9IG5ldyBuZW80al9kcml2ZXJfY29yZV8xLlJlY29yZCh0aGlzLl9maWVsZEtleXMsIHJhd1JlY29yZCwgdGhpcy5fZmllbGRMb29rdXApO1xuICAgICAgICBpZiAodGhpcy5fb2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub25OZXh0OyB9KSkge1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoby5vbk5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgby5vbk5leHQocmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlZFJlY29yZHMucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlZFJlY29yZHMubGVuZ3RoID4gdGhpcy5faGlnaFJlY29yZFdhdGVybWFyaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9QdWxsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5vbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlLm9uU3VjY2Vzcyh0aGlzLCBtZXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdpbGwgYmUgY2FsbGVkIG9uIGVycm9ycy5cbiAgICAgKiBJZiB1c2VyLXByb3ZpZGVkIG9ic2VydmVyIGlzIHByZXNlbnQsIHBhc3MgdGhlIGVycm9yXG4gICAgICogdG8gaXQncyBvbkVycm9yIG1ldGhvZCwgb3RoZXJ3aXNlIHNldCBpbnN0YW5jZSB2YXJpYWJsZSBfZXJyb3IuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yIC0gQW4gZXJyb3Igb2JqZWN0XG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUub25FcnJvcih0aGlzLCBlcnJvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWwgcGVuZGluZyByZWNvcmQgc3RyZWFtXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZGlzY2FyZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHJlYW0gb2JzZXJ2ZXIgZGVmYXVsdHMgdG8gaGFuZGxpbmcgcmVzcG9uc2VzIGZvciB0d28gbWVzc2FnZXM6IFJVTiArIFBVTExfQUxMIG9yIFJVTiArIERJU0NBUkRfQUxMLlxuICAgICAqIFJlc3BvbnNlIGZvciBSVU4gaW5pdGlhbGl6ZXMgcXVlcnkga2V5cy4gUmVzcG9uc2UgZm9yIFBVTExfQUxMIC8gRElTQ0FSRF9BTEwgZXhwb3NlcyB0aGUgcmVzdWx0IHN0cmVhbS5cbiAgICAgKlxuICAgICAqIEhvd2V2ZXIsIHNvbWUgb3BlcmF0aW9ucyBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYSBzaW5nbGUgbWVzc2FnZSB3aGljaCByZWNlaXZlcyBmdWxsIG1ldGFkYXRhIGluIGEgc2luZ2xlIHJlc3BvbnNlLlxuICAgICAqIEZvciBleGFtcGxlLCBvcGVyYXRpb25zIHRvIGJlZ2luLCBjb21taXQgYW5kIHJvbGxiYWNrIGFuIGV4cGxpY2l0IHRyYW5zYWN0aW9uIHVzZSB0d28gbWVzc2FnZXMgaW4gQm9sdCBWMSBidXQgYSBzaW5nbGUgbWVzc2FnZSBpbiBCb2x0IFYzLlxuICAgICAqIE1lc3NhZ2VzIGFyZSBgUlVOIFwiQkVHSU5cIiB7fWAgKyBgUFVMTF9BTExgIGluIEJvbHQgVjEgYW5kIGBCRUdJTmAgaW4gQm9sdCBWMy5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gcHJlcGFyZXMgdGhlIG9ic2VydmVyIHRvIG9ubHkgaGFuZGxlIGEgc2luZ2xlIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnByZXBhcmVUb0hhbmRsZVNpbmdsZVJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gW107XG4gICAgICAgIHRoaXMuX2ZpZWxkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZShfc3RhdGVzLlNUUkVBTUlORyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXJrIHRoaXMgb2JzZXJ2ZXIgYXMgaWYgaXQgaGFzIGNvbXBsZXRlZCB3aXRoIG5vIG1ldGFkYXRhLlxuICAgICAqL1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5tYXJrQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gW107XG4gICAgICAgIHRoaXMuX2ZpZWxkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLl90YWlsID0ge307XG4gICAgICAgIHRoaXMuX3NldFN0YXRlKF9zdGF0ZXMuU1VDQ0VFREVEKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBldmVudHMgd2l0aCBwcm92aWRlZCBvYnNlcnZlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgLSBPYnNlcnZlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGtleXM6IFN0cmluZ1tdKX0gb2JzZXJ2ZXIub25LZXlzIC0gSGFuZGxlIHN0cmVhbSBoZWFkZXIsIGZpZWxkIGtleXMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihyZWNvcmQ6IE9iamVjdCl9IG9ic2VydmVyLm9uTmV4dCAtIEhhbmRsZSByZWNvcmRzLCBvbmUgYnkgb25lLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obWV0YWRhdGE6IE9iamVjdCl9IG9ic2VydmVyLm9uQ29tcGxldGVkIC0gSGFuZGxlIHN0cmVhbSB0YWlsLCB0aGUgbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnJvcjogT2JqZWN0KX0gb2JzZXJ2ZXIub25FcnJvciAtIEhhbmRsZSBlcnJvcnMsIHNob3VsZCBhbHdheXMgYmUgcHJvdmlkZWQuXG4gICAgICovXG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBpZiAodGhpcy5faGVhZCAmJiBvYnNlcnZlci5vbktleXMpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9uS2V5cyh0aGlzLl9oZWFkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcXVldWVkUmVjb3Jkcy5sZW5ndGggPiAwICYmIG9ic2VydmVyLm9uTmV4dCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZWRSZWNvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub25OZXh0KHRoaXMuX3F1ZXVlZFJlY29yZHNbaV0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZWRSZWNvcmRzLmxlbmd0aCAtIGkgLSAxIDw9IHRoaXMuX2xvd1JlY29yZFdhdGVybWFyaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRvUHVsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gX3N0YXRlcy5SRUFEWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlU3RyZWFtaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RhaWwgJiYgb2JzZXJ2ZXIub25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9uQ29tcGxldGVkKHRoaXMuX3RhaWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIub25FcnJvcih0aGlzLl9lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IF9zdGF0ZXMuUkVBRFkpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN0cmVhbWluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX2hhbmRsZUhhc01vcmUgPSBmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICAvLyBXZSd2ZSBjb25zdW1lZCBjdXJyZW50IGJhdGNoIGFuZCBzZXJ2ZXIgbm90aWZpZWQgdXMgdGhhdCB0aGVyZSdyZSBtb3JlXG4gICAgICAgIC8vIHJlY29yZHMgdG8gc3RyZWFtLiBMZXQncyBpbnZva2UgbW9yZSBvciBkaXNjYXJkIGZ1bmN0aW9uIGJhc2VkIG9uIHdoZXRoZXJcbiAgICAgICAgLy8gdGhlIHVzZXIgd2FudHMgdG8gZGlzY2FyZCBzdHJlYW1pbmcgb3Igbm90XG4gICAgICAgIHRoaXMuX3NldFN0YXRlKF9zdGF0ZXMuUkVBRFkpOyAvLyB3ZSd2ZSBkb25lIHN0cmVhbWluZ1xuICAgICAgICB0aGlzLl9oYW5kbGVTdHJlYW1pbmcoKTtcbiAgICAgICAgZGVsZXRlIG1ldGEuaGFzX21vcmU7XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX2hhbmRsZVB1bGxTdWNjZXNzID0gZnVuY3Rpb24gKG1ldGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbXBsZXRpb25NZXRhZGF0YSA9IE9iamVjdC5hc3NpZ24odGhpcy5fc2VydmVyID8geyBzZXJ2ZXI6IHRoaXMuX3NlcnZlciB9IDoge30sIHRoaXMuX21ldGEsIG1ldGEpO1xuICAgICAgICBpZiAoIVt1bmRlZmluZWQsIG51bGwsICdyJywgJ3cnLCAncncnLCAncyddLmluY2x1ZGVzKGNvbXBsZXRpb25NZXRhZGF0YS50eXBlKSkge1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIlNlcnZlciByZXR1cm5lZCBpbnZhbGlkIHF1ZXJ5IHR5cGUuIEV4cGVjdGVkIG9uZSBvZiBbdW5kZWZpbmVkLCBudWxsLCBcXFwiclxcXCIsIFxcXCJ3XFxcIiwgXFxcInJ3XFxcIiwgXFxcInNcXFwiXSBidXQgZ290ICdcIi5jb25jYXQoY29tcGxldGlvbk1ldGFkYXRhLnR5cGUsIFwiJ1wiKSwgUFJPVE9DT0xfRVJST1IpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRTdGF0ZShfc3RhdGVzLlNVQ0NFRURFRCk7XG4gICAgICAgIHZhciBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2JlZm9yZUNvbXBsZXRlKSB7XG4gICAgICAgICAgICBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gdGhpcy5fYmVmb3JlQ29tcGxldGUoY29tcGxldGlvbk1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGludWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gRW5kIG9mIHN0cmVhbVxuICAgICAgICAgICAgX3RoaXMuX3RhaWwgPSBjb21wbGV0aW9uTWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX29ic2VydmVycy5zb21lKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9uQ29tcGxldGVkOyB9KSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoby5vbkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgby5vbkNvbXBsZXRlZChjb21wbGV0aW9uTWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2FmdGVyQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fYWZ0ZXJDb21wbGV0ZShjb21wbGV0aW9uTWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoYmVmb3JlSGFuZGxlclJlc3VsdCkge1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGJlZm9yZUhhbmRsZXJSZXN1bHQpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29udGludWF0aW9uKCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGludWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5faGFuZGxlUnVuU3VjY2VzcyA9IGZ1bmN0aW9uIChtZXRhLCBhZnRlclN1Y2Nlc3MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2ZpZWxkS2V5cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gU3RyZWFtIGhlYWRlciwgYnVpbGQgYSBuYW1lLT5pbmRleCBmaWVsZCBsb29rdXAgdGFibGVcbiAgICAgICAgICAgIC8vIHRvIGJlIHVzZWQgYnkgcmVjb3Jkcy4gVGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWFrZSBpdFxuICAgICAgICAgICAgLy8gZmFzdGVyIHRvIGxvb2sgdXAgZmllbGRzIGluIGEgcmVjb3JkIGJ5IG5hbWUsIHJhdGhlciB0aGFuIGJ5IGluZGV4LlxuICAgICAgICAgICAgLy8gU2luY2UgdGhlIHJlY29yZHMgd2UgZ2V0IGJhY2sgdmlhIEJvbHQgYXJlIGp1c3QgYXJyYXlzIG9mIHZhbHVlcy5cbiAgICAgICAgICAgIHRoaXMuX2ZpZWxkS2V5cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZmllbGRMb29rdXAgPSB7fTtcbiAgICAgICAgICAgIGlmIChtZXRhLmZpZWxkcyAmJiBtZXRhLmZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmllbGRLZXlzID0gbWV0YS5maWVsZHM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWVsZExvb2t1cFttZXRhLmZpZWxkc1tpXV0gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgZmllbGRzIGtleSBmcm9tIG1ldGFkYXRhIG9iamVjdFxuICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXRhLmZpZWxkcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEV4dHJhY3Qgc2VydmVyIGdlbmVyYXRlZCBxdWVyeSBpZCBmb3IgdXNlIGluIHJlcXVlc3RNb3JlIGFuZCBkaXNjYXJkXG4gICAgICAgICAgICAvLyBmdW5jdGlvbnNcbiAgICAgICAgICAgIGlmIChtZXRhLnFpZCAhPT0gbnVsbCAmJiBtZXRhLnFpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVlcnlJZCA9IG1ldGEucWlkO1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBxaWQgZnJvbSBtZXRhZGF0YSBvYmplY3RcbiAgICAgICAgICAgICAgICBkZWxldGUgbWV0YS5xaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdG9yZU1ldGFkYXRhRm9yQ29tcGxldGlvbihtZXRhKTtcbiAgICAgICAgICAgIHZhciBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9iZWZvcmVLZXlzKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlSGFuZGxlclJlc3VsdCA9IHRoaXMuX2JlZm9yZUtleXModGhpcy5fZmllbGRLZXlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250aW51YXRpb25fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faGVhZCA9IF90aGlzLl9maWVsZEtleXM7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vYnNlcnZlcnMuc29tZShmdW5jdGlvbiAobykgeyByZXR1cm4gby5vbktleXM7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25LZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5vbktleXMoX3RoaXMuX2ZpZWxkS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2FmdGVyS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYWZ0ZXJLZXlzKF90aGlzLl9maWVsZEtleXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZnRlclN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoYmVmb3JlSGFuZGxlclJlc3VsdCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShiZWZvcmVIYW5kbGVyUmVzdWx0KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnRpbnVhdGlvbl8xKCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGludWF0aW9uXzEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzdWx0U3RyZWFtT2JzZXJ2ZXIucHJvdG90eXBlLl9oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZShfc3RhdGVzLkZBSUxFRCk7XG4gICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIHZhciBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2JlZm9yZUVycm9yKSB7XG4gICAgICAgICAgICBiZWZvcmVIYW5kbGVyUmVzdWx0ID0gdGhpcy5fYmVmb3JlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250aW51YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX29ic2VydmVycy5zb21lKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9uRXJyb3I7IH0pKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvLm9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ub25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5fYWZ0ZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLl9hZnRlckVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGJlZm9yZUhhbmRsZXJSZXN1bHQpIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShiZWZvcmVIYW5kbGVyUmVzdWx0KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnRpbnVhdGlvbigpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRpbnVhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHRTdHJlYW1PYnNlcnZlci5wcm90b3R5cGUuX2hhbmRsZVN0cmVhbWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hlYWQgJiYgdGhpcy5fb2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub25OZXh0IHx8IG8ub25Db21wbGV0ZWQ7IH0pKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BhdXNlZCAmJiAodGhpcy5fZGlzY2FyZCB8fCB0aGlzLl9hdXRvUHVsbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5fbW9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2NhcmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2NhcmRGdW5jdGlvbih0aGlzLl9xdWVyeUlkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21vcmVGdW5jdGlvbih0aGlzLl9xdWVyeUlkLCB0aGlzLl9mZXRjaFNpemUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldFN0YXRlKF9zdGF0ZXMuU1RSRUFNSU5HKTtcbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5fc3RvcmVNZXRhZGF0YUZvckNvbXBsZXRpb24gPSBmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG1ldGEpO1xuICAgICAgICB2YXIgaW5kZXggPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgdmFyIGtleSA9ICcnO1xuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgICAgICB0aGlzLl9tZXRhW2tleV0gPSBtZXRhW2tleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5fc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICB9O1xuICAgIFJlc3VsdFN0cmVhbU9ic2VydmVyLnByb3RvdHlwZS5fc2V0dXBBdXRvUHVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYXV0b1B1bGwgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3VsdFN0cmVhbU9ic2VydmVyO1xufShTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5SZXN1bHRTdHJlYW1PYnNlcnZlciA9IFJlc3VsdFN0cmVhbU9ic2VydmVyO1xudmFyIExvZ2luT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExvZ2luT2JzZXJ2ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhKX0gcGFyYW0ub25Db21wbGV0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2dpbk9ic2VydmVyKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZWQgPSBfYi5vbkNvbXBsZXRlZDtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX29uRXJyb3IgPSBvbkVycm9yO1xuICAgICAgICBfdGhpcy5fb25Db21wbGV0ZWQgPSBvbkNvbXBsZXRlZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBMb2dpbk9ic2VydmVyLnByb3RvdHlwZS5vbk5leHQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHRoaXMub25FcnJvcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1JlY2VpdmVkIFJFQ09SRCB3aGVuIGluaXRpYWxpemluZyAnICsgbmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShyZWNvcmQpKSk7XG4gICAgfTtcbiAgICBMb2dpbk9ic2VydmVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTG9naW5PYnNlcnZlci5wcm90b3R5cGUub25Db21wbGV0ZWQgPSBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMb2dpbk9ic2VydmVyO1xufShTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5Mb2dpbk9ic2VydmVyID0gTG9naW5PYnNlcnZlcjtcbnZhciBMb2dvZmZPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTG9nb2ZmT2JzZXJ2ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhKX0gcGFyYW0ub25Db21wbGV0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2dvZmZPYnNlcnZlcihfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Iub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgX3RoaXMuX29uQ29tcGxldGVkID0gb25Db21wbGV0ZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTG9nb2ZmT2JzZXJ2ZXIucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnUmVjZWl2ZWQgUkVDT1JEIHdoZW4gbG9nZ2luZyBvZmYgJyArIG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocmVjb3JkKSkpO1xuICAgIH07XG4gICAgTG9nb2ZmT2JzZXJ2ZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMb2dvZmZPYnNlcnZlci5wcm90b3R5cGUub25Db21wbGV0ZWQgPSBmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMb2dvZmZPYnNlcnZlcjtcbn0oU3RyZWFtT2JzZXJ2ZXIpKTtcbmV4cG9ydHMuTG9nb2ZmT2JzZXJ2ZXIgPSBMb2dvZmZPYnNlcnZlcjtcbnZhciBSZXNldE9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXNldE9ic2VydmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogU3RyaW5nKX0gcGFyYW0ub25Qcm90b2NvbEVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihlcnI6IEVycm9yKX0gcGFyYW0ub25FcnJvclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obWV0YWRhdGEpfSBwYXJhbS5vbkNvbXBsZXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVzZXRPYnNlcnZlcihfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgb25Qcm90b2NvbEVycm9yID0gX2Iub25Qcm90b2NvbEVycm9yLCBvbkVycm9yID0gX2Iub25FcnJvciwgb25Db21wbGV0ZSA9IF9iLm9uQ29tcGxldGU7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vblByb3RvY29sRXJyb3IgPSBvblByb3RvY29sRXJyb3I7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgX3RoaXMuX29uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlc2V0T2JzZXJ2ZXIucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnUmVjZWl2ZWQgUkVDT1JEIHdoZW4gcmVzZXR0aW5nOiByZWNlaXZlZCByZWNvcmQgaXM6ICcgK1xuICAgICAgICAgICAgbmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeShyZWNvcmQpLCBQUk9UT0NPTF9FUlJPUikpO1xuICAgIH07XG4gICAgUmVzZXRPYnNlcnZlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gUFJPVE9DT0xfRVJST1IgJiYgdGhpcy5fb25Qcm90b2NvbEVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vblByb3RvY29sRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNldE9ic2VydmVyLnByb3RvdHlwZS5vbkNvbXBsZXRlZCA9IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5fb25Db21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZShtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZXNldE9ic2VydmVyO1xufShTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5SZXNldE9ic2VydmVyID0gUmVzZXRPYnNlcnZlcjtcbnZhciBUZWxlbWV0cnlPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGVsZW1ldHJ5T2JzZXJ2ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBFcnJvcil9IHBhcmFtLm9uRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1ldGFkYXRhKX0gcGFyYW0ub25Db21wbGV0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZWxlbWV0cnlPYnNlcnZlcihfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Iub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgX3RoaXMuX29uQ29tcGxldGVkID0gb25Db21wbGV0ZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGVsZW1ldHJ5T2JzZXJ2ZXIucHJvdG90eXBlLm9uTmV4dCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnUmVjZWl2ZWQgUkVDT1JEIHdoZW4gc2VuZGluZyB0ZWxlbWV0cnkgJyArIG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocmVjb3JkKSwgUFJPVE9DT0xfRVJST1IpKTtcbiAgICB9O1xuICAgIFRlbGVtZXRyeU9ic2VydmVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGVsZW1ldHJ5T2JzZXJ2ZXIucHJvdG90eXBlLm9uQ29tcGxldGVkID0gZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGVsZW1ldHJ5T2JzZXJ2ZXI7XG59KFJlc3VsdFN0cmVhbU9ic2VydmVyKSk7XG5leHBvcnRzLlRlbGVtZXRyeU9ic2VydmVyID0gVGVsZW1ldHJ5T2JzZXJ2ZXI7XG52YXIgRmFpbGVkT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZhaWxlZE9ic2VydmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZhaWxlZE9ic2VydmVyKF9hKSB7XG4gICAgICAgIHZhciBlcnJvciA9IF9hLmVycm9yLCBvbkVycm9yID0gX2Eub25FcnJvcjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgeyBiZWZvcmVFcnJvcjogb25FcnJvciB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gRmFpbGVkT2JzZXJ2ZXI7XG59KFJlc3VsdFN0cmVhbU9ic2VydmVyKSk7XG5leHBvcnRzLkZhaWxlZE9ic2VydmVyID0gRmFpbGVkT2JzZXJ2ZXI7XG52YXIgQ29tcGxldGVkT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbXBsZXRlZE9ic2VydmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXRlZE9ic2VydmVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm1hcmtDb21wbGV0ZWQuY2FsbChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbXBsZXRlZE9ic2VydmVyO1xufShSZXN1bHRTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5Db21wbGV0ZWRPYnNlcnZlciA9IENvbXBsZXRlZE9ic2VydmVyO1xudmFyIFByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvY2VkdXJlUm91dGVPYnNlcnZlcihfYSkge1xuICAgICAgICB2YXIgcmVzdWx0T2JzZXJ2ZXIgPSBfYS5yZXN1bHRPYnNlcnZlciwgb25Qcm90b2NvbEVycm9yID0gX2Eub25Qcm90b2NvbEVycm9yLCBvbkVycm9yID0gX2Eub25FcnJvciwgb25Db21wbGV0ZWQgPSBfYS5vbkNvbXBsZXRlZDtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3Jlc3VsdE9ic2VydmVyID0gcmVzdWx0T2JzZXJ2ZXI7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgX3RoaXMuX29uQ29tcGxldGVkID0gb25Db21wbGV0ZWQ7XG4gICAgICAgIF90aGlzLl9yZWNvcmRzID0gW107XG4gICAgICAgIF90aGlzLl9vblByb3RvY29sRXJyb3IgPSBvblByb3RvY29sRXJyb3I7XG4gICAgICAgIHJlc3VsdE9ic2VydmVyLnN1YnNjcmliZShfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUHJvY2VkdXJlUm91dGVPYnNlcnZlci5wcm90b3R5cGUub25OZXh0ID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICB0aGlzLl9yZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICB9O1xuICAgIFByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFBST1RPQ09MX0VSUk9SICYmIHRoaXMuX29uUHJvdG9jb2xFcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25Qcm90b2NvbEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHJvY2VkdXJlUm91dGVPYnNlcnZlci5wcm90b3R5cGUub25Db21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvcmRzICE9PSBudWxsICYmIHRoaXMuX3JlY29yZHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdJbGxlZ2FsIHJlc3BvbnNlIGZyb20gcm91dGVyLiBSZWNlaXZlZCAnICtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNvcmRzLmxlbmd0aCArXG4gICAgICAgICAgICAgICAgJyByZWNvcmRzIGJ1dCBleHBlY3RlZCBvbmx5IG9uZS5cXG4nICtcbiAgICAgICAgICAgICAgICBuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KHRoaXMuX3JlY29yZHMpLCBQUk9UT0NPTF9FUlJPUikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZWQocm91dGluZ190YWJsZV9yYXdfMS5kZWZhdWx0Lm9mUmVjb3JkKHRoaXMuX3JlY29yZHNbMF0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFByb2NlZHVyZVJvdXRlT2JzZXJ2ZXI7XG59KFN0cmVhbU9ic2VydmVyKSk7XG5leHBvcnRzLlByb2NlZHVyZVJvdXRlT2JzZXJ2ZXIgPSBQcm9jZWR1cmVSb3V0ZU9ic2VydmVyO1xudmFyIFJvdXRlT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvdXRlT2JzZXJ2ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW0gLVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXJyOiBTdHJpbmcpfSBwYXJhbS5vblByb3RvY29sRXJyb3JcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVycjogRXJyb3IpfSBwYXJhbS5vbkVycm9yXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihSYXdSb3V0aW5nVGFibGUpfSBwYXJhbS5vbkNvbXBsZXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdXRlT2JzZXJ2ZXIoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9uUHJvdG9jb2xFcnJvciA9IF9iLm9uUHJvdG9jb2xFcnJvciwgb25FcnJvciA9IF9iLm9uRXJyb3IsIG9uQ29tcGxldGVkID0gX2Iub25Db21wbGV0ZWQ7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vblByb3RvY29sRXJyb3IgPSBvblByb3RvY29sRXJyb3I7XG4gICAgICAgIF90aGlzLl9vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgX3RoaXMuX29uQ29tcGxldGVkID0gb25Db21wbGV0ZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUm91dGVPYnNlcnZlci5wcm90b3R5cGUub25OZXh0ID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICB0aGlzLm9uRXJyb3IoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdSZWNlaXZlZCBSRUNPUkQgd2hlbiByZXNldHRpbmc6IHJlY2VpdmVkIHJlY29yZCBpczogJyArXG4gICAgICAgICAgICBuZW80al9kcml2ZXJfY29yZV8xLmpzb24uc3RyaW5naWZ5KHJlY29yZCksIFBST1RPQ09MX0VSUk9SKSk7XG4gICAgfTtcbiAgICBSb3V0ZU9ic2VydmVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSBQUk9UT0NPTF9FUlJPUiAmJiB0aGlzLl9vblByb3RvY29sRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uUHJvdG9jb2xFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJvdXRlT2JzZXJ2ZXIucHJvdG90eXBlLm9uQ29tcGxldGVkID0gZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZWQocm91dGluZ190YWJsZV9yYXdfMS5kZWZhdWx0Lm9mTWVzc2FnZVJlc3BvbnNlKG1ldGFkYXRhKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSb3V0ZU9ic2VydmVyO1xufShTdHJlYW1PYnNlcnZlcikpO1xuZXhwb3J0cy5Sb3V0ZU9ic2VydmVyID0gUm91dGVPYnNlcnZlcjtcbnZhciBfc3RhdGVzID0ge1xuICAgIFJFQURZX1NUUkVBTUlORzoge1xuICAgICAgICAvLyBhc3luYyBzdGFydCBzdGF0ZVxuICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIChzdHJlYW1PYnNlcnZlciwgbWV0YSkge1xuICAgICAgICAgICAgc3RyZWFtT2JzZXJ2ZXIuX2hhbmRsZVJ1blN1Y2Nlc3MobWV0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN0cmVhbU9ic2VydmVyLl9zZXRTdGF0ZShfc3RhdGVzLlNUUkVBTUlORyk7XG4gICAgICAgICAgICB9IC8vIGFmdGVyIHJ1biBzdWNjZWVkZWQsIGFzeW5jIGRpcmVjdGx5IG1vdmUgdG8gc3RyZWFtaW5nXG4gICAgICAgICAgICAvLyBzdGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKHN0cmVhbU9ic2VydmVyLCBlcnJvcikge1xuICAgICAgICAgICAgc3RyZWFtT2JzZXJ2ZXIuX2hhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdSRUFEWV9TVFJFQU1JTkcnO1xuICAgICAgICB9LFxuICAgICAgICBwdWxsOiBmdW5jdGlvbiAoKSB7IH1cbiAgICB9LFxuICAgIFJFQURZOiB7XG4gICAgICAgIC8vIHJlYWN0aXZlIHN0YXJ0IHN0YXRlXG4gICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gKHN0cmVhbU9ic2VydmVyLCBtZXRhKSB7XG4gICAgICAgICAgICBzdHJlYW1PYnNlcnZlci5faGFuZGxlUnVuU3VjY2VzcyhtZXRhLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdHJlYW1PYnNlcnZlci5faGFuZGxlU3RyZWFtaW5nKCk7IH0gLy8gYWZ0ZXIgcnVuIHN1Y2NlZWRlZCByZWNlaXZlZCwgcmVhY3RpdmUgc2hhbGwgc3RhcnQgcHVsbGluZ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKHN0cmVhbU9ic2VydmVyLCBlcnJvcikge1xuICAgICAgICAgICAgc3RyZWFtT2JzZXJ2ZXIuX2hhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdSRUFEWSc7XG4gICAgICAgIH0sXG4gICAgICAgIHB1bGw6IGZ1bmN0aW9uIChzdHJlYW1PYnNlcnZlcikgeyByZXR1cm4gc3RyZWFtT2JzZXJ2ZXIuX21vcmUoKTsgfVxuICAgIH0sXG4gICAgU1RSRUFNSU5HOiB7XG4gICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gKHN0cmVhbU9ic2VydmVyLCBtZXRhKSB7XG4gICAgICAgICAgICBpZiAobWV0YS5oYXNfbW9yZSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbU9ic2VydmVyLl9oYW5kbGVIYXNNb3JlKG1ldGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtT2JzZXJ2ZXIuX2hhbmRsZVB1bGxTdWNjZXNzKG1ldGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoc3RyZWFtT2JzZXJ2ZXIsIGVycm9yKSB7XG4gICAgICAgICAgICBzdHJlYW1PYnNlcnZlci5faGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICBuYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1NUUkVBTUlORyc7XG4gICAgICAgIH0sXG4gICAgICAgIHB1bGw6IGZ1bmN0aW9uICgpIHsgfVxuICAgIH0sXG4gICAgRkFJTEVEOiB7XG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChfZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIG1vcmUgZXJyb3JzIGFyZSBpZ25vcmVkXG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnRkFJTEVEJztcbiAgICAgICAgfSxcbiAgICAgICAgcHVsbDogZnVuY3Rpb24gKCkgeyB9XG4gICAgfSxcbiAgICBTVUNDRUVERUQ6IHtcbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdTVUNDRUVERUQnO1xuICAgICAgICB9LFxuICAgICAgICBwdWxsOiBmdW5jdGlvbiAoKSB7IH1cbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.epochSecondAndNanoToLocalDateTime = exports.nanoOfDayToLocalTime = exports.epochDayToDate = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.temporalUtil, DAYS_0000_TO_1970 = _a.DAYS_0000_TO_1970, DAYS_PER_400_YEAR_CYCLE = _a.DAYS_PER_400_YEAR_CYCLE, NANOS_PER_HOUR = _a.NANOS_PER_HOUR, NANOS_PER_MINUTE = _a.NANOS_PER_MINUTE, NANOS_PER_SECOND = _a.NANOS_PER_SECOND, SECONDS_PER_DAY = _a.SECONDS_PER_DAY, floorDiv = _a.floorDiv, floorMod = _a.floorMod;\n/**\n * Converts given epoch day to a local date.\n * @param {Integer|number|string} epochDay the epoch day to convert.\n * @return {Date} the date representing the epoch day in years, months and days.\n */\nfunction epochDayToDate(epochDay) {\n    epochDay = (0, neo4j_driver_core_1.int)(epochDay);\n    var zeroDay = epochDay.add(DAYS_0000_TO_1970).subtract(60);\n    var adjust = (0, neo4j_driver_core_1.int)(0);\n    if (zeroDay.lessThan(0)) {\n        var adjustCycles = zeroDay\n            .add(1)\n            .div(DAYS_PER_400_YEAR_CYCLE)\n            .subtract(1);\n        adjust = adjustCycles.multiply(400);\n        zeroDay = zeroDay.add(adjustCycles.multiply(-DAYS_PER_400_YEAR_CYCLE));\n    }\n    var year = zeroDay\n        .multiply(400)\n        .add(591)\n        .div(DAYS_PER_400_YEAR_CYCLE);\n    var dayOfYearEst = zeroDay.subtract(year\n        .multiply(365)\n        .add(year.div(4))\n        .subtract(year.div(100))\n        .add(year.div(400)));\n    if (dayOfYearEst.lessThan(0)) {\n        year = year.subtract(1);\n        dayOfYearEst = zeroDay.subtract(year\n            .multiply(365)\n            .add(year.div(4))\n            .subtract(year.div(100))\n            .add(year.div(400)));\n    }\n    year = year.add(adjust);\n    var marchDayOfYear = dayOfYearEst;\n    var marchMonth = marchDayOfYear\n        .multiply(5)\n        .add(2)\n        .div(153);\n    var month = marchMonth\n        .add(2)\n        .modulo(12)\n        .add(1);\n    var day = marchDayOfYear\n        .subtract(marchMonth\n        .multiply(306)\n        .add(5)\n        .div(10))\n        .add(1);\n    year = year.add(marchMonth.div(10));\n    return new neo4j_driver_core_1.Date(year, month, day);\n}\nexports.epochDayToDate = epochDayToDate;\n/**\n * Converts nanoseconds of the day into local time.\n * @param {Integer|number|string} nanoOfDay the nanoseconds of the day to convert.\n * @return {LocalTime} the local time representing given nanoseconds of the day.\n */\nfunction nanoOfDayToLocalTime(nanoOfDay) {\n    nanoOfDay = (0, neo4j_driver_core_1.int)(nanoOfDay);\n    var hour = nanoOfDay.div(NANOS_PER_HOUR);\n    nanoOfDay = nanoOfDay.subtract(hour.multiply(NANOS_PER_HOUR));\n    var minute = nanoOfDay.div(NANOS_PER_MINUTE);\n    nanoOfDay = nanoOfDay.subtract(minute.multiply(NANOS_PER_MINUTE));\n    var second = nanoOfDay.div(NANOS_PER_SECOND);\n    var nanosecond = nanoOfDay.subtract(second.multiply(NANOS_PER_SECOND));\n    return new neo4j_driver_core_1.LocalTime(hour, minute, second, nanosecond);\n}\nexports.nanoOfDayToLocalTime = nanoOfDayToLocalTime;\n/**\n * Converts given epoch second and nanosecond adjustment into a local date time object.\n * @param {Integer|number|string} epochSecond the epoch second to use.\n * @param {Integer|number|string} nano the nanosecond to use.\n * @return {LocalDateTime} the local date time representing given epoch second and nano.\n */\nfunction epochSecondAndNanoToLocalDateTime(epochSecond, nano) {\n    var epochDay = floorDiv(epochSecond, SECONDS_PER_DAY);\n    var secondsOfDay = floorMod(epochSecond, SECONDS_PER_DAY);\n    var nanoOfDay = secondsOfDay.multiply(NANOS_PER_SECOND).add(nano);\n    var localDate = epochDayToDate(epochDay);\n    var localTime = nanoOfDayToLocalTime(nanoOfDay);\n    return new neo4j_driver_core_1.LocalDateTime(localDate.year, localDate.month, localDate.day, localTime.hour, localTime.minute, localTime.second, localTime.nanosecond);\n}\nexports.epochSecondAndNanoToLocalDateTime = epochSecondAndNanoToLocalDateTime;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC90ZW1wb3JhbC1mYWN0b3J5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlDQUF5QyxHQUFHLDRCQUE0QixHQUFHLHNCQUFzQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLHVCQUF1QjtBQUNsQyxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC90ZW1wb3JhbC1mYWN0b3J5LmpzP2ZiYTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVwb2NoU2Vjb25kQW5kTmFub1RvTG9jYWxEYXRlVGltZSA9IGV4cG9ydHMubmFub09mRGF5VG9Mb2NhbFRpbWUgPSBleHBvcnRzLmVwb2NoRGF5VG9EYXRlID0gdm9pZCAwO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIF9hID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC50ZW1wb3JhbFV0aWwsIERBWVNfMDAwMF9UT18xOTcwID0gX2EuREFZU18wMDAwX1RPXzE5NzAsIERBWVNfUEVSXzQwMF9ZRUFSX0NZQ0xFID0gX2EuREFZU19QRVJfNDAwX1lFQVJfQ1lDTEUsIE5BTk9TX1BFUl9IT1VSID0gX2EuTkFOT1NfUEVSX0hPVVIsIE5BTk9TX1BFUl9NSU5VVEUgPSBfYS5OQU5PU19QRVJfTUlOVVRFLCBOQU5PU19QRVJfU0VDT05EID0gX2EuTkFOT1NfUEVSX1NFQ09ORCwgU0VDT05EU19QRVJfREFZID0gX2EuU0VDT05EU19QRVJfREFZLCBmbG9vckRpdiA9IF9hLmZsb29yRGl2LCBmbG9vck1vZCA9IF9hLmZsb29yTW9kO1xuLyoqXG4gKiBDb252ZXJ0cyBnaXZlbiBlcG9jaCBkYXkgdG8gYSBsb2NhbCBkYXRlLlxuICogQHBhcmFtIHtJbnRlZ2VyfG51bWJlcnxzdHJpbmd9IGVwb2NoRGF5IHRoZSBlcG9jaCBkYXkgdG8gY29udmVydC5cbiAqIEByZXR1cm4ge0RhdGV9IHRoZSBkYXRlIHJlcHJlc2VudGluZyB0aGUgZXBvY2ggZGF5IGluIHllYXJzLCBtb250aHMgYW5kIGRheXMuXG4gKi9cbmZ1bmN0aW9uIGVwb2NoRGF5VG9EYXRlKGVwb2NoRGF5KSB7XG4gICAgZXBvY2hEYXkgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKGVwb2NoRGF5KTtcbiAgICB2YXIgemVyb0RheSA9IGVwb2NoRGF5LmFkZChEQVlTXzAwMDBfVE9fMTk3MCkuc3VidHJhY3QoNjApO1xuICAgIHZhciBhZGp1c3QgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKDApO1xuICAgIGlmICh6ZXJvRGF5Lmxlc3NUaGFuKDApKSB7XG4gICAgICAgIHZhciBhZGp1c3RDeWNsZXMgPSB6ZXJvRGF5XG4gICAgICAgICAgICAuYWRkKDEpXG4gICAgICAgICAgICAuZGl2KERBWVNfUEVSXzQwMF9ZRUFSX0NZQ0xFKVxuICAgICAgICAgICAgLnN1YnRyYWN0KDEpO1xuICAgICAgICBhZGp1c3QgPSBhZGp1c3RDeWNsZXMubXVsdGlwbHkoNDAwKTtcbiAgICAgICAgemVyb0RheSA9IHplcm9EYXkuYWRkKGFkanVzdEN5Y2xlcy5tdWx0aXBseSgtREFZU19QRVJfNDAwX1lFQVJfQ1lDTEUpKTtcbiAgICB9XG4gICAgdmFyIHllYXIgPSB6ZXJvRGF5XG4gICAgICAgIC5tdWx0aXBseSg0MDApXG4gICAgICAgIC5hZGQoNTkxKVxuICAgICAgICAuZGl2KERBWVNfUEVSXzQwMF9ZRUFSX0NZQ0xFKTtcbiAgICB2YXIgZGF5T2ZZZWFyRXN0ID0gemVyb0RheS5zdWJ0cmFjdCh5ZWFyXG4gICAgICAgIC5tdWx0aXBseSgzNjUpXG4gICAgICAgIC5hZGQoeWVhci5kaXYoNCkpXG4gICAgICAgIC5zdWJ0cmFjdCh5ZWFyLmRpdigxMDApKVxuICAgICAgICAuYWRkKHllYXIuZGl2KDQwMCkpKTtcbiAgICBpZiAoZGF5T2ZZZWFyRXN0Lmxlc3NUaGFuKDApKSB7XG4gICAgICAgIHllYXIgPSB5ZWFyLnN1YnRyYWN0KDEpO1xuICAgICAgICBkYXlPZlllYXJFc3QgPSB6ZXJvRGF5LnN1YnRyYWN0KHllYXJcbiAgICAgICAgICAgIC5tdWx0aXBseSgzNjUpXG4gICAgICAgICAgICAuYWRkKHllYXIuZGl2KDQpKVxuICAgICAgICAgICAgLnN1YnRyYWN0KHllYXIuZGl2KDEwMCkpXG4gICAgICAgICAgICAuYWRkKHllYXIuZGl2KDQwMCkpKTtcbiAgICB9XG4gICAgeWVhciA9IHllYXIuYWRkKGFkanVzdCk7XG4gICAgdmFyIG1hcmNoRGF5T2ZZZWFyID0gZGF5T2ZZZWFyRXN0O1xuICAgIHZhciBtYXJjaE1vbnRoID0gbWFyY2hEYXlPZlllYXJcbiAgICAgICAgLm11bHRpcGx5KDUpXG4gICAgICAgIC5hZGQoMilcbiAgICAgICAgLmRpdigxNTMpO1xuICAgIHZhciBtb250aCA9IG1hcmNoTW9udGhcbiAgICAgICAgLmFkZCgyKVxuICAgICAgICAubW9kdWxvKDEyKVxuICAgICAgICAuYWRkKDEpO1xuICAgIHZhciBkYXkgPSBtYXJjaERheU9mWWVhclxuICAgICAgICAuc3VidHJhY3QobWFyY2hNb250aFxuICAgICAgICAubXVsdGlwbHkoMzA2KVxuICAgICAgICAuYWRkKDUpXG4gICAgICAgIC5kaXYoMTApKVxuICAgICAgICAuYWRkKDEpO1xuICAgIHllYXIgPSB5ZWFyLmFkZChtYXJjaE1vbnRoLmRpdigxMCkpO1xuICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5EYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xufVxuZXhwb3J0cy5lcG9jaERheVRvRGF0ZSA9IGVwb2NoRGF5VG9EYXRlO1xuLyoqXG4gKiBDb252ZXJ0cyBuYW5vc2Vjb25kcyBvZiB0aGUgZGF5IGludG8gbG9jYWwgdGltZS5cbiAqIEBwYXJhbSB7SW50ZWdlcnxudW1iZXJ8c3RyaW5nfSBuYW5vT2ZEYXkgdGhlIG5hbm9zZWNvbmRzIG9mIHRoZSBkYXkgdG8gY29udmVydC5cbiAqIEByZXR1cm4ge0xvY2FsVGltZX0gdGhlIGxvY2FsIHRpbWUgcmVwcmVzZW50aW5nIGdpdmVuIG5hbm9zZWNvbmRzIG9mIHRoZSBkYXkuXG4gKi9cbmZ1bmN0aW9uIG5hbm9PZkRheVRvTG9jYWxUaW1lKG5hbm9PZkRheSkge1xuICAgIG5hbm9PZkRheSA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkobmFub09mRGF5KTtcbiAgICB2YXIgaG91ciA9IG5hbm9PZkRheS5kaXYoTkFOT1NfUEVSX0hPVVIpO1xuICAgIG5hbm9PZkRheSA9IG5hbm9PZkRheS5zdWJ0cmFjdChob3VyLm11bHRpcGx5KE5BTk9TX1BFUl9IT1VSKSk7XG4gICAgdmFyIG1pbnV0ZSA9IG5hbm9PZkRheS5kaXYoTkFOT1NfUEVSX01JTlVURSk7XG4gICAgbmFub09mRGF5ID0gbmFub09mRGF5LnN1YnRyYWN0KG1pbnV0ZS5tdWx0aXBseShOQU5PU19QRVJfTUlOVVRFKSk7XG4gICAgdmFyIHNlY29uZCA9IG5hbm9PZkRheS5kaXYoTkFOT1NfUEVSX1NFQ09ORCk7XG4gICAgdmFyIG5hbm9zZWNvbmQgPSBuYW5vT2ZEYXkuc3VidHJhY3Qoc2Vjb25kLm11bHRpcGx5KE5BTk9TX1BFUl9TRUNPTkQpKTtcbiAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuTG9jYWxUaW1lKGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBuYW5vc2Vjb25kKTtcbn1cbmV4cG9ydHMubmFub09mRGF5VG9Mb2NhbFRpbWUgPSBuYW5vT2ZEYXlUb0xvY2FsVGltZTtcbi8qKlxuICogQ29udmVydHMgZ2l2ZW4gZXBvY2ggc2Vjb25kIGFuZCBuYW5vc2Vjb25kIGFkanVzdG1lbnQgaW50byBhIGxvY2FsIGRhdGUgdGltZSBvYmplY3QuXG4gKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfHN0cmluZ30gZXBvY2hTZWNvbmQgdGhlIGVwb2NoIHNlY29uZCB0byB1c2UuXG4gKiBAcGFyYW0ge0ludGVnZXJ8bnVtYmVyfHN0cmluZ30gbmFubyB0aGUgbmFub3NlY29uZCB0byB1c2UuXG4gKiBAcmV0dXJuIHtMb2NhbERhdGVUaW1lfSB0aGUgbG9jYWwgZGF0ZSB0aW1lIHJlcHJlc2VudGluZyBnaXZlbiBlcG9jaCBzZWNvbmQgYW5kIG5hbm8uXG4gKi9cbmZ1bmN0aW9uIGVwb2NoU2Vjb25kQW5kTmFub1RvTG9jYWxEYXRlVGltZShlcG9jaFNlY29uZCwgbmFubykge1xuICAgIHZhciBlcG9jaERheSA9IGZsb29yRGl2KGVwb2NoU2Vjb25kLCBTRUNPTkRTX1BFUl9EQVkpO1xuICAgIHZhciBzZWNvbmRzT2ZEYXkgPSBmbG9vck1vZChlcG9jaFNlY29uZCwgU0VDT05EU19QRVJfREFZKTtcbiAgICB2YXIgbmFub09mRGF5ID0gc2Vjb25kc09mRGF5Lm11bHRpcGx5KE5BTk9TX1BFUl9TRUNPTkQpLmFkZChuYW5vKTtcbiAgICB2YXIgbG9jYWxEYXRlID0gZXBvY2hEYXlUb0RhdGUoZXBvY2hEYXkpO1xuICAgIHZhciBsb2NhbFRpbWUgPSBuYW5vT2ZEYXlUb0xvY2FsVGltZShuYW5vT2ZEYXkpO1xuICAgIHJldHVybiBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5Mb2NhbERhdGVUaW1lKGxvY2FsRGF0ZS55ZWFyLCBsb2NhbERhdGUubW9udGgsIGxvY2FsRGF0ZS5kYXksIGxvY2FsVGltZS5ob3VyLCBsb2NhbFRpbWUubWludXRlLCBsb2NhbFRpbWUuc2Vjb25kLCBsb2NhbFRpbWUubmFub3NlY29uZCk7XG59XG5leHBvcnRzLmVwb2NoU2Vjb25kQW5kTmFub1RvTG9jYWxEYXRlVGltZSA9IGVwb2NoU2Vjb25kQW5kTmFub1RvTG9jYWxEYXRlVGltZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TypeTransformer = void 0;\nvar packstream_1 = __webpack_require__(/*! ../packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar objectUtil = neo4j_driver_core_1.internal.objectUtil;\n/**\n * Class responsible for applying the expected {@link TypeTransformer} to\n * transform the driver types from and to {@link struct.Structure}\n */\nvar Transformer = /** @class */ (function () {\n    /**\n     * Constructor\n     * @param {TypeTransformer[]} transformers The type transformers\n     */\n    function Transformer(transformers) {\n        this._transformers = transformers;\n        this._transformersPerSignature = new Map(transformers.map(function (typeTransformer) { return [typeTransformer.signature, typeTransformer]; }));\n        this.fromStructure = this.fromStructure.bind(this);\n        this.toStructure = this.toStructure.bind(this);\n        Object.freeze(this);\n    }\n    /**\n     * Transform from structure to specific object\n     *\n     * @param {struct.Structure} struct The structure\n     * @returns {<T>|structure.Structure} The driver object or the structure if the transformer was not found.\n     */\n    Transformer.prototype.fromStructure = function (struct) {\n        try {\n            if (struct instanceof packstream_1.structure.Structure && this._transformersPerSignature.has(struct.signature)) {\n                var fromStructure = this._transformersPerSignature.get(struct.signature).fromStructure;\n                return fromStructure(struct);\n            }\n            return struct;\n        }\n        catch (error) {\n            return objectUtil.createBrokenObject(error);\n        }\n    };\n    /**\n     * Transform from object to structure\n     * @param {<T>} type The object to be transoformed in structure\n     * @returns {<T>|structure.Structure} The structure or the object, if any transformer was found\n     */\n    Transformer.prototype.toStructure = function (type) {\n        var transformer = this._transformers.find(function (_a) {\n            var isTypeInstance = _a.isTypeInstance;\n            return isTypeInstance(type);\n        });\n        if (transformer !== undefined) {\n            return transformer.toStructure(type);\n        }\n        return type;\n    };\n    return Transformer;\n}());\nexports[\"default\"] = Transformer;\n/**\n * @callback isTypeInstanceFunction\n * @param {any} object The object\n * @return {boolean} is instance of\n */\n/**\n * @callback toStructureFunction\n * @param {any} object The object\n * @return {structure.Structure} The structure\n */\n/**\n * @callback fromStructureFunction\n * @param {structure.Structure} struct The structure\n * @return {any} The object\n */\n/**\n * Class responsible for grouping the properties of a TypeTransformer\n */\nvar TypeTransformer = /** @class */ (function () {\n    /**\n     * @param {Object} param\n     * @param {number} param.signature The signature of the structure\n     * @param {isTypeInstanceFunction} param.isTypeInstance The function which checks if object is\n     *                instance of the type described by the TypeTransformer\n     * @param {toStructureFunction} param.toStructure The function which gets the object and converts to structure\n     * @param {fromStructureFunction} param.fromStructure The function which get the structure and covnverts to object\n     */\n    function TypeTransformer(_a) {\n        var signature = _a.signature, fromStructure = _a.fromStructure, toStructure = _a.toStructure, isTypeInstance = _a.isTypeInstance;\n        this.signature = signature;\n        this.isTypeInstance = isTypeInstance;\n        this.fromStructure = fromStructure;\n        this.toStructure = toStructure;\n        Object.freeze(this);\n    }\n    /**\n     * @param {Object} param\n     * @param {number} [param.signature] The signature of the structure\n     * @param {isTypeInstanceFunction} [param.isTypeInstance] The function which checks if object is\n     *                instance of the type described by the TypeTransformer\n     * @param {toStructureFunction} [param.toStructure] The function which gets the object and converts to structure\n     * @param {fromStructureFunction} pparam.fromStructure] The function which get the structure and covnverts to object\n     * @returns {TypeTransformer} A new type transform extends with new methods\n     */\n    TypeTransformer.prototype.extendsWith = function (_a) {\n        var signature = _a.signature, fromStructure = _a.fromStructure, toStructure = _a.toStructure, isTypeInstance = _a.isTypeInstance;\n        return new TypeTransformer({\n            signature: signature || this.signature,\n            fromStructure: fromStructure || this.fromStructure,\n            toStructure: toStructure || this.toStructure,\n            isTypeInstance: isTypeInstance || this.isTypeInstance\n        });\n    };\n    return TypeTransformer;\n}());\nexports.TypeTransformer = TypeTransformer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYm9sdC90cmFuc2Zvcm1lci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBLGdEQUFnRCx1QkFBdUI7QUFDdkUsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHNEQUFzRDtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDLGlCQUFpQix5QkFBeUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQix5QkFBeUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsWUFBWSxxQkFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEMsWUFBWSxLQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSx3QkFBd0I7QUFDdkM7QUFDQSxlQUFlLHFCQUFxQjtBQUNwQyxlQUFlLHVCQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSx3QkFBd0I7QUFDdkM7QUFDQSxlQUFlLHFCQUFxQjtBQUNwQyxlQUFlLHVCQUF1QjtBQUN0QyxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9ib2x0L3RyYW5zZm9ybWVyLmpzPzkxNmYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UeXBlVHJhbnNmb3JtZXIgPSB2b2lkIDA7XG52YXIgcGFja3N0cmVhbV8xID0gcmVxdWlyZShcIi4uL3BhY2tzdHJlYW1cIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBvYmplY3RVdGlsID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5vYmplY3RVdGlsO1xuLyoqXG4gKiBDbGFzcyByZXNwb25zaWJsZSBmb3IgYXBwbHlpbmcgdGhlIGV4cGVjdGVkIHtAbGluayBUeXBlVHJhbnNmb3JtZXJ9IHRvXG4gKiB0cmFuc2Zvcm0gdGhlIGRyaXZlciB0eXBlcyBmcm9tIGFuZCB0byB7QGxpbmsgc3RydWN0LlN0cnVjdHVyZX1cbiAqL1xudmFyIFRyYW5zZm9ybWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtUeXBlVHJhbnNmb3JtZXJbXX0gdHJhbnNmb3JtZXJzIFRoZSB0eXBlIHRyYW5zZm9ybWVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybWVyKHRyYW5zZm9ybWVycykge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lcnMgPSB0cmFuc2Zvcm1lcnM7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVyc1BlclNpZ25hdHVyZSA9IG5ldyBNYXAodHJhbnNmb3JtZXJzLm1hcChmdW5jdGlvbiAodHlwZVRyYW5zZm9ybWVyKSB7IHJldHVybiBbdHlwZVRyYW5zZm9ybWVyLnNpZ25hdHVyZSwgdHlwZVRyYW5zZm9ybWVyXTsgfSkpO1xuICAgICAgICB0aGlzLmZyb21TdHJ1Y3R1cmUgPSB0aGlzLmZyb21TdHJ1Y3R1cmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50b1N0cnVjdHVyZSA9IHRoaXMudG9TdHJ1Y3R1cmUuYmluZCh0aGlzKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGZyb20gc3RydWN0dXJlIHRvIHNwZWNpZmljIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJ1Y3QuU3RydWN0dXJlfSBzdHJ1Y3QgVGhlIHN0cnVjdHVyZVxuICAgICAqIEByZXR1cm5zIHs8VD58c3RydWN0dXJlLlN0cnVjdHVyZX0gVGhlIGRyaXZlciBvYmplY3Qgb3IgdGhlIHN0cnVjdHVyZSBpZiB0aGUgdHJhbnNmb3JtZXIgd2FzIG5vdCBmb3VuZC5cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm1lci5wcm90b3R5cGUuZnJvbVN0cnVjdHVyZSA9IGZ1bmN0aW9uIChzdHJ1Y3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzdHJ1Y3QgaW5zdGFuY2VvZiBwYWNrc3RyZWFtXzEuc3RydWN0dXJlLlN0cnVjdHVyZSAmJiB0aGlzLl90cmFuc2Zvcm1lcnNQZXJTaWduYXR1cmUuaGFzKHN0cnVjdC5zaWduYXR1cmUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyb21TdHJ1Y3R1cmUgPSB0aGlzLl90cmFuc2Zvcm1lcnNQZXJTaWduYXR1cmUuZ2V0KHN0cnVjdC5zaWduYXR1cmUpLmZyb21TdHJ1Y3R1cmU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb21TdHJ1Y3R1cmUoc3RydWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3Q7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0VXRpbC5jcmVhdGVCcm9rZW5PYmplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gZnJvbSBvYmplY3QgdG8gc3RydWN0dXJlXG4gICAgICogQHBhcmFtIHs8VD59IHR5cGUgVGhlIG9iamVjdCB0byBiZSB0cmFuc29mb3JtZWQgaW4gc3RydWN0dXJlXG4gICAgICogQHJldHVybnMgezxUPnxzdHJ1Y3R1cmUuU3RydWN0dXJlfSBUaGUgc3RydWN0dXJlIG9yIHRoZSBvYmplY3QsIGlmIGFueSB0cmFuc2Zvcm1lciB3YXMgZm91bmRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm1lci5wcm90b3R5cGUudG9TdHJ1Y3R1cmUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB2YXIgdHJhbnNmb3JtZXIgPSB0aGlzLl90cmFuc2Zvcm1lcnMuZmluZChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBpc1R5cGVJbnN0YW5jZSA9IF9hLmlzVHlwZUluc3RhbmNlO1xuICAgICAgICAgICAgcmV0dXJuIGlzVHlwZUluc3RhbmNlKHR5cGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lci50b1N0cnVjdHVyZSh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc2Zvcm1lcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2Zvcm1lcjtcbi8qKlxuICogQGNhbGxiYWNrIGlzVHlwZUluc3RhbmNlRnVuY3Rpb25cbiAqIEBwYXJhbSB7YW55fSBvYmplY3QgVGhlIG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gaXMgaW5zdGFuY2Ugb2ZcbiAqL1xuLyoqXG4gKiBAY2FsbGJhY2sgdG9TdHJ1Y3R1cmVGdW5jdGlvblxuICogQHBhcmFtIHthbnl9IG9iamVjdCBUaGUgb2JqZWN0XG4gKiBAcmV0dXJuIHtzdHJ1Y3R1cmUuU3RydWN0dXJlfSBUaGUgc3RydWN0dXJlXG4gKi9cbi8qKlxuICogQGNhbGxiYWNrIGZyb21TdHJ1Y3R1cmVGdW5jdGlvblxuICogQHBhcmFtIHtzdHJ1Y3R1cmUuU3RydWN0dXJlfSBzdHJ1Y3QgVGhlIHN0cnVjdHVyZVxuICogQHJldHVybiB7YW55fSBUaGUgb2JqZWN0XG4gKi9cbi8qKlxuICogQ2xhc3MgcmVzcG9uc2libGUgZm9yIGdyb3VwaW5nIHRoZSBwcm9wZXJ0aWVzIG9mIGEgVHlwZVRyYW5zZm9ybWVyXG4gKi9cbnZhciBUeXBlVHJhbnNmb3JtZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtLnNpZ25hdHVyZSBUaGUgc2lnbmF0dXJlIG9mIHRoZSBzdHJ1Y3R1cmVcbiAgICAgKiBAcGFyYW0ge2lzVHlwZUluc3RhbmNlRnVuY3Rpb259IHBhcmFtLmlzVHlwZUluc3RhbmNlIFRoZSBmdW5jdGlvbiB3aGljaCBjaGVja3MgaWYgb2JqZWN0IGlzXG4gICAgICogICAgICAgICAgICAgICAgaW5zdGFuY2Ugb2YgdGhlIHR5cGUgZGVzY3JpYmVkIGJ5IHRoZSBUeXBlVHJhbnNmb3JtZXJcbiAgICAgKiBAcGFyYW0ge3RvU3RydWN0dXJlRnVuY3Rpb259IHBhcmFtLnRvU3RydWN0dXJlIFRoZSBmdW5jdGlvbiB3aGljaCBnZXRzIHRoZSBvYmplY3QgYW5kIGNvbnZlcnRzIHRvIHN0cnVjdHVyZVxuICAgICAqIEBwYXJhbSB7ZnJvbVN0cnVjdHVyZUZ1bmN0aW9ufSBwYXJhbS5mcm9tU3RydWN0dXJlIFRoZSBmdW5jdGlvbiB3aGljaCBnZXQgdGhlIHN0cnVjdHVyZSBhbmQgY292bnZlcnRzIHRvIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFR5cGVUcmFuc2Zvcm1lcihfYSkge1xuICAgICAgICB2YXIgc2lnbmF0dXJlID0gX2Euc2lnbmF0dXJlLCBmcm9tU3RydWN0dXJlID0gX2EuZnJvbVN0cnVjdHVyZSwgdG9TdHJ1Y3R1cmUgPSBfYS50b1N0cnVjdHVyZSwgaXNUeXBlSW5zdGFuY2UgPSBfYS5pc1R5cGVJbnN0YW5jZTtcbiAgICAgICAgdGhpcy5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gICAgICAgIHRoaXMuaXNUeXBlSW5zdGFuY2UgPSBpc1R5cGVJbnN0YW5jZTtcbiAgICAgICAgdGhpcy5mcm9tU3RydWN0dXJlID0gZnJvbVN0cnVjdHVyZTtcbiAgICAgICAgdGhpcy50b1N0cnVjdHVyZSA9IHRvU3RydWN0dXJlO1xuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtLnNpZ25hdHVyZV0gVGhlIHNpZ25hdHVyZSBvZiB0aGUgc3RydWN0dXJlXG4gICAgICogQHBhcmFtIHtpc1R5cGVJbnN0YW5jZUZ1bmN0aW9ufSBbcGFyYW0uaXNUeXBlSW5zdGFuY2VdIFRoZSBmdW5jdGlvbiB3aGljaCBjaGVja3MgaWYgb2JqZWN0IGlzXG4gICAgICogICAgICAgICAgICAgICAgaW5zdGFuY2Ugb2YgdGhlIHR5cGUgZGVzY3JpYmVkIGJ5IHRoZSBUeXBlVHJhbnNmb3JtZXJcbiAgICAgKiBAcGFyYW0ge3RvU3RydWN0dXJlRnVuY3Rpb259IFtwYXJhbS50b1N0cnVjdHVyZV0gVGhlIGZ1bmN0aW9uIHdoaWNoIGdldHMgdGhlIG9iamVjdCBhbmQgY29udmVydHMgdG8gc3RydWN0dXJlXG4gICAgICogQHBhcmFtIHtmcm9tU3RydWN0dXJlRnVuY3Rpb259IHBwYXJhbS5mcm9tU3RydWN0dXJlXSBUaGUgZnVuY3Rpb24gd2hpY2ggZ2V0IHRoZSBzdHJ1Y3R1cmUgYW5kIGNvdm52ZXJ0cyB0byBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7VHlwZVRyYW5zZm9ybWVyfSBBIG5ldyB0eXBlIHRyYW5zZm9ybSBleHRlbmRzIHdpdGggbmV3IG1ldGhvZHNcbiAgICAgKi9cbiAgICBUeXBlVHJhbnNmb3JtZXIucHJvdG90eXBlLmV4dGVuZHNXaXRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBzaWduYXR1cmUgPSBfYS5zaWduYXR1cmUsIGZyb21TdHJ1Y3R1cmUgPSBfYS5mcm9tU3RydWN0dXJlLCB0b1N0cnVjdHVyZSA9IF9hLnRvU3RydWN0dXJlLCBpc1R5cGVJbnN0YW5jZSA9IF9hLmlzVHlwZUluc3RhbmNlO1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVUcmFuc2Zvcm1lcih7XG4gICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZSB8fCB0aGlzLnNpZ25hdHVyZSxcbiAgICAgICAgICAgIGZyb21TdHJ1Y3R1cmU6IGZyb21TdHJ1Y3R1cmUgfHwgdGhpcy5mcm9tU3RydWN0dXJlLFxuICAgICAgICAgICAgdG9TdHJ1Y3R1cmU6IHRvU3RydWN0dXJlIHx8IHRoaXMudG9TdHJ1Y3R1cmUsXG4gICAgICAgICAgICBpc1R5cGVJbnN0YW5jZTogaXNUeXBlSW5zdGFuY2UgfHwgdGhpcy5pc1R5cGVJbnN0YW5jZVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBUeXBlVHJhbnNmb3JtZXI7XG59KCkpO1xuZXhwb3J0cy5UeXBlVHJhbnNmb3JtZXIgPSBUeXBlVHJhbnNmb3JtZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js":
/*!***********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Common base with default implementation for most buffer methods.\n * Buffers are stateful - they track a current \"position\", this helps greatly\n * when reading and writing from them incrementally. You can also ignore the\n * stateful read/write methods.\n * readXXX and writeXXX-methods move the inner position of the buffer.\n * putXXX and getXXX-methods do not.\n * @access private\n */\nvar BaseBuffer = /** @class */ (function () {\n    /**\n     * Create a instance with the injected size.\n     * @constructor\n     * @param {Integer} size\n     */\n    function BaseBuffer(size) {\n        this.position = 0;\n        this.length = size;\n    }\n    BaseBuffer.prototype.getUInt8 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.getInt8 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.getFloat64 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putUInt8 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putInt8 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putFloat64 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt16 = function (p) {\n        return (this.getInt8(p) << 8) | this.getUInt8(p + 1);\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getUInt16 = function (p) {\n        return (this.getUInt8(p) << 8) | this.getUInt8(p + 1);\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt32 = function (p) {\n        return ((this.getInt8(p) << 24) |\n            (this.getUInt8(p + 1) << 16) |\n            (this.getUInt8(p + 2) << 8) |\n            this.getUInt8(p + 3));\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getUInt32 = function (p) {\n        return ((this.getUInt8(p) << 24) |\n            (this.getUInt8(p + 1) << 16) |\n            (this.getUInt8(p + 2) << 8) |\n            this.getUInt8(p + 3));\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt64 = function (p) {\n        return ((this.getInt8(p) << 56) |\n            (this.getUInt8(p + 1) << 48) |\n            (this.getUInt8(p + 2) << 40) |\n            (this.getUInt8(p + 3) << 32) |\n            (this.getUInt8(p + 4) << 24) |\n            (this.getUInt8(p + 5) << 16) |\n            (this.getUInt8(p + 6) << 8) |\n            this.getUInt8(p + 7));\n    };\n    /**\n     * Get a slice of this buffer. This method does not copy any data,\n     * but simply provides a slice view of this buffer\n     * @param start\n     * @param length\n     */\n    BaseBuffer.prototype.getSlice = function (start, length) {\n        return new SliceBuffer(start, length, this);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt16 = function (p, val) {\n        this.putInt8(p, val >> 8);\n        this.putUInt8(p + 1, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putUInt16 = function (p, val) {\n        this.putUInt8(p, (val >> 8) & 0xff);\n        this.putUInt8(p + 1, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt32 = function (p, val) {\n        this.putInt8(p, val >> 24);\n        this.putUInt8(p + 1, (val >> 16) & 0xff);\n        this.putUInt8(p + 2, (val >> 8) & 0xff);\n        this.putUInt8(p + 3, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putUInt32 = function (p, val) {\n        this.putUInt8(p, (val >> 24) & 0xff);\n        this.putUInt8(p + 1, (val >> 16) & 0xff);\n        this.putUInt8(p + 2, (val >> 8) & 0xff);\n        this.putUInt8(p + 3, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt64 = function (p, val) {\n        this.putInt8(p, val >> 48);\n        this.putUInt8(p + 1, (val >> 42) & 0xff);\n        this.putUInt8(p + 2, (val >> 36) & 0xff);\n        this.putUInt8(p + 3, (val >> 30) & 0xff);\n        this.putUInt8(p + 4, (val >> 24) & 0xff);\n        this.putUInt8(p + 5, (val >> 16) & 0xff);\n        this.putUInt8(p + 6, (val >> 8) & 0xff);\n        this.putUInt8(p + 7, val & 0xff);\n    };\n    /**\n     * @param position\n     * @param other\n     */\n    BaseBuffer.prototype.putBytes = function (position, other) {\n        for (var i = 0, end = other.remaining(); i < end; i++) {\n            this.putUInt8(position + i, other.readUInt8());\n        }\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt8 = function () {\n        return this.getUInt8(this._updatePos(1));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt8 = function () {\n        return this.getInt8(this._updatePos(1));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt16 = function () {\n        return this.getUInt16(this._updatePos(2));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt32 = function () {\n        return this.getUInt32(this._updatePos(4));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt16 = function () {\n        return this.getInt16(this._updatePos(2));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt32 = function () {\n        return this.getInt32(this._updatePos(4));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt64 = function () {\n        return this.getInt32(this._updatePos(8));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readFloat64 = function () {\n        return this.getFloat64(this._updatePos(8));\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeUInt8 = function (val) {\n        this.putUInt8(this._updatePos(1), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt8 = function (val) {\n        this.putInt8(this._updatePos(1), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt16 = function (val) {\n        this.putInt16(this._updatePos(2), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt32 = function (val) {\n        this.putInt32(this._updatePos(4), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeUInt32 = function (val) {\n        this.putUInt32(this._updatePos(4), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt64 = function (val) {\n        this.putInt64(this._updatePos(8), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeFloat64 = function (val) {\n        this.putFloat64(this._updatePos(8), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeBytes = function (val) {\n        this.putBytes(this._updatePos(val.remaining()), val);\n    };\n    /**\n     * Get a slice of this buffer. This method does not copy any data,\n     * but simply provides a slice view of this buffer\n     * @param length\n     */\n    BaseBuffer.prototype.readSlice = function (length) {\n        return this.getSlice(this._updatePos(length), length);\n    };\n    BaseBuffer.prototype._updatePos = function (length) {\n        var p = this.position;\n        this.position += length;\n        return p;\n    };\n    /**\n     * Get remaining\n     */\n    BaseBuffer.prototype.remaining = function () {\n        return this.length - this.position;\n    };\n    /**\n     * Has remaining\n     */\n    BaseBuffer.prototype.hasRemaining = function () {\n        return this.remaining() > 0;\n    };\n    /**\n     * Reset position state\n     */\n    BaseBuffer.prototype.reset = function () {\n        this.position = 0;\n    };\n    /**\n     * Get string representation of buffer and it's state.\n     * @return {string} Buffer as a string\n     */\n    BaseBuffer.prototype.toString = function () {\n        return (this.constructor.name +\n            '( position=' +\n            this.position +\n            ' )\\n  ' +\n            this.toHex());\n    };\n    /**\n     * Get string representation of buffer.\n     * @return {string} Buffer as a string\n     */\n    BaseBuffer.prototype.toHex = function () {\n        var out = '';\n        for (var i = 0; i < this.length; i++) {\n            var hexByte = this.getUInt8(i).toString(16);\n            if (hexByte.length === 1) {\n                hexByte = '0' + hexByte;\n            }\n            out += hexByte;\n            if (i !== this.length - 1) {\n                out += ' ';\n            }\n        }\n        return out;\n    };\n    return BaseBuffer;\n}());\nexports[\"default\"] = BaseBuffer;\n/**\n * Represents a view as slice of another buffer.\n * @access private\n */\nvar SliceBuffer = /** @class */ (function (_super) {\n    __extends(SliceBuffer, _super);\n    function SliceBuffer(start, length, inner) {\n        var _this = _super.call(this, length) || this;\n        _this._start = start;\n        _this._inner = inner;\n        return _this;\n    }\n    SliceBuffer.prototype.putUInt8 = function (position, val) {\n        this._inner.putUInt8(this._start + position, val);\n    };\n    SliceBuffer.prototype.getUInt8 = function (position) {\n        return this._inner.getUInt8(this._start + position);\n    };\n    SliceBuffer.prototype.putInt8 = function (position, val) {\n        this._inner.putInt8(this._start + position, val);\n    };\n    SliceBuffer.prototype.putFloat64 = function (position, val) {\n        this._inner.putFloat64(this._start + position, val);\n    };\n    SliceBuffer.prototype.getInt8 = function (position) {\n        return this._inner.getInt8(this._start + position);\n    };\n    SliceBuffer.prototype.getFloat64 = function (position) {\n        return this._inner.getFloat64(this._start + position);\n    };\n    return SliceBuffer;\n}(BaseBuffer));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYnVmL2Jhc2UtYnVmLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsU0FBUztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2J1Zi9iYXNlLWJ1Zi5qcz9iODBiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvbW1vbiBiYXNlIHdpdGggZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgbW9zdCBidWZmZXIgbWV0aG9kcy5cbiAqIEJ1ZmZlcnMgYXJlIHN0YXRlZnVsIC0gdGhleSB0cmFjayBhIGN1cnJlbnQgXCJwb3NpdGlvblwiLCB0aGlzIGhlbHBzIGdyZWF0bHlcbiAqIHdoZW4gcmVhZGluZyBhbmQgd3JpdGluZyBmcm9tIHRoZW0gaW5jcmVtZW50YWxseS4gWW91IGNhbiBhbHNvIGlnbm9yZSB0aGVcbiAqIHN0YXRlZnVsIHJlYWQvd3JpdGUgbWV0aG9kcy5cbiAqIHJlYWRYWFggYW5kIHdyaXRlWFhYLW1ldGhvZHMgbW92ZSB0aGUgaW5uZXIgcG9zaXRpb24gb2YgdGhlIGJ1ZmZlci5cbiAqIHB1dFhYWCBhbmQgZ2V0WFhYLW1ldGhvZHMgZG8gbm90LlxuICogQGFjY2VzcyBwcml2YXRlXG4gKi9cbnZhciBCYXNlQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGluc3RhbmNlIHdpdGggdGhlIGluamVjdGVkIHNpemUuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBzaXplXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUJ1ZmZlcihzaXplKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAwO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHNpemU7XG4gICAgfVxuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLmdldFVJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRGbG9hdDY0ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRVSW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnB1dEZsb2F0NjQgPSBmdW5jdGlvbiAocG9zaXRpb24sIHZhbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQxNiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRJbnQ4KHApIDw8IDgpIHwgdGhpcy5nZXRVSW50OChwICsgMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLmdldFVJbnQxNiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRVSW50OChwKSA8PCA4KSB8IHRoaXMuZ2V0VUludDgocCArIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQzMiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAoKHRoaXMuZ2V0SW50OChwKSA8PCAyNCkgfFxuICAgICAgICAgICAgKHRoaXMuZ2V0VUludDgocCArIDEpIDw8IDE2KSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgMikgPDwgOCkgfFxuICAgICAgICAgICAgdGhpcy5nZXRVSW50OChwICsgMykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5nZXRVSW50MzIgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKCh0aGlzLmdldFVJbnQ4KHApIDw8IDI0KSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgMSkgPDwgMTYpIHxcbiAgICAgICAgICAgICh0aGlzLmdldFVJbnQ4KHAgKyAyKSA8PCA4KSB8XG4gICAgICAgICAgICB0aGlzLmdldFVJbnQ4KHAgKyAzKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLmdldEludDY0ID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuICgodGhpcy5nZXRJbnQ4KHApIDw8IDU2KSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgMSkgPDwgNDgpIHxcbiAgICAgICAgICAgICh0aGlzLmdldFVJbnQ4KHAgKyAyKSA8PCA0MCkgfFxuICAgICAgICAgICAgKHRoaXMuZ2V0VUludDgocCArIDMpIDw8IDMyKSB8XG4gICAgICAgICAgICAodGhpcy5nZXRVSW50OChwICsgNCkgPDwgMjQpIHxcbiAgICAgICAgICAgICh0aGlzLmdldFVJbnQ4KHAgKyA1KSA8PCAxNikgfFxuICAgICAgICAgICAgKHRoaXMuZ2V0VUludDgocCArIDYpIDw8IDgpIHxcbiAgICAgICAgICAgIHRoaXMuZ2V0VUludDgocCArIDcpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHNsaWNlIG9mIHRoaXMgYnVmZmVyLiBUaGlzIG1ldGhvZCBkb2VzIG5vdCBjb3B5IGFueSBkYXRhLFxuICAgICAqIGJ1dCBzaW1wbHkgcHJvdmlkZXMgYSBzbGljZSB2aWV3IG9mIHRoaXMgYnVmZmVyXG4gICAgICogQHBhcmFtIHN0YXJ0XG4gICAgICogQHBhcmFtIGxlbmd0aFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLmdldFNsaWNlID0gZnVuY3Rpb24gKHN0YXJ0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTbGljZUJ1ZmZlcihzdGFydCwgbGVuZ3RoLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnB1dEludDE2ID0gZnVuY3Rpb24gKHAsIHZhbCkge1xuICAgICAgICB0aGlzLnB1dEludDgocCwgdmFsID4+IDgpO1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAgKyAxLCB2YWwgJiAweGZmKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnB1dFVJbnQxNiA9IGZ1bmN0aW9uIChwLCB2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRVSW50OChwLCAodmFsID4+IDgpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDEsIHZhbCAmIDB4ZmYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucHV0SW50MzIgPSBmdW5jdGlvbiAocCwgdmFsKSB7XG4gICAgICAgIHRoaXMucHV0SW50OChwLCB2YWwgPj4gMjQpO1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAgKyAxLCAodmFsID4+IDE2KSAmIDB4ZmYpO1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAgKyAyLCAodmFsID4+IDgpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDMsIHZhbCAmIDB4ZmYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBcbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucHV0VUludDMyID0gZnVuY3Rpb24gKHAsIHZhbCkge1xuICAgICAgICB0aGlzLnB1dFVJbnQ4KHAsICh2YWwgPj4gMjQpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDEsICh2YWwgPj4gMTYpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDIsICh2YWwgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgdGhpcy5wdXRVSW50OChwICsgMywgdmFsICYgMHhmZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcFxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRJbnQ2NCA9IGZ1bmN0aW9uIChwLCB2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRJbnQ4KHAsIHZhbCA+PiA0OCk7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDEsICh2YWwgPj4gNDIpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDIsICh2YWwgPj4gMzYpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDMsICh2YWwgPj4gMzApICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDQsICh2YWwgPj4gMjQpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDUsICh2YWwgPj4gMTYpICYgMHhmZik7XG4gICAgICAgIHRoaXMucHV0VUludDgocCArIDYsICh2YWwgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgdGhpcy5wdXRVSW50OChwICsgNywgdmFsICYgMHhmZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gb3RoZXJcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5wdXRCeXRlcyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgb3RoZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGVuZCA9IG90aGVyLnJlbWFpbmluZygpOyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucHV0VUludDgocG9zaXRpb24gKyBpLCBvdGhlci5yZWFkVUludDgoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVJbnQ4KHRoaXMuX3VwZGF0ZVBvcygxKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWFkIGZyb20gc3RhdGUgcG9zaXRpb24uXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEludDgodGhpcy5fdXBkYXRlUG9zKDEpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVSW50MTYodGhpcy5fdXBkYXRlUG9zKDIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVSW50MzIodGhpcy5fdXBkYXRlUG9zKDQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEludDE2KHRoaXMuX3VwZGF0ZVBvcygyKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWFkIGZyb20gc3RhdGUgcG9zaXRpb24uXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnQzMih0aGlzLl91cGRhdGVQb3MoNCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVhZCBmcm9tIHN0YXRlIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW50MzIodGhpcy5fdXBkYXRlUG9zKDgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdGF0ZSBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXQ2NCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxvYXQ2NCh0aGlzLl91cGRhdGVQb3MoOCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gc3RhdGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHRoaXMucHV0VUludDgodGhpcy5fdXBkYXRlUG9zKDEpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gc3RhdGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRJbnQ4KHRoaXMuX3VwZGF0ZVBvcygxKSwgdmFsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlIHRvIHN0YXRlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2ID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLnB1dEludDE2KHRoaXMuX3VwZGF0ZVBvcygyKSwgdmFsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlIHRvIHN0YXRlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLnB1dEludDMyKHRoaXMuX3VwZGF0ZVBvcyg0KSwgdmFsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlIHRvIHN0YXRlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMiA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRVSW50MzIodGhpcy5fdXBkYXRlUG9zKDQpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gc3RhdGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLndyaXRlSW50NjQgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHRoaXMucHV0SW50NjQodGhpcy5fdXBkYXRlUG9zKDgpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gc3RhdGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHZhbFxuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXQ2NCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgdGhpcy5wdXRGbG9hdDY0KHRoaXMuX3VwZGF0ZVBvcyg4KSwgdmFsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlIHRvIHN0YXRlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS53cml0ZUJ5dGVzID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICB0aGlzLnB1dEJ5dGVzKHRoaXMuX3VwZGF0ZVBvcyh2YWwucmVtYWluaW5nKCkpLCB2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgc2xpY2Ugb2YgdGhpcyBidWZmZXIuIFRoaXMgbWV0aG9kIGRvZXMgbm90IGNvcHkgYW55IGRhdGEsXG4gICAgICogYnV0IHNpbXBseSBwcm92aWRlcyBhIHNsaWNlIHZpZXcgb2YgdGhpcyBidWZmZXJcbiAgICAgKiBAcGFyYW0gbGVuZ3RoXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVhZFNsaWNlID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbGljZSh0aGlzLl91cGRhdGVQb3MobGVuZ3RoKSwgbGVuZ3RoKTtcbiAgICB9O1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLl91cGRhdGVQb3MgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBwID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBsZW5ndGg7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHJlbWFpbmluZ1xuICAgICAqL1xuICAgIEJhc2VCdWZmZXIucHJvdG90eXBlLnJlbWFpbmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoIC0gdGhpcy5wb3NpdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhcyByZW1haW5pbmdcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS5oYXNSZW1haW5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZygpID4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHBvc2l0aW9uIHN0YXRlXG4gICAgICovXG4gICAgQmFzZUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBidWZmZXIgYW5kIGl0J3Mgc3RhdGUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBCdWZmZXIgYXMgYSBzdHJpbmdcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yLm5hbWUgK1xuICAgICAgICAgICAgJyggcG9zaXRpb249JyArXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uICtcbiAgICAgICAgICAgICcgKVxcbiAgJyArXG4gICAgICAgICAgICB0aGlzLnRvSGV4KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBidWZmZXIuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBCdWZmZXIgYXMgYSBzdHJpbmdcbiAgICAgKi9cbiAgICBCYXNlQnVmZmVyLnByb3RvdHlwZS50b0hleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dCA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBoZXhCeXRlID0gdGhpcy5nZXRVSW50OChpKS50b1N0cmluZygxNik7XG4gICAgICAgICAgICBpZiAoaGV4Qnl0ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBoZXhCeXRlID0gJzAnICsgaGV4Qnl0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSBoZXhCeXRlO1xuICAgICAgICAgICAgaWYgKGkgIT09IHRoaXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG91dCArPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlQnVmZmVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VCdWZmZXI7XG4vKipcbiAqIFJlcHJlc2VudHMgYSB2aWV3IGFzIHNsaWNlIG9mIGFub3RoZXIgYnVmZmVyLlxuICogQGFjY2VzcyBwcml2YXRlXG4gKi9cbnZhciBTbGljZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2xpY2VCdWZmZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2xpY2VCdWZmZXIoc3RhcnQsIGxlbmd0aCwgaW5uZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fc3RhcnQgPSBzdGFydDtcbiAgICAgICAgX3RoaXMuX2lubmVyID0gaW5uZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2xpY2VCdWZmZXIucHJvdG90eXBlLnB1dFVJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5faW5uZXIucHV0VUludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbiwgdmFsKTtcbiAgICB9O1xuICAgIFNsaWNlQnVmZmVyLnByb3RvdHlwZS5nZXRVSW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIuZ2V0VUludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBTbGljZUJ1ZmZlci5wcm90b3R5cGUucHV0SW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2lubmVyLnB1dEludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbiwgdmFsKTtcbiAgICB9O1xuICAgIFNsaWNlQnVmZmVyLnByb3RvdHlwZS5wdXRGbG9hdDY0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5faW5uZXIucHV0RmxvYXQ2NCh0aGlzLl9zdGFydCArIHBvc2l0aW9uLCB2YWwpO1xuICAgIH07XG4gICAgU2xpY2VCdWZmZXIucHJvdG90eXBlLmdldEludDggPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLmdldEludDgodGhpcy5fc3RhcnQgKyBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBTbGljZUJ1ZmZlci5wcm90b3R5cGUuZ2V0RmxvYXQ2NCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIuZ2V0RmxvYXQ2NCh0aGlzLl9zdGFydCArIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBTbGljZUJ1ZmZlcjtcbn0oQmFzZUJ1ZmZlcikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseBuffer = void 0;\nvar base_buf_1 = __importDefault(__webpack_require__(/*! ./base-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js\"));\nexports.BaseBuffer = base_buf_1.default;\nexports[\"default\"] = base_buf_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYnVmL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsaUNBQWlDLG1CQUFPLENBQUMseUZBQVk7QUFDckQsa0JBQWtCO0FBQ2xCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvYnVmL2luZGV4LmpzP2ZkNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlQnVmZmVyID0gdm9pZCAwO1xudmFyIGJhc2VfYnVmXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmFzZS1idWZcIikpO1xuZXhwb3J0cy5CYXNlQnVmZmVyID0gYmFzZV9idWZfMS5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0gYmFzZV9idWZfMS5kZWZhdWx0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js":
/*!******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.alloc = void 0;\nvar buffer_1 = __importDefault(__webpack_require__(/*! buffer */ \"buffer\"));\nvar buf_1 = __importDefault(__webpack_require__(/*! ../buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\"));\nvar ChannelBuffer = /** @class */ (function (_super) {\n    __extends(ChannelBuffer, _super);\n    function ChannelBuffer(arg) {\n        var _this = this;\n        var buffer = newChannelJSBuffer(arg);\n        _this = _super.call(this, buffer.length) || this;\n        _this._buffer = buffer;\n        return _this;\n    }\n    ChannelBuffer.prototype.getUInt8 = function (position) {\n        return this._buffer.readUInt8(position);\n    };\n    ChannelBuffer.prototype.getInt8 = function (position) {\n        return this._buffer.readInt8(position);\n    };\n    ChannelBuffer.prototype.getFloat64 = function (position) {\n        return this._buffer.readDoubleBE(position);\n    };\n    ChannelBuffer.prototype.putUInt8 = function (position, val) {\n        this._buffer.writeUInt8(val, position);\n    };\n    ChannelBuffer.prototype.putInt8 = function (position, val) {\n        this._buffer.writeInt8(val, position);\n    };\n    ChannelBuffer.prototype.putFloat64 = function (position, val) {\n        this._buffer.writeDoubleBE(val, position);\n    };\n    ChannelBuffer.prototype.putBytes = function (position, val) {\n        if (val instanceof ChannelBuffer) {\n            var bytesToCopy = Math.min(val.length - val.position, this.length - position);\n            val._buffer.copy(this._buffer, position, val.position, val.position + bytesToCopy);\n            val.position += bytesToCopy;\n        }\n        else {\n            _super.prototype.putBytes.call(this, position, val);\n        }\n    };\n    ChannelBuffer.prototype.getSlice = function (start, length) {\n        return new ChannelBuffer(this._buffer.slice(start, start + length));\n    };\n    return ChannelBuffer;\n}(buf_1.default));\nexports[\"default\"] = ChannelBuffer;\n/**\n * Allocate a buffer\n *\n * @param {number} size The buffer sizzer\n * @returns {BaseBuffer} The buffer\n */\nfunction alloc(size) {\n    return new ChannelBuffer(size);\n}\nexports.alloc = alloc;\nfunction newChannelJSBuffer(arg) {\n    if (arg instanceof buffer_1.default.Buffer) {\n        return arg;\n    }\n    else if (typeof arg === 'number' &&\n        typeof buffer_1.default.Buffer.alloc === 'function') {\n        // use static factory function present in newer NodeJS versions to allocate new buffer with specified size\n        return buffer_1.default.Buffer.alloc(arg);\n    }\n    else {\n        // fallback to the old, potentially deprecated constructor\n        // eslint-disable-next-line n/no-deprecated-api\n        return new buffer_1.default.Buffer(arg);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaGFubmVsLWJ1Zi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiLCtCQUErQixtQkFBTyxDQUFDLHNCQUFRO0FBQy9DLDRCQUE0QixtQkFBTyxDQUFDLGtGQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvY2hhbm5lbC1idWYuanM/YmJjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hbGxvYyA9IHZvaWQgMDtcbnZhciBidWZmZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiYnVmZmVyXCIpKTtcbnZhciBidWZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vYnVmXCIpKTtcbnZhciBDaGFubmVsQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDaGFubmVsQnVmZmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoYW5uZWxCdWZmZXIoYXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBidWZmZXIgPSBuZXdDaGFubmVsSlNCdWZmZXIoYXJnKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBidWZmZXIubGVuZ3RoKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENoYW5uZWxCdWZmZXIucHJvdG90eXBlLmdldFVJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIucmVhZFVJbnQ4KHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIENoYW5uZWxCdWZmZXIucHJvdG90eXBlLmdldEludDggPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5yZWFkSW50OChwb3NpdGlvbik7XG4gICAgfTtcbiAgICBDaGFubmVsQnVmZmVyLnByb3RvdHlwZS5nZXRGbG9hdDY0ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIucmVhZERvdWJsZUJFKHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIENoYW5uZWxCdWZmZXIucHJvdG90eXBlLnB1dFVJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyLndyaXRlVUludDgodmFsLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBDaGFubmVsQnVmZmVyLnByb3RvdHlwZS5wdXRJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyLndyaXRlSW50OCh2YWwsIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIENoYW5uZWxCdWZmZXIucHJvdG90eXBlLnB1dEZsb2F0NjQgPSBmdW5jdGlvbiAocG9zaXRpb24sIHZhbCkge1xuICAgICAgICB0aGlzLl9idWZmZXIud3JpdGVEb3VibGVCRSh2YWwsIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIENoYW5uZWxCdWZmZXIucHJvdG90eXBlLnB1dEJ5dGVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIENoYW5uZWxCdWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBieXRlc1RvQ29weSA9IE1hdGgubWluKHZhbC5sZW5ndGggLSB2YWwucG9zaXRpb24sIHRoaXMubGVuZ3RoIC0gcG9zaXRpb24pO1xuICAgICAgICAgICAgdmFsLl9idWZmZXIuY29weSh0aGlzLl9idWZmZXIsIHBvc2l0aW9uLCB2YWwucG9zaXRpb24sIHZhbC5wb3NpdGlvbiArIGJ5dGVzVG9Db3B5KTtcbiAgICAgICAgICAgIHZhbC5wb3NpdGlvbiArPSBieXRlc1RvQ29weTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUucHV0Qnl0ZXMuY2FsbCh0aGlzLCBwb3NpdGlvbiwgdmFsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2hhbm5lbEJ1ZmZlci5wcm90b3R5cGUuZ2V0U2xpY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5uZWxCdWZmZXIodGhpcy5fYnVmZmVyLnNsaWNlKHN0YXJ0LCBzdGFydCArIGxlbmd0aCkpO1xuICAgIH07XG4gICAgcmV0dXJuIENoYW5uZWxCdWZmZXI7XG59KGJ1Zl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IENoYW5uZWxCdWZmZXI7XG4vKipcbiAqIEFsbG9jYXRlIGEgYnVmZmVyXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgVGhlIGJ1ZmZlciBzaXp6ZXJcbiAqIEByZXR1cm5zIHtCYXNlQnVmZmVyfSBUaGUgYnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGFsbG9jKHNpemUpIHtcbiAgICByZXR1cm4gbmV3IENoYW5uZWxCdWZmZXIoc2l6ZSk7XG59XG5leHBvcnRzLmFsbG9jID0gYWxsb2M7XG5mdW5jdGlvbiBuZXdDaGFubmVsSlNCdWZmZXIoYXJnKSB7XG4gICAgaWYgKGFyZyBpbnN0YW5jZW9mIGJ1ZmZlcl8xLmRlZmF1bHQuQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInICYmXG4gICAgICAgIHR5cGVvZiBidWZmZXJfMS5kZWZhdWx0LkJ1ZmZlci5hbGxvYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyB1c2Ugc3RhdGljIGZhY3RvcnkgZnVuY3Rpb24gcHJlc2VudCBpbiBuZXdlciBOb2RlSlMgdmVyc2lvbnMgdG8gYWxsb2NhdGUgbmV3IGJ1ZmZlciB3aXRoIHNwZWNpZmllZCBzaXplXG4gICAgICAgIHJldHVybiBidWZmZXJfMS5kZWZhdWx0LkJ1ZmZlci5hbGxvYyhhcmcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gdGhlIG9sZCwgcG90ZW50aWFsbHkgZGVwcmVjYXRlZCBjb25zdHJ1Y3RvclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9uby1kZXByZWNhdGVkLWFwaVxuICAgICAgICByZXR1cm4gbmV3IGJ1ZmZlcl8xLmRlZmF1bHQuQnVmZmVyKGFyZyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.util, ENCRYPTION_OFF = _a.ENCRYPTION_OFF, ENCRYPTION_ON = _a.ENCRYPTION_ON;\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar ALLOWED_VALUES_ENCRYPTED = [\n    null,\n    undefined,\n    true,\n    false,\n    ENCRYPTION_ON,\n    ENCRYPTION_OFF\n];\nvar ALLOWED_VALUES_TRUST = [\n    null,\n    undefined,\n    'TRUST_ALL_CERTIFICATES',\n    'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES',\n    'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'\n];\nvar ChannelConfig = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {ServerAddress} address the address for the channel to connect to.\n     * @param {Object} driverConfig the driver config provided by the user when driver is created.\n     * @param {string} connectionErrorCode the default error code to use on connection errors.\n     * @param {object} clientCertificate the client certificate\n     */\n    function ChannelConfig(address, driverConfig, connectionErrorCode, clientCertificate) {\n        this.address = address;\n        this.encrypted = extractEncrypted(driverConfig);\n        this.trust = extractTrust(driverConfig);\n        this.trustedCertificates = extractTrustedCertificates(driverConfig);\n        this.knownHostsPath = extractKnownHostsPath(driverConfig);\n        this.connectionErrorCode = connectionErrorCode || SERVICE_UNAVAILABLE;\n        this.connectionTimeout = driverConfig.connectionTimeout;\n        this.clientCertificate = clientCertificate;\n    }\n    return ChannelConfig;\n}());\nexports[\"default\"] = ChannelConfig;\nfunction extractEncrypted(driverConfig) {\n    var value = driverConfig.encrypted;\n    if (ALLOWED_VALUES_ENCRYPTED.indexOf(value) === -1) {\n        throw (0, neo4j_driver_core_1.newError)(\"Illegal value of the encrypted setting \".concat(value, \". Expected one of \").concat(ALLOWED_VALUES_ENCRYPTED));\n    }\n    return value;\n}\nfunction extractTrust(driverConfig) {\n    var value = driverConfig.trust;\n    if (ALLOWED_VALUES_TRUST.indexOf(value) === -1) {\n        throw (0, neo4j_driver_core_1.newError)(\"Illegal value of the trust setting \".concat(value, \". Expected one of \").concat(ALLOWED_VALUES_TRUST));\n    }\n    return value;\n}\nfunction extractTrustedCertificates(driverConfig) {\n    return driverConfig.trustedCertificates || [];\n}\nfunction extractKnownHostsPath(driverConfig) {\n    return driverConfig.knownHosts || null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaGFubmVsLWNvbmZpZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jaGFubmVsL2NoYW5uZWwtY29uZmlnLmpzPzk2YmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnV0aWwsIEVOQ1JZUFRJT05fT0ZGID0gX2EuRU5DUllQVElPTl9PRkYsIEVOQ1JZUFRJT05fT04gPSBfYS5FTkNSWVBUSU9OX09OO1xudmFyIFNFUlZJQ0VfVU5BVkFJTEFCTEUgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlNFUlZJQ0VfVU5BVkFJTEFCTEU7XG52YXIgQUxMT1dFRF9WQUxVRVNfRU5DUllQVEVEID0gW1xuICAgIG51bGwsXG4gICAgdW5kZWZpbmVkLFxuICAgIHRydWUsXG4gICAgZmFsc2UsXG4gICAgRU5DUllQVElPTl9PTixcbiAgICBFTkNSWVBUSU9OX09GRlxuXTtcbnZhciBBTExPV0VEX1ZBTFVFU19UUlVTVCA9IFtcbiAgICBudWxsLFxuICAgIHVuZGVmaW5lZCxcbiAgICAnVFJVU1RfQUxMX0NFUlRJRklDQVRFUycsXG4gICAgJ1RSVVNUX0NVU1RPTV9DQV9TSUdORURfQ0VSVElGSUNBVEVTJyxcbiAgICAnVFJVU1RfU1lTVEVNX0NBX1NJR05FRF9DRVJUSUZJQ0FURVMnXG5dO1xudmFyIENoYW5uZWxDb25maWcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtTZXJ2ZXJBZGRyZXNzfSBhZGRyZXNzIHRoZSBhZGRyZXNzIGZvciB0aGUgY2hhbm5lbCB0byBjb25uZWN0IHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkcml2ZXJDb25maWcgdGhlIGRyaXZlciBjb25maWcgcHJvdmlkZWQgYnkgdGhlIHVzZXIgd2hlbiBkcml2ZXIgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdGlvbkVycm9yQ29kZSB0aGUgZGVmYXVsdCBlcnJvciBjb2RlIHRvIHVzZSBvbiBjb25uZWN0aW9uIGVycm9ycy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY2xpZW50Q2VydGlmaWNhdGUgdGhlIGNsaWVudCBjZXJ0aWZpY2F0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENoYW5uZWxDb25maWcoYWRkcmVzcywgZHJpdmVyQ29uZmlnLCBjb25uZWN0aW9uRXJyb3JDb2RlLCBjbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLmVuY3J5cHRlZCA9IGV4dHJhY3RFbmNyeXB0ZWQoZHJpdmVyQ29uZmlnKTtcbiAgICAgICAgdGhpcy50cnVzdCA9IGV4dHJhY3RUcnVzdChkcml2ZXJDb25maWcpO1xuICAgICAgICB0aGlzLnRydXN0ZWRDZXJ0aWZpY2F0ZXMgPSBleHRyYWN0VHJ1c3RlZENlcnRpZmljYXRlcyhkcml2ZXJDb25maWcpO1xuICAgICAgICB0aGlzLmtub3duSG9zdHNQYXRoID0gZXh0cmFjdEtub3duSG9zdHNQYXRoKGRyaXZlckNvbmZpZyk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkVycm9yQ29kZSA9IGNvbm5lY3Rpb25FcnJvckNvZGUgfHwgU0VSVklDRV9VTkFWQUlMQUJMRTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGltZW91dCA9IGRyaXZlckNvbmZpZy5jb25uZWN0aW9uVGltZW91dDtcbiAgICAgICAgdGhpcy5jbGllbnRDZXJ0aWZpY2F0ZSA9IGNsaWVudENlcnRpZmljYXRlO1xuICAgIH1cbiAgICByZXR1cm4gQ2hhbm5lbENvbmZpZztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDaGFubmVsQ29uZmlnO1xuZnVuY3Rpb24gZXh0cmFjdEVuY3J5cHRlZChkcml2ZXJDb25maWcpIHtcbiAgICB2YXIgdmFsdWUgPSBkcml2ZXJDb25maWcuZW5jcnlwdGVkO1xuICAgIGlmIChBTExPV0VEX1ZBTFVFU19FTkNSWVBURUQuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIklsbGVnYWwgdmFsdWUgb2YgdGhlIGVuY3J5cHRlZCBzZXR0aW5nIFwiLmNvbmNhdCh2YWx1ZSwgXCIuIEV4cGVjdGVkIG9uZSBvZiBcIikuY29uY2F0KEFMTE9XRURfVkFMVUVTX0VOQ1JZUFRFRCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBleHRyYWN0VHJ1c3QoZHJpdmVyQ29uZmlnKSB7XG4gICAgdmFyIHZhbHVlID0gZHJpdmVyQ29uZmlnLnRydXN0O1xuICAgIGlmIChBTExPV0VEX1ZBTFVFU19UUlVTVC5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiSWxsZWdhbCB2YWx1ZSBvZiB0aGUgdHJ1c3Qgc2V0dGluZyBcIi5jb25jYXQodmFsdWUsIFwiLiBFeHBlY3RlZCBvbmUgb2YgXCIpLmNvbmNhdChBTExPV0VEX1ZBTFVFU19UUlVTVCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBleHRyYWN0VHJ1c3RlZENlcnRpZmljYXRlcyhkcml2ZXJDb25maWcpIHtcbiAgICByZXR1cm4gZHJpdmVyQ29uZmlnLnRydXN0ZWRDZXJ0aWZpY2F0ZXMgfHwgW107XG59XG5mdW5jdGlvbiBleHRyYWN0S25vd25Ib3N0c1BhdGgoZHJpdmVyQ29uZmlnKSB7XG4gICAgcmV0dXJuIGRyaXZlckNvbmZpZy5rbm93bkhvc3RzIHx8IG51bGw7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dechunker = exports.Chunker = void 0;\nvar base_buf_1 = __importDefault(__webpack_require__(/*! ../buf/base-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js\"));\nvar channel_buf_1 = __webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\");\nvar combined_buf_1 = __importDefault(__webpack_require__(/*! ./combined-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js\"));\nvar _CHUNK_HEADER_SIZE = 2;\nvar _MESSAGE_BOUNDARY = 0x00;\nvar _DEFAULT_BUFFER_SIZE = 1400; // http://stackoverflow.com/questions/2613734/maximum-packet-size-for-a-tcp-connection\n/**\n * Looks like a writable buffer, chunks output transparently into a channel below.\n * @access private\n */\nvar Chunker = /** @class */ (function (_super) {\n    __extends(Chunker, _super);\n    function Chunker(channel, bufferSize) {\n        var _this = _super.call(this, 0) || this;\n        _this._bufferSize = bufferSize || _DEFAULT_BUFFER_SIZE;\n        _this._ch = channel;\n        _this._buffer = (0, channel_buf_1.alloc)(_this._bufferSize);\n        _this._currentChunkStart = 0;\n        _this._chunkOpen = false;\n        return _this;\n    }\n    Chunker.prototype.putUInt8 = function (position, val) {\n        this._ensure(1);\n        this._buffer.writeUInt8(val);\n    };\n    Chunker.prototype.putInt8 = function (position, val) {\n        this._ensure(1);\n        this._buffer.writeInt8(val);\n    };\n    Chunker.prototype.putFloat64 = function (position, val) {\n        this._ensure(8);\n        this._buffer.writeFloat64(val);\n    };\n    Chunker.prototype.putBytes = function (position, data) {\n        // TODO: If data is larger than our chunk size or so, we're very likely better off just passing this buffer on\n        // rather than doing the copy here TODO: *however* note that we need some way to find out when the data has been\n        // written (and thus the buffer can be re-used) if we take that approach\n        while (data.remaining() > 0) {\n            // Ensure there is an open chunk, and that it has at least one byte of space left\n            this._ensure(1);\n            if (this._buffer.remaining() > data.remaining()) {\n                this._buffer.writeBytes(data);\n            }\n            else {\n                this._buffer.writeBytes(data.readSlice(this._buffer.remaining()));\n            }\n        }\n        return this;\n    };\n    Chunker.prototype.flush = function () {\n        if (this._buffer.position > 0) {\n            this._closeChunkIfOpen();\n            // Local copy and clear the buffer field. This ensures that the buffer is not re-released if the flush call fails\n            var out = this._buffer;\n            this._buffer = null;\n            this._ch.write(out.getSlice(0, out.position));\n            // Alloc a new output buffer. We assume we're using NodeJS's buffer pooling under the hood here!\n            this._buffer = (0, channel_buf_1.alloc)(this._bufferSize);\n            this._chunkOpen = false;\n        }\n        return this;\n    };\n    /**\n     * Bolt messages are encoded in one or more chunks, and the boundary between two messages\n     * is encoded as a 0-length chunk, `00 00`. This inserts such a message boundary, closing\n     * any currently open chunk as needed\n     */\n    Chunker.prototype.messageBoundary = function () {\n        this._closeChunkIfOpen();\n        if (this._buffer.remaining() < _CHUNK_HEADER_SIZE) {\n            this.flush();\n        }\n        // Write message boundary\n        this._buffer.writeInt16(_MESSAGE_BOUNDARY);\n    };\n    /** Ensure at least the given size is available for writing */\n    Chunker.prototype._ensure = function (size) {\n        var toWriteSize = this._chunkOpen ? size : size + _CHUNK_HEADER_SIZE;\n        if (this._buffer.remaining() < toWriteSize) {\n            this.flush();\n        }\n        if (!this._chunkOpen) {\n            this._currentChunkStart = this._buffer.position;\n            this._buffer.position = this._buffer.position + _CHUNK_HEADER_SIZE;\n            this._chunkOpen = true;\n        }\n    };\n    Chunker.prototype._closeChunkIfOpen = function () {\n        if (this._chunkOpen) {\n            var chunkSize = this._buffer.position - (this._currentChunkStart + _CHUNK_HEADER_SIZE);\n            this._buffer.putUInt16(this._currentChunkStart, chunkSize);\n            this._chunkOpen = false;\n        }\n    };\n    return Chunker;\n}(base_buf_1.default));\nexports.Chunker = Chunker;\n/**\n * Combines chunks until a complete message is gathered up, and then forwards that\n * message to an 'onmessage' listener.\n * @access private\n */\nvar Dechunker = /** @class */ (function () {\n    function Dechunker() {\n        this._currentMessage = [];\n        this._partialChunkHeader = 0;\n        this._state = this.AWAITING_CHUNK;\n    }\n    Dechunker.prototype.AWAITING_CHUNK = function (buf) {\n        if (buf.remaining() >= 2) {\n            // Whole header available, read that\n            return this._onHeader(buf.readUInt16());\n        }\n        else {\n            // Only one byte available, read that and wait for the second byte\n            this._partialChunkHeader = buf.readUInt8() << 8;\n            return this.IN_HEADER;\n        }\n    };\n    Dechunker.prototype.IN_HEADER = function (buf) {\n        // First header byte read, now we read the next one\n        return this._onHeader((this._partialChunkHeader | buf.readUInt8()) & 0xffff);\n    };\n    Dechunker.prototype.IN_CHUNK = function (buf) {\n        if (this._chunkSize <= buf.remaining()) {\n            // Current packet is larger than current chunk, or same size:\n            this._currentMessage.push(buf.readSlice(this._chunkSize));\n            return this.AWAITING_CHUNK;\n        }\n        else {\n            // Current packet is smaller than the chunk we're reading, split the current chunk itself up\n            this._chunkSize -= buf.remaining();\n            this._currentMessage.push(buf.readSlice(buf.remaining()));\n            return this.IN_CHUNK;\n        }\n    };\n    Dechunker.prototype.CLOSED = function (buf) {\n        // no-op\n    };\n    /** Called when a complete chunk header has been received */\n    Dechunker.prototype._onHeader = function (header) {\n        if (header === 0) {\n            // Message boundary\n            var message = void 0;\n            switch (this._currentMessage.length) {\n                case 0:\n                    // Keep alive chunk, sent by server to keep network alive.\n                    return this.AWAITING_CHUNK;\n                case 1:\n                    // All data in one chunk, this signals the end of that chunk.\n                    message = this._currentMessage[0];\n                    break;\n                default:\n                    // A large chunk of data received, this signals that the last chunk has been received.\n                    message = new combined_buf_1.default(this._currentMessage);\n                    break;\n            }\n            this._currentMessage = [];\n            this.onmessage(message);\n            return this.AWAITING_CHUNK;\n        }\n        else {\n            this._chunkSize = header;\n            return this.IN_CHUNK;\n        }\n    };\n    Dechunker.prototype.write = function (buf) {\n        while (buf.hasRemaining()) {\n            this._state = this._state(buf);\n        }\n    };\n    return Dechunker;\n}());\nexports.Dechunker = Dechunker;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jaHVua2luZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLEdBQUcsZUFBZTtBQUNuQyxpQ0FBaUMsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDMUQsb0JBQW9CLG1CQUFPLENBQUMsbUdBQWU7QUFDM0MscUNBQXFDLG1CQUFPLENBQUMscUdBQWdCO0FBQzdEO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvY2h1bmtpbmcuanM/NzE2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EZWNodW5rZXIgPSBleHBvcnRzLkNodW5rZXIgPSB2b2lkIDA7XG52YXIgYmFzZV9idWZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vYnVmL2Jhc2UtYnVmXCIpKTtcbnZhciBjaGFubmVsX2J1Zl8xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1idWZcIik7XG52YXIgY29tYmluZWRfYnVmXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29tYmluZWQtYnVmXCIpKTtcbnZhciBfQ0hVTktfSEVBREVSX1NJWkUgPSAyO1xudmFyIF9NRVNTQUdFX0JPVU5EQVJZID0gMHgwMDtcbnZhciBfREVGQVVMVF9CVUZGRVJfU0laRSA9IDE0MDA7IC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjYxMzczNC9tYXhpbXVtLXBhY2tldC1zaXplLWZvci1hLXRjcC1jb25uZWN0aW9uXG4vKipcbiAqIExvb2tzIGxpa2UgYSB3cml0YWJsZSBidWZmZXIsIGNodW5rcyBvdXRwdXQgdHJhbnNwYXJlbnRseSBpbnRvIGEgY2hhbm5lbCBiZWxvdy5cbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICovXG52YXIgQ2h1bmtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2h1bmtlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDaHVua2VyKGNoYW5uZWwsIGJ1ZmZlclNpemUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgMCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2J1ZmZlclNpemUgPSBidWZmZXJTaXplIHx8IF9ERUZBVUxUX0JVRkZFUl9TSVpFO1xuICAgICAgICBfdGhpcy5fY2ggPSBjaGFubmVsO1xuICAgICAgICBfdGhpcy5fYnVmZmVyID0gKDAsIGNoYW5uZWxfYnVmXzEuYWxsb2MpKF90aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRDaHVua1N0YXJ0ID0gMDtcbiAgICAgICAgX3RoaXMuX2NodW5rT3BlbiA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENodW5rZXIucHJvdG90eXBlLnB1dFVJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fZW5zdXJlKDEpO1xuICAgICAgICB0aGlzLl9idWZmZXIud3JpdGVVSW50OCh2YWwpO1xuICAgIH07XG4gICAgQ2h1bmtlci5wcm90b3R5cGUucHV0SW50OCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2Vuc3VyZSgxKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyLndyaXRlSW50OCh2YWwpO1xuICAgIH07XG4gICAgQ2h1bmtlci5wcm90b3R5cGUucHV0RmxvYXQ2NCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdmFsKSB7XG4gICAgICAgIHRoaXMuX2Vuc3VyZSg4KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyLndyaXRlRmxvYXQ2NCh2YWwpO1xuICAgIH07XG4gICAgQ2h1bmtlci5wcm90b3R5cGUucHV0Qnl0ZXMgPSBmdW5jdGlvbiAocG9zaXRpb24sIGRhdGEpIHtcbiAgICAgICAgLy8gVE9ETzogSWYgZGF0YSBpcyBsYXJnZXIgdGhhbiBvdXIgY2h1bmsgc2l6ZSBvciBzbywgd2UncmUgdmVyeSBsaWtlbHkgYmV0dGVyIG9mZiBqdXN0IHBhc3NpbmcgdGhpcyBidWZmZXIgb25cbiAgICAgICAgLy8gcmF0aGVyIHRoYW4gZG9pbmcgdGhlIGNvcHkgaGVyZSBUT0RPOiAqaG93ZXZlciogbm90ZSB0aGF0IHdlIG5lZWQgc29tZSB3YXkgdG8gZmluZCBvdXQgd2hlbiB0aGUgZGF0YSBoYXMgYmVlblxuICAgICAgICAvLyB3cml0dGVuIChhbmQgdGh1cyB0aGUgYnVmZmVyIGNhbiBiZSByZS11c2VkKSBpZiB3ZSB0YWtlIHRoYXQgYXBwcm9hY2hcbiAgICAgICAgd2hpbGUgKGRhdGEucmVtYWluaW5nKCkgPiAwKSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlcmUgaXMgYW4gb3BlbiBjaHVuaywgYW5kIHRoYXQgaXQgaGFzIGF0IGxlYXN0IG9uZSBieXRlIG9mIHNwYWNlIGxlZnRcbiAgICAgICAgICAgIHRoaXMuX2Vuc3VyZSgxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9idWZmZXIucmVtYWluaW5nKCkgPiBkYXRhLnJlbWFpbmluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyLndyaXRlQnl0ZXMoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIud3JpdGVCeXRlcyhkYXRhLnJlYWRTbGljZSh0aGlzLl9idWZmZXIucmVtYWluaW5nKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIENodW5rZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyLnBvc2l0aW9uID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VDaHVua0lmT3BlbigpO1xuICAgICAgICAgICAgLy8gTG9jYWwgY29weSBhbmQgY2xlYXIgdGhlIGJ1ZmZlciBmaWVsZC4gVGhpcyBlbnN1cmVzIHRoYXQgdGhlIGJ1ZmZlciBpcyBub3QgcmUtcmVsZWFzZWQgaWYgdGhlIGZsdXNoIGNhbGwgZmFpbHNcbiAgICAgICAgICAgIHZhciBvdXQgPSB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGUob3V0LmdldFNsaWNlKDAsIG91dC5wb3NpdGlvbikpO1xuICAgICAgICAgICAgLy8gQWxsb2MgYSBuZXcgb3V0cHV0IGJ1ZmZlci4gV2UgYXNzdW1lIHdlJ3JlIHVzaW5nIE5vZGVKUydzIGJ1ZmZlciBwb29saW5nIHVuZGVyIHRoZSBob29kIGhlcmUhXG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSAoMCwgY2hhbm5lbF9idWZfMS5hbGxvYykodGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9jaHVua09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJvbHQgbWVzc2FnZXMgYXJlIGVuY29kZWQgaW4gb25lIG9yIG1vcmUgY2h1bmtzLCBhbmQgdGhlIGJvdW5kYXJ5IGJldHdlZW4gdHdvIG1lc3NhZ2VzXG4gICAgICogaXMgZW5jb2RlZCBhcyBhIDAtbGVuZ3RoIGNodW5rLCBgMDAgMDBgLiBUaGlzIGluc2VydHMgc3VjaCBhIG1lc3NhZ2UgYm91bmRhcnksIGNsb3NpbmdcbiAgICAgKiBhbnkgY3VycmVudGx5IG9wZW4gY2h1bmsgYXMgbmVlZGVkXG4gICAgICovXG4gICAgQ2h1bmtlci5wcm90b3R5cGUubWVzc2FnZUJvdW5kYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jbG9zZUNodW5rSWZPcGVuKCk7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIucmVtYWluaW5nKCkgPCBfQ0hVTktfSEVBREVSX1NJWkUpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXcml0ZSBtZXNzYWdlIGJvdW5kYXJ5XG4gICAgICAgIHRoaXMuX2J1ZmZlci53cml0ZUludDE2KF9NRVNTQUdFX0JPVU5EQVJZKTtcbiAgICB9O1xuICAgIC8qKiBFbnN1cmUgYXQgbGVhc3QgdGhlIGdpdmVuIHNpemUgaXMgYXZhaWxhYmxlIGZvciB3cml0aW5nICovXG4gICAgQ2h1bmtlci5wcm90b3R5cGUuX2Vuc3VyZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHZhciB0b1dyaXRlU2l6ZSA9IHRoaXMuX2NodW5rT3BlbiA/IHNpemUgOiBzaXplICsgX0NIVU5LX0hFQURFUl9TSVpFO1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyLnJlbWFpbmluZygpIDwgdG9Xcml0ZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NodW5rT3Blbikge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudENodW5rU3RhcnQgPSB0aGlzLl9idWZmZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLl9idWZmZXIucG9zaXRpb24gPSB0aGlzLl9idWZmZXIucG9zaXRpb24gKyBfQ0hVTktfSEVBREVSX1NJWkU7XG4gICAgICAgICAgICB0aGlzLl9jaHVua09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaHVua2VyLnByb3RvdHlwZS5fY2xvc2VDaHVua0lmT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NodW5rT3Blbikge1xuICAgICAgICAgICAgdmFyIGNodW5rU2l6ZSA9IHRoaXMuX2J1ZmZlci5wb3NpdGlvbiAtICh0aGlzLl9jdXJyZW50Q2h1bmtTdGFydCArIF9DSFVOS19IRUFERVJfU0laRSk7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXIucHV0VUludDE2KHRoaXMuX2N1cnJlbnRDaHVua1N0YXJ0LCBjaHVua1NpemUpO1xuICAgICAgICAgICAgdGhpcy5fY2h1bmtPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDaHVua2VyO1xufShiYXNlX2J1Zl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuQ2h1bmtlciA9IENodW5rZXI7XG4vKipcbiAqIENvbWJpbmVzIGNodW5rcyB1bnRpbCBhIGNvbXBsZXRlIG1lc3NhZ2UgaXMgZ2F0aGVyZWQgdXAsIGFuZCB0aGVuIGZvcndhcmRzIHRoYXRcbiAqIG1lc3NhZ2UgdG8gYW4gJ29ubWVzc2FnZScgbGlzdGVuZXIuXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqL1xudmFyIERlY2h1bmtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNodW5rZXIoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRNZXNzYWdlID0gW107XG4gICAgICAgIHRoaXMuX3BhcnRpYWxDaHVua0hlYWRlciA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5BV0FJVElOR19DSFVOSztcbiAgICB9XG4gICAgRGVjaHVua2VyLnByb3RvdHlwZS5BV0FJVElOR19DSFVOSyA9IGZ1bmN0aW9uIChidWYpIHtcbiAgICAgICAgaWYgKGJ1Zi5yZW1haW5pbmcoKSA+PSAyKSB7XG4gICAgICAgICAgICAvLyBXaG9sZSBoZWFkZXIgYXZhaWxhYmxlLCByZWFkIHRoYXRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkhlYWRlcihidWYucmVhZFVJbnQxNigpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE9ubHkgb25lIGJ5dGUgYXZhaWxhYmxlLCByZWFkIHRoYXQgYW5kIHdhaXQgZm9yIHRoZSBzZWNvbmQgYnl0ZVxuICAgICAgICAgICAgdGhpcy5fcGFydGlhbENodW5rSGVhZGVyID0gYnVmLnJlYWRVSW50OCgpIDw8IDg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5JTl9IRUFERVI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY2h1bmtlci5wcm90b3R5cGUuSU5fSEVBREVSID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICAvLyBGaXJzdCBoZWFkZXIgYnl0ZSByZWFkLCBub3cgd2UgcmVhZCB0aGUgbmV4dCBvbmVcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uSGVhZGVyKCh0aGlzLl9wYXJ0aWFsQ2h1bmtIZWFkZXIgfCBidWYucmVhZFVJbnQ4KCkpICYgMHhmZmZmKTtcbiAgICB9O1xuICAgIERlY2h1bmtlci5wcm90b3R5cGUuSU5fQ0hVTksgPSBmdW5jdGlvbiAoYnVmKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaHVua1NpemUgPD0gYnVmLnJlbWFpbmluZygpKSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50IHBhY2tldCBpcyBsYXJnZXIgdGhhbiBjdXJyZW50IGNodW5rLCBvciBzYW1lIHNpemU6XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TWVzc2FnZS5wdXNoKGJ1Zi5yZWFkU2xpY2UodGhpcy5fY2h1bmtTaXplKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5BV0FJVElOR19DSFVOSztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgcGFja2V0IGlzIHNtYWxsZXIgdGhhbiB0aGUgY2h1bmsgd2UncmUgcmVhZGluZywgc3BsaXQgdGhlIGN1cnJlbnQgY2h1bmsgaXRzZWxmIHVwXG4gICAgICAgICAgICB0aGlzLl9jaHVua1NpemUgLT0gYnVmLnJlbWFpbmluZygpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudE1lc3NhZ2UucHVzaChidWYucmVhZFNsaWNlKGJ1Zi5yZW1haW5pbmcoKSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuSU5fQ0hVTks7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY2h1bmtlci5wcm90b3R5cGUuQ0xPU0VEID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICAvLyBuby1vcFxuICAgIH07XG4gICAgLyoqIENhbGxlZCB3aGVuIGEgY29tcGxldGUgY2h1bmsgaGVhZGVyIGhhcyBiZWVuIHJlY2VpdmVkICovXG4gICAgRGVjaHVua2VyLnByb3RvdHlwZS5fb25IZWFkZXIgPSBmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgIGlmIChoZWFkZXIgPT09IDApIHtcbiAgICAgICAgICAgIC8vIE1lc3NhZ2UgYm91bmRhcnlcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gdm9pZCAwO1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9jdXJyZW50TWVzc2FnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgYWxpdmUgY2h1bmssIHNlbnQgYnkgc2VydmVyIHRvIGtlZXAgbmV0d29yayBhbGl2ZS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuQVdBSVRJTkdfQ0hVTks7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAvLyBBbGwgZGF0YSBpbiBvbmUgY2h1bmssIHRoaXMgc2lnbmFscyB0aGUgZW5kIG9mIHRoYXQgY2h1bmsuXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLl9jdXJyZW50TWVzc2FnZVswXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBsYXJnZSBjaHVuayBvZiBkYXRhIHJlY2VpdmVkLCB0aGlzIHNpZ25hbHMgdGhhdCB0aGUgbGFzdCBjaHVuayBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG5ldyBjb21iaW5lZF9idWZfMS5kZWZhdWx0KHRoaXMuX2N1cnJlbnRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TWVzc2FnZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5vbm1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5BV0FJVElOR19DSFVOSztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NodW5rU2l6ZSA9IGhlYWRlcjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLklOX0NIVU5LO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWNodW5rZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICB3aGlsZSAoYnVmLmhhc1JlbWFpbmluZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHRoaXMuX3N0YXRlKGJ1Zik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEZWNodW5rZXI7XG59KCkpO1xuZXhwb3J0cy5EZWNodW5rZXIgPSBEZWNodW5rZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar buf_1 = __webpack_require__(/*! ../buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\");\nvar channel_buf_1 = __webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\");\n/**\n * Buffer that combines multiple buffers, exposing them as one single buffer.\n */\nvar CombinedBuffer = /** @class */ (function (_super) {\n    __extends(CombinedBuffer, _super);\n    function CombinedBuffer(buffers) {\n        var _this = this;\n        var length = 0;\n        for (var i = 0; i < buffers.length; i++) {\n            length += buffers[i].length;\n        }\n        _this = _super.call(this, length) || this;\n        _this._buffers = buffers;\n        return _this;\n    }\n    CombinedBuffer.prototype.getUInt8 = function (position) {\n        // Surely there's a faster way to do this.. some sort of lookup table thing?\n        for (var i = 0; i < this._buffers.length; i++) {\n            var buffer = this._buffers[i];\n            // If the position is not in the current buffer, skip the current buffer\n            if (position >= buffer.length) {\n                position -= buffer.length;\n            }\n            else {\n                return buffer.getUInt8(position);\n            }\n        }\n    };\n    CombinedBuffer.prototype.getInt8 = function (position) {\n        // Surely there's a faster way to do this.. some sort of lookup table thing?\n        for (var i = 0; i < this._buffers.length; i++) {\n            var buffer = this._buffers[i];\n            // If the position is not in the current buffer, skip the current buffer\n            if (position >= buffer.length) {\n                position -= buffer.length;\n            }\n            else {\n                return buffer.getInt8(position);\n            }\n        }\n    };\n    CombinedBuffer.prototype.getFloat64 = function (position) {\n        // At some point, a more efficient impl. For now, we copy the 8 bytes\n        // we want to read and depend on the platform impl of IEEE 754.\n        var b = (0, channel_buf_1.alloc)(8);\n        for (var i = 0; i < 8; i++) {\n            b.putUInt8(i, this.getUInt8(position + i));\n        }\n        return b.getFloat64(0);\n    };\n    return CombinedBuffer;\n}(buf_1.BaseBuffer));\nexports[\"default\"] = CombinedBuffer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9jb21iaW5lZC1idWYuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZLG1CQUFPLENBQUMsa0ZBQVE7QUFDNUIsb0JBQW9CLG1CQUFPLENBQUMsbUdBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwQkFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvY29tYmluZWQtYnVmLmpzP2NhNTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBidWZfMSA9IHJlcXVpcmUoXCIuLi9idWZcIik7XG52YXIgY2hhbm5lbF9idWZfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtYnVmXCIpO1xuLyoqXG4gKiBCdWZmZXIgdGhhdCBjb21iaW5lcyBtdWx0aXBsZSBidWZmZXJzLCBleHBvc2luZyB0aGVtIGFzIG9uZSBzaW5nbGUgYnVmZmVyLlxuICovXG52YXIgQ29tYmluZWRCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbWJpbmVkQnVmZmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbWJpbmVkQnVmZmVyKGJ1ZmZlcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGVuZ3RoICs9IGJ1ZmZlcnNbaV0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fYnVmZmVycyA9IGJ1ZmZlcnM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29tYmluZWRCdWZmZXIucHJvdG90eXBlLmdldFVJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIC8vIFN1cmVseSB0aGVyZSdzIGEgZmFzdGVyIHdheSB0byBkbyB0aGlzLi4gc29tZSBzb3J0IG9mIGxvb2t1cCB0YWJsZSB0aGluZz9cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYnVmZmVyc1tpXTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwb3NpdGlvbiBpcyBub3QgaW4gdGhlIGN1cnJlbnQgYnVmZmVyLCBza2lwIHRoZSBjdXJyZW50IGJ1ZmZlclxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiAtPSBidWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5nZXRVSW50OChwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVkQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQ4ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIC8vIFN1cmVseSB0aGVyZSdzIGEgZmFzdGVyIHdheSB0byBkbyB0aGlzLi4gc29tZSBzb3J0IG9mIGxvb2t1cCB0YWJsZSB0aGluZz9cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYnVmZmVyc1tpXTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwb3NpdGlvbiBpcyBub3QgaW4gdGhlIGN1cnJlbnQgYnVmZmVyLCBza2lwIHRoZSBjdXJyZW50IGJ1ZmZlclxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiAtPSBidWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5nZXRJbnQ4KHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZWRCdWZmZXIucHJvdG90eXBlLmdldEZsb2F0NjQgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgLy8gQXQgc29tZSBwb2ludCwgYSBtb3JlIGVmZmljaWVudCBpbXBsLiBGb3Igbm93LCB3ZSBjb3B5IHRoZSA4IGJ5dGVzXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gcmVhZCBhbmQgZGVwZW5kIG9uIHRoZSBwbGF0Zm9ybSBpbXBsIG9mIElFRUUgNzU0LlxuICAgICAgICB2YXIgYiA9ICgwLCBjaGFubmVsX2J1Zl8xLmFsbG9jKSg4KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgIGIucHV0VUludDgoaSwgdGhpcy5nZXRVSW50OChwb3NpdGlvbiArIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYi5nZXRGbG9hdDY0KDApO1xuICAgIH07XG4gICAgcmV0dXJuIENvbWJpbmVkQnVmZmVyO1xufShidWZfMS5CYXNlQnVmZmVyKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDb21iaW5lZEJ1ZmZlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.utf8 = exports.alloc = exports.ChannelConfig = void 0;\n__exportStar(__webpack_require__(/*! ./node */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./chunking */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js\"), exports);\nvar channel_config_1 = __webpack_require__(/*! ./channel-config */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js\");\nObject.defineProperty(exports, \"ChannelConfig\", ({ enumerable: true, get: function () { return __importDefault(channel_config_1).default; } }));\nvar channel_buf_1 = __webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\");\nObject.defineProperty(exports, \"alloc\", ({ enumerable: true, get: function () { return channel_buf_1.alloc; } }));\nvar utf8_1 = __webpack_require__(/*! ./utf8 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js\");\nObject.defineProperty(exports, \"utf8\", ({ enumerable: true, get: function () { return __importDefault(utf8_1).default; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWSxHQUFHLGFBQWEsR0FBRyxxQkFBcUI7QUFDcEQsYUFBYSxtQkFBTyxDQUFDLDJGQUFRO0FBQzdCLGFBQWEsbUJBQU8sQ0FBQyw2RkFBWTtBQUNqQyx1QkFBdUIsbUJBQU8sQ0FBQyx5R0FBa0I7QUFDakQsaURBQWdELEVBQUUscUNBQXFDLHFEQUFxRCxFQUFDO0FBQzdJLG9CQUFvQixtQkFBTyxDQUFDLG1HQUFlO0FBQzNDLHlDQUF3QyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUMvRyxhQUFhLG1CQUFPLENBQUMscUZBQVE7QUFDN0Isd0NBQXVDLEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9pbmRleC5qcz83MDM0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51dGY4ID0gZXhwb3J0cy5hbGxvYyA9IGV4cG9ydHMuQ2hhbm5lbENvbmZpZyA9IHZvaWQgMDtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ub2RlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jaHVua2luZ1wiKSwgZXhwb3J0cyk7XG52YXIgY2hhbm5lbF9jb25maWdfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtY29uZmlnXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2hhbm5lbENvbmZpZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KGNoYW5uZWxfY29uZmlnXzEpLmRlZmF1bHQ7IH0gfSk7XG52YXIgY2hhbm5lbF9idWZfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtYnVmXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYWxsb2NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYW5uZWxfYnVmXzEuYWxsb2M7IH0gfSk7XG52YXIgdXRmOF8xID0gcmVxdWlyZShcIi4vdXRmOFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInV0ZjhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9faW1wb3J0RGVmYXVsdCh1dGY4XzEpLmRlZmF1bHQ7IH0gfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ClientCertificatesLoader = exports.HostNameResolver = exports.Channel = void 0;\nvar node_channel_1 = __importDefault(__webpack_require__(/*! ./node-channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js\"));\nvar node_host_name_resolver_1 = __importDefault(__webpack_require__(/*! ./node-host-name-resolver */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js\"));\nvar node_client_certificates_loader_1 = __importDefault(__webpack_require__(/*! ./node-client-certificates-loader */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js\"));\n/*\n\nThis module exports a set of components to be used in NodeJS environment.\nThey are not compatible with browser environment.\nAll files that require environment-dependent APIs should import this file by default.\nImports/requires are replaced at build time with `browser/index.js` when building a browser bundle.\n\nNOTE: exports in this module should have exactly the same names/structure as exports in `browser/index.js`.\n\n */\nexports.Channel = node_channel_1.default;\nexports.HostNameResolver = node_host_name_resolver_1.default;\nexports.ClientCertificatesLoader = node_client_certificates_loader_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0MsR0FBRyx3QkFBd0IsR0FBRyxlQUFlO0FBQzdFLHFDQUFxQyxtQkFBTyxDQUFDLDBHQUFnQjtBQUM3RCxnREFBZ0QsbUJBQU8sQ0FBQyxnSUFBMkI7QUFDbkYsd0RBQXdELG1CQUFPLENBQUMsZ0pBQW1DO0FBQ25HOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsZUFBZTtBQUNmLHdCQUF3QjtBQUN4QixnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jaGFubmVsL25vZGUvaW5kZXguanM/ZTY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNsaWVudENlcnRpZmljYXRlc0xvYWRlciA9IGV4cG9ydHMuSG9zdE5hbWVSZXNvbHZlciA9IGV4cG9ydHMuQ2hhbm5lbCA9IHZvaWQgMDtcbnZhciBub2RlX2NoYW5uZWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ub2RlLWNoYW5uZWxcIikpO1xudmFyIG5vZGVfaG9zdF9uYW1lX3Jlc29sdmVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbm9kZS1ob3N0LW5hbWUtcmVzb2x2ZXJcIikpO1xudmFyIG5vZGVfY2xpZW50X2NlcnRpZmljYXRlc19sb2FkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ub2RlLWNsaWVudC1jZXJ0aWZpY2F0ZXMtbG9hZGVyXCIpKTtcbi8qXG5cblRoaXMgbW9kdWxlIGV4cG9ydHMgYSBzZXQgb2YgY29tcG9uZW50cyB0byBiZSB1c2VkIGluIE5vZGVKUyBlbnZpcm9ubWVudC5cblRoZXkgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggYnJvd3NlciBlbnZpcm9ubWVudC5cbkFsbCBmaWxlcyB0aGF0IHJlcXVpcmUgZW52aXJvbm1lbnQtZGVwZW5kZW50IEFQSXMgc2hvdWxkIGltcG9ydCB0aGlzIGZpbGUgYnkgZGVmYXVsdC5cbkltcG9ydHMvcmVxdWlyZXMgYXJlIHJlcGxhY2VkIGF0IGJ1aWxkIHRpbWUgd2l0aCBgYnJvd3Nlci9pbmRleC5qc2Agd2hlbiBidWlsZGluZyBhIGJyb3dzZXIgYnVuZGxlLlxuXG5OT1RFOiBleHBvcnRzIGluIHRoaXMgbW9kdWxlIHNob3VsZCBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgbmFtZXMvc3RydWN0dXJlIGFzIGV4cG9ydHMgaW4gYGJyb3dzZXIvaW5kZXguanNgLlxuXG4gKi9cbmV4cG9ydHMuQ2hhbm5lbCA9IG5vZGVfY2hhbm5lbF8xLmRlZmF1bHQ7XG5leHBvcnRzLkhvc3ROYW1lUmVzb2x2ZXIgPSBub2RlX2hvc3RfbmFtZV9yZXNvbHZlcl8xLmRlZmF1bHQ7XG5leHBvcnRzLkNsaWVudENlcnRpZmljYXRlc0xvYWRlciA9IG5vZGVfY2xpZW50X2NlcnRpZmljYXRlc19sb2FkZXJfMS5kZWZhdWx0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js":
/*!************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar net_1 = __importDefault(__webpack_require__(/*! net */ \"net\"));\nvar tls_1 = __importDefault(__webpack_require__(/*! tls */ \"tls\"));\nvar fs_1 = __importDefault(__webpack_require__(/*! fs */ \"fs\"));\nvar channel_buf_1 = __importDefault(__webpack_require__(/*! ../channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.util, ENCRYPTION_OFF = _a.ENCRYPTION_OFF, ENCRYPTION_ON = _a.ENCRYPTION_ON, isEmptyObjectOrNull = _a.isEmptyObjectOrNull;\nvar _CONNECTION_IDGEN = 0;\nvar TrustStrategy = {\n    TRUST_CUSTOM_CA_SIGNED_CERTIFICATES: function (config, onSuccess, onFailure) {\n        if (!config.trustedCertificates ||\n            config.trustedCertificates.length === 0) {\n            onFailure((0, neo4j_driver_core_1.newError)('You are using TRUST_CUSTOM_CA_SIGNED_CERTIFICATES as the method ' +\n                'to verify trust for encrypted  connections, but have not configured any ' +\n                'trustedCertificates. You  must specify the path to at least one trusted ' +\n                'X.509 certificate for this to work. Two other alternatives is to use ' +\n                'TRUST_ALL_CERTIFICATES or to disable encryption by setting encrypted=\"' +\n                ENCRYPTION_OFF +\n                '\"' +\n                'in your driver configuration.'));\n            return;\n        }\n        var tlsOpts = newTlsOptions(config.address.host(), config.trustedCertificates.map(function (f) { return fs_1.default.readFileSync(f); }), config.clientCertificate);\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            if (!socket.authorized) {\n                onFailure((0, neo4j_driver_core_1.newError)('Server certificate is not trusted. If you trust the database you are connecting to, add' +\n                    ' the signing certificate, or the server certificate, to the list of certificates trusted by this driver' +\n                    \" using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This \" +\n                    ' is a security measure to protect against man-in-the-middle attacks. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"`' +\n                    ' in the driver options. Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    },\n    TRUST_SYSTEM_CA_SIGNED_CERTIFICATES: function (config, onSuccess, onFailure) {\n        var tlsOpts = newTlsOptions(config.address.host(), undefined, config.clientCertificate);\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            if (!socket.authorized) {\n                onFailure((0, neo4j_driver_core_1.newError)('Server certificate is not trusted. If you trust the database you are connecting to, use ' +\n                    'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES and add' +\n                    ' the signing certificate, or the server certificate, to the list of certificates trusted by this driver' +\n                    \" using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This \" +\n                    ' is a security measure to protect against man-in-the-middle attacks. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"`' +\n                    ' in the driver options. Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    },\n    TRUST_ALL_CERTIFICATES: function (config, onSuccess, onFailure) {\n        var tlsOpts = newTlsOptions(config.address.host(), undefined, config.clientCertificate);\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            var certificate = socket.getPeerCertificate();\n            if (isEmptyObjectOrNull(certificate)) {\n                onFailure((0, neo4j_driver_core_1.newError)('Secure connection was successful but server did not return any valid ' +\n                    'certificates. Such connection can not be trusted. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using ' +\n                    '`encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"` in the driver options. ' +\n                    'Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    }\n};\n/**\n * Connect using node socket.\n * @param {ChannelConfig} config - configuration of this channel.\n * @param {function} onSuccess - callback to execute on connection success.\n * @param {function} onFailure - callback to execute on connection failure.\n * @return {*} socket connection.\n */\nfunction _connect(config, onSuccess, onFailure) {\n    if (onFailure === void 0) { onFailure = function () { return null; }; }\n    var trustStrategy = trustStrategyName(config);\n    if (!isEncrypted(config)) {\n        var socket = net_1.default.connect(config.address.port(), config.address.resolvedHost(), onSuccess);\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    }\n    else if (TrustStrategy[trustStrategy]) {\n        return TrustStrategy[trustStrategy](config, onSuccess, onFailure);\n    }\n    else {\n        onFailure((0, neo4j_driver_core_1.newError)('Unknown trust strategy: ' +\n            config.trust +\n            '. Please use either ' +\n            \"trust:'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES' or trust:'TRUST_ALL_CERTIFICATES' in your driver \" +\n            'configuration. Alternatively, you can disable encryption by setting ' +\n            '`encrypted:\"' +\n            ENCRYPTION_OFF +\n            '\"`. There is no mechanism to use encryption without trust verification, ' +\n            'because this incurs the overhead of encryption without improving security. If ' +\n            'the driver does not verify that the peer it is connected to is really Neo4j, it ' +\n            'is very easy for an attacker to bypass the encryption by pretending to be Neo4j.'));\n    }\n}\nfunction isEncrypted(config) {\n    var encryptionNotConfigured = config.encrypted == null || config.encrypted === undefined;\n    if (encryptionNotConfigured) {\n        // default to using encryption if trust-all-certificates is available\n        return false;\n    }\n    return config.encrypted === true || config.encrypted === ENCRYPTION_ON;\n}\nfunction trustStrategyName(config) {\n    if (config.trust) {\n        return config.trust;\n    }\n    return 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES';\n}\n/**\n * Create a new configuration options object for the {@code tls.connect()} call.\n * @param {string} hostname the target hostname.\n * @param {string|undefined} ca an optional CA.\n * @param {string|undefined} cert an optional client cert.\n * @param {string|undefined} key an optional client cert key.\n * @param {string|undefined} passphrase an optional client cert passphrase\n * @return {Object} a new options object.\n */\nfunction newTlsOptions(hostname, ca, clientCertificate) {\n    if (ca === void 0) { ca = undefined; }\n    if (clientCertificate === void 0) { clientCertificate = undefined; }\n    return __assign({ rejectUnauthorized: false, servername: hostname, // server name for the SNI (Server Name Indication) TLS extension\n        ca: ca }, clientCertificate);\n}\n/**\n * Update socket options for the newly created socket. Accepts either `net.Socket` or its subclass `tls.TLSSocket`.\n * @param {net.Socket} socket the socket to configure.\n * @return {net.Socket} the given socket.\n */\nfunction configureSocket(socket) {\n    socket.setKeepAlive(true);\n    return socket;\n}\n/**\n * In a Node.js environment the 'net' module is used\n * as transport.\n * @access private\n */\nvar NodeChannel = /** @class */ (function () {\n    /**\n     * Create new instance\n     * @param {ChannelConfig} config - configuration for this channel.\n     */\n    function NodeChannel(config, connect) {\n        if (connect === void 0) { connect = _connect; }\n        var self = this;\n        this.id = _CONNECTION_IDGEN++;\n        this._pending = [];\n        this._open = true;\n        this._error = null;\n        this._handleConnectionError = this._handleConnectionError.bind(this);\n        this._handleConnectionTerminated = this._handleConnectionTerminated.bind(this);\n        this._connectionErrorCode = config.connectionErrorCode;\n        this._receiveTimeout = null;\n        this._receiveTimeoutStarted = false;\n        this._conn = connect(config, function () {\n            if (!self._open) {\n                return;\n            }\n            self._conn.on('data', function (buffer) {\n                if (self.onmessage) {\n                    self.onmessage(new channel_buf_1.default(buffer));\n                }\n            });\n            self._conn.on('error', self._handleConnectionError);\n            self._conn.on('end', self._handleConnectionTerminated);\n            // Drain all pending messages\n            var pending = self._pending;\n            self._pending = null;\n            for (var i = 0; i < pending.length; i++) {\n                self.write(pending[i]);\n            }\n        }, this._handleConnectionError);\n        this._setupConnectionTimeout(config, this._conn);\n    }\n    NodeChannel.prototype._handleConnectionError = function (err) {\n        var msg = 'Failed to connect to server. ' +\n            'Please ensure that your database is listening on the correct host and port ' +\n            'and that you have compatible encryption settings both on Neo4j server and driver. ' +\n            'Note that the default encryption setting has changed in Neo4j 4.0.';\n        if (err.message)\n            msg += ' Caused by: ' + err.message;\n        this._error = (0, neo4j_driver_core_1.newError)(msg, this._connectionErrorCode);\n        if (this.onerror) {\n            this.onerror(this._error);\n        }\n    };\n    NodeChannel.prototype._handleConnectionTerminated = function () {\n        this._open = false;\n        this._error = (0, neo4j_driver_core_1.newError)('Connection was closed by server', this._connectionErrorCode);\n        if (this.onerror) {\n            this.onerror(this._error);\n        }\n    };\n    /**\n     * Setup connection timeout on the socket, if configured.\n     * @param {ChannelConfig} config - configuration of this channel.\n     * @param {Object} socket - `net.Socket` or `tls.TLSSocket` object.\n     * @private\n     */\n    NodeChannel.prototype._setupConnectionTimeout = function (config, socket) {\n        var _this = this;\n        var timeout = config.connectionTimeout;\n        if (timeout) {\n            var connectListener_1 = function () {\n                // connected - clear connection timeout\n                socket.setTimeout(0);\n            };\n            var timeoutListener_1 = function () {\n                // timeout fired - not connected within configured time. cancel timeout and destroy socket\n                socket.setTimeout(0);\n                socket.destroy((0, neo4j_driver_core_1.newError)(\"Failed to establish connection in \".concat(timeout, \"ms\"), config.connectionErrorCode));\n            };\n            socket.on('connect', connectListener_1);\n            socket.on('timeout', timeoutListener_1);\n            this._removeConnectionTimeoutListeners = function () {\n                _this._conn.off('connect', connectListener_1);\n                _this._conn.off('timeout', timeoutListener_1);\n            };\n            socket.setTimeout(timeout);\n        }\n    };\n    /**\n     * Setup the receive timeout for the channel.\n     *\n     * @param {number} receiveTimeout How long the channel will wait for receiving data before timing out (ms)\n     * @returns {void}\n     */\n    NodeChannel.prototype.setupReceiveTimeout = function (receiveTimeout) {\n        var _this = this;\n        if (this._removeConnectionTimeoutListeners) {\n            this._removeConnectionTimeoutListeners();\n        }\n        this._conn.on('timeout', function () {\n            _this._conn.destroy((0, neo4j_driver_core_1.newError)(\"Connection lost. Server didn't respond in \".concat(receiveTimeout, \"ms\"), _this._connectionErrorCode));\n        });\n        this._receiveTimeout = receiveTimeout;\n    };\n    /**\n     * Stops the receive timeout for the channel.\n     */\n    NodeChannel.prototype.stopReceiveTimeout = function () {\n        if (this._receiveTimeout !== null && this._receiveTimeoutStarted) {\n            this._receiveTimeoutStarted = false;\n            this._conn.setTimeout(0);\n        }\n    };\n    /**\n     * Start the receive timeout for the channel.\n     */\n    NodeChannel.prototype.startReceiveTimeout = function () {\n        if (this._receiveTimeout !== null && !this._receiveTimeoutStarted) {\n            this._receiveTimeoutStarted = true;\n            this._conn.setTimeout(this._receiveTimeout);\n        }\n    };\n    /**\n     * Write the passed in buffer to connection\n     * @param {ChannelBuffer} buffer - Buffer to write\n     */\n    NodeChannel.prototype.write = function (buffer) {\n        // If there is a pending queue, push this on that queue. This means\n        // we are not yet connected, so we queue things locally.\n        if (this._pending !== null) {\n            this._pending.push(buffer);\n        }\n        else if (buffer instanceof channel_buf_1.default) {\n            this._conn.write(buffer._buffer);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)(\"Don't know how to write: \" + buffer);\n        }\n    };\n    /**\n     * Close the connection\n     * @returns {Promise} A promise that will be resolved after channel is closed\n     */\n    NodeChannel.prototype.close = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var cleanup = function () {\n                if (!_this._conn.destroyed) {\n                    _this._conn.destroy();\n                }\n                resolve();\n            };\n            if (_this._open) {\n                _this._open = false;\n                _this._conn.removeListener('end', _this._handleConnectionTerminated);\n                _this._conn.on('end', function () { return cleanup(); });\n                _this._conn.on('close', function () { return cleanup(); });\n                _this._conn.end();\n                _this._conn.destroy();\n            }\n            else {\n                cleanup();\n            }\n        });\n    };\n    return NodeChannel;\n}());\nexports[\"default\"] = NodeChannel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL25vZGUtY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQyxnQkFBSztBQUN6Qyw0QkFBNEIsbUJBQU8sQ0FBQyxnQkFBSztBQUN6QywyQkFBMkIsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZDLG9DQUFvQyxtQkFBTyxDQUFDLG9HQUFnQjtBQUM1RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsc0NBQXNDO0FBQy9JO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGdEQUFnRDtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGdEQUFnRDtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsWUFBWSxHQUFHO0FBQ2Y7QUFDQTtBQUNBLGdDQUFnQywwQkFBMEI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxxQkFBcUI7QUFDM0UsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsa0JBQWtCO0FBQzdCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHdDQUF3QztBQUN4QyxzQkFBc0I7QUFDdEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvQkFBb0I7QUFDaEQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxtQkFBbUI7QUFDdkUsc0RBQXNELG1CQUFtQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvbm9kZS9ub2RlLWNoYW5uZWwuanM/OTBmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIG5ldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJuZXRcIikpO1xudmFyIHRsc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ0bHNcIikpO1xudmFyIGZzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImZzXCIpKTtcbnZhciBjaGFubmVsX2J1Zl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9jaGFubmVsLWJ1ZlwiKSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwudXRpbCwgRU5DUllQVElPTl9PRkYgPSBfYS5FTkNSWVBUSU9OX09GRiwgRU5DUllQVElPTl9PTiA9IF9hLkVOQ1JZUFRJT05fT04sIGlzRW1wdHlPYmplY3RPck51bGwgPSBfYS5pc0VtcHR5T2JqZWN0T3JOdWxsO1xudmFyIF9DT05ORUNUSU9OX0lER0VOID0gMDtcbnZhciBUcnVzdFN0cmF0ZWd5ID0ge1xuICAgIFRSVVNUX0NVU1RPTV9DQV9TSUdORURfQ0VSVElGSUNBVEVTOiBmdW5jdGlvbiAoY29uZmlnLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICAgICAgICBpZiAoIWNvbmZpZy50cnVzdGVkQ2VydGlmaWNhdGVzIHx8XG4gICAgICAgICAgICBjb25maWcudHJ1c3RlZENlcnRpZmljYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG9uRmFpbHVyZSgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1lvdSBhcmUgdXNpbmcgVFJVU1RfQ1VTVE9NX0NBX1NJR05FRF9DRVJUSUZJQ0FURVMgYXMgdGhlIG1ldGhvZCAnICtcbiAgICAgICAgICAgICAgICAndG8gdmVyaWZ5IHRydXN0IGZvciBlbmNyeXB0ZWQgIGNvbm5lY3Rpb25zLCBidXQgaGF2ZSBub3QgY29uZmlndXJlZCBhbnkgJyArXG4gICAgICAgICAgICAgICAgJ3RydXN0ZWRDZXJ0aWZpY2F0ZXMuIFlvdSAgbXVzdCBzcGVjaWZ5IHRoZSBwYXRoIHRvIGF0IGxlYXN0IG9uZSB0cnVzdGVkICcgK1xuICAgICAgICAgICAgICAgICdYLjUwOSBjZXJ0aWZpY2F0ZSBmb3IgdGhpcyB0byB3b3JrLiBUd28gb3RoZXIgYWx0ZXJuYXRpdmVzIGlzIHRvIHVzZSAnICtcbiAgICAgICAgICAgICAgICAnVFJVU1RfQUxMX0NFUlRJRklDQVRFUyBvciB0byBkaXNhYmxlIGVuY3J5cHRpb24gYnkgc2V0dGluZyBlbmNyeXB0ZWQ9XCInICtcbiAgICAgICAgICAgICAgICBFTkNSWVBUSU9OX09GRiArXG4gICAgICAgICAgICAgICAgJ1wiJyArXG4gICAgICAgICAgICAgICAgJ2luIHlvdXIgZHJpdmVyIGNvbmZpZ3VyYXRpb24uJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0bHNPcHRzID0gbmV3VGxzT3B0aW9ucyhjb25maWcuYWRkcmVzcy5ob3N0KCksIGNvbmZpZy50cnVzdGVkQ2VydGlmaWNhdGVzLm1hcChmdW5jdGlvbiAoZikgeyByZXR1cm4gZnNfMS5kZWZhdWx0LnJlYWRGaWxlU3luYyhmKTsgfSksIGNvbmZpZy5jbGllbnRDZXJ0aWZpY2F0ZSk7XG4gICAgICAgIHZhciBzb2NrZXQgPSB0bHNfMS5kZWZhdWx0LmNvbm5lY3QoY29uZmlnLmFkZHJlc3MucG9ydCgpLCBjb25maWcuYWRkcmVzcy5yZXNvbHZlZEhvc3QoKSwgdGxzT3B0cywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzb2NrZXQuYXV0aG9yaXplZCkge1xuICAgICAgICAgICAgICAgIG9uRmFpbHVyZSgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1NlcnZlciBjZXJ0aWZpY2F0ZSBpcyBub3QgdHJ1c3RlZC4gSWYgeW91IHRydXN0IHRoZSBkYXRhYmFzZSB5b3UgYXJlIGNvbm5lY3RpbmcgdG8sIGFkZCcgK1xuICAgICAgICAgICAgICAgICAgICAnIHRoZSBzaWduaW5nIGNlcnRpZmljYXRlLCBvciB0aGUgc2VydmVyIGNlcnRpZmljYXRlLCB0byB0aGUgbGlzdCBvZiBjZXJ0aWZpY2F0ZXMgdHJ1c3RlZCBieSB0aGlzIGRyaXZlcicgK1xuICAgICAgICAgICAgICAgICAgICBcIiB1c2luZyBgbmVvNGouZHJpdmVyKC4uLCB7IHRydXN0ZWRDZXJ0aWZpY2F0ZXM6WydwYXRoL3RvL2NlcnRpZmljYXRlLmNydCddfSkuIFRoaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAnIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSB0byBwcm90ZWN0IGFnYWluc3QgbWFuLWluLXRoZS1taWRkbGUgYXR0YWNrcy4gSWYgeW91IGFyZSBqdXN0IHRyeWluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgJyBOZW80aiBvdXQgYW5kIGFyZSBub3QgY29uY2VybmVkIGFib3V0IGVuY3J5cHRpb24sIHNpbXBseSBkaXNhYmxlIGl0IHVzaW5nIGBlbmNyeXB0ZWQ9XCInICtcbiAgICAgICAgICAgICAgICAgICAgRU5DUllQVElPTl9PRkYgK1xuICAgICAgICAgICAgICAgICAgICAnXCJgJyArXG4gICAgICAgICAgICAgICAgICAgICcgaW4gdGhlIGRyaXZlciBvcHRpb25zLiBTb2NrZXQgcmVzcG9uZGVkIHdpdGg6ICcgK1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuYXV0aG9yaXphdGlvbkVycm9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldC5vbignZXJyb3InLCBvbkZhaWx1cmUpO1xuICAgICAgICByZXR1cm4gY29uZmlndXJlU29ja2V0KHNvY2tldCk7XG4gICAgfSxcbiAgICBUUlVTVF9TWVNURU1fQ0FfU0lHTkVEX0NFUlRJRklDQVRFUzogZnVuY3Rpb24gKGNvbmZpZywgb25TdWNjZXNzLCBvbkZhaWx1cmUpIHtcbiAgICAgICAgdmFyIHRsc09wdHMgPSBuZXdUbHNPcHRpb25zKGNvbmZpZy5hZGRyZXNzLmhvc3QoKSwgdW5kZWZpbmVkLCBjb25maWcuY2xpZW50Q2VydGlmaWNhdGUpO1xuICAgICAgICB2YXIgc29ja2V0ID0gdGxzXzEuZGVmYXVsdC5jb25uZWN0KGNvbmZpZy5hZGRyZXNzLnBvcnQoKSwgY29uZmlnLmFkZHJlc3MucmVzb2x2ZWRIb3N0KCksIHRsc09wdHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc29ja2V0LmF1dGhvcml6ZWQpIHtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdTZXJ2ZXIgY2VydGlmaWNhdGUgaXMgbm90IHRydXN0ZWQuIElmIHlvdSB0cnVzdCB0aGUgZGF0YWJhc2UgeW91IGFyZSBjb25uZWN0aW5nIHRvLCB1c2UgJyArXG4gICAgICAgICAgICAgICAgICAgICdUUlVTVF9DVVNUT01fQ0FfU0lHTkVEX0NFUlRJRklDQVRFUyBhbmQgYWRkJyArXG4gICAgICAgICAgICAgICAgICAgICcgdGhlIHNpZ25pbmcgY2VydGlmaWNhdGUsIG9yIHRoZSBzZXJ2ZXIgY2VydGlmaWNhdGUsIHRvIHRoZSBsaXN0IG9mIGNlcnRpZmljYXRlcyB0cnVzdGVkIGJ5IHRoaXMgZHJpdmVyJyArXG4gICAgICAgICAgICAgICAgICAgIFwiIHVzaW5nIGBuZW80ai5kcml2ZXIoLi4sIHsgdHJ1c3RlZENlcnRpZmljYXRlczpbJ3BhdGgvdG8vY2VydGlmaWNhdGUuY3J0J119KS4gVGhpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgICcgaXMgYSBzZWN1cml0eSBtZWFzdXJlIHRvIHByb3RlY3QgYWdhaW5zdCBtYW4taW4tdGhlLW1pZGRsZSBhdHRhY2tzLiBJZiB5b3UgYXJlIGp1c3QgdHJ5aW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAnIE5lbzRqIG91dCBhbmQgYXJlIG5vdCBjb25jZXJuZWQgYWJvdXQgZW5jcnlwdGlvbiwgc2ltcGx5IGRpc2FibGUgaXQgdXNpbmcgYGVuY3J5cHRlZD1cIicgK1xuICAgICAgICAgICAgICAgICAgICBFTkNSWVBUSU9OX09GRiArXG4gICAgICAgICAgICAgICAgICAgICdcImAnICtcbiAgICAgICAgICAgICAgICAgICAgJyBpbiB0aGUgZHJpdmVyIG9wdGlvbnMuIFNvY2tldCByZXNwb25kZWQgd2l0aDogJyArXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5hdXRob3JpemF0aW9uRXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIG9uRmFpbHVyZSk7XG4gICAgICAgIHJldHVybiBjb25maWd1cmVTb2NrZXQoc29ja2V0KTtcbiAgICB9LFxuICAgIFRSVVNUX0FMTF9DRVJUSUZJQ0FURVM6IGZ1bmN0aW9uIChjb25maWcsIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gICAgICAgIHZhciB0bHNPcHRzID0gbmV3VGxzT3B0aW9ucyhjb25maWcuYWRkcmVzcy5ob3N0KCksIHVuZGVmaW5lZCwgY29uZmlnLmNsaWVudENlcnRpZmljYXRlKTtcbiAgICAgICAgdmFyIHNvY2tldCA9IHRsc18xLmRlZmF1bHQuY29ubmVjdChjb25maWcuYWRkcmVzcy5wb3J0KCksIGNvbmZpZy5hZGRyZXNzLnJlc29sdmVkSG9zdCgpLCB0bHNPcHRzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2VydGlmaWNhdGUgPSBzb2NrZXQuZ2V0UGVlckNlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eU9iamVjdE9yTnVsbChjZXJ0aWZpY2F0ZSkpIHtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdTZWN1cmUgY29ubmVjdGlvbiB3YXMgc3VjY2Vzc2Z1bCBidXQgc2VydmVyIGRpZCBub3QgcmV0dXJuIGFueSB2YWxpZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NlcnRpZmljYXRlcy4gU3VjaCBjb25uZWN0aW9uIGNhbiBub3QgYmUgdHJ1c3RlZC4gSWYgeW91IGFyZSBqdXN0IHRyeWluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgJyBOZW80aiBvdXQgYW5kIGFyZSBub3QgY29uY2VybmVkIGFib3V0IGVuY3J5cHRpb24sIHNpbXBseSBkaXNhYmxlIGl0IHVzaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAnYGVuY3J5cHRlZD1cIicgK1xuICAgICAgICAgICAgICAgICAgICBFTkNSWVBUSU9OX09GRiArXG4gICAgICAgICAgICAgICAgICAgICdcImAgaW4gdGhlIGRyaXZlciBvcHRpb25zLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1NvY2tldCByZXNwb25kZWQgd2l0aDogJyArXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5hdXRob3JpemF0aW9uRXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIG9uRmFpbHVyZSk7XG4gICAgICAgIHJldHVybiBjb25maWd1cmVTb2NrZXQoc29ja2V0KTtcbiAgICB9XG59O1xuLyoqXG4gKiBDb25uZWN0IHVzaW5nIG5vZGUgc29ja2V0LlxuICogQHBhcmFtIHtDaGFubmVsQ29uZmlnfSBjb25maWcgLSBjb25maWd1cmF0aW9uIG9mIHRoaXMgY2hhbm5lbC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGV4ZWN1dGUgb24gY29ubmVjdGlvbiBzdWNjZXNzLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gZXhlY3V0ZSBvbiBjb25uZWN0aW9uIGZhaWx1cmUuXG4gKiBAcmV0dXJuIHsqfSBzb2NrZXQgY29ubmVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gX2Nvbm5lY3QoY29uZmlnLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICAgIGlmIChvbkZhaWx1cmUgPT09IHZvaWQgMCkgeyBvbkZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9OyB9XG4gICAgdmFyIHRydXN0U3RyYXRlZ3kgPSB0cnVzdFN0cmF0ZWd5TmFtZShjb25maWcpO1xuICAgIGlmICghaXNFbmNyeXB0ZWQoY29uZmlnKSkge1xuICAgICAgICB2YXIgc29ja2V0ID0gbmV0XzEuZGVmYXVsdC5jb25uZWN0KGNvbmZpZy5hZGRyZXNzLnBvcnQoKSwgY29uZmlnLmFkZHJlc3MucmVzb2x2ZWRIb3N0KCksIG9uU3VjY2Vzcyk7XG4gICAgICAgIHNvY2tldC5vbignZXJyb3InLCBvbkZhaWx1cmUpO1xuICAgICAgICByZXR1cm4gY29uZmlndXJlU29ja2V0KHNvY2tldCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFRydXN0U3RyYXRlZ3lbdHJ1c3RTdHJhdGVneV0pIHtcbiAgICAgICAgcmV0dXJuIFRydXN0U3RyYXRlZ3lbdHJ1c3RTdHJhdGVneV0oY29uZmlnLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvbkZhaWx1cmUoKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdVbmtub3duIHRydXN0IHN0cmF0ZWd5OiAnICtcbiAgICAgICAgICAgIGNvbmZpZy50cnVzdCArXG4gICAgICAgICAgICAnLiBQbGVhc2UgdXNlIGVpdGhlciAnICtcbiAgICAgICAgICAgIFwidHJ1c3Q6J1RSVVNUX0NVU1RPTV9DQV9TSUdORURfQ0VSVElGSUNBVEVTJyBvciB0cnVzdDonVFJVU1RfQUxMX0NFUlRJRklDQVRFUycgaW4geW91ciBkcml2ZXIgXCIgK1xuICAgICAgICAgICAgJ2NvbmZpZ3VyYXRpb24uIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gZGlzYWJsZSBlbmNyeXB0aW9uIGJ5IHNldHRpbmcgJyArXG4gICAgICAgICAgICAnYGVuY3J5cHRlZDpcIicgK1xuICAgICAgICAgICAgRU5DUllQVElPTl9PRkYgK1xuICAgICAgICAgICAgJ1wiYC4gVGhlcmUgaXMgbm8gbWVjaGFuaXNtIHRvIHVzZSBlbmNyeXB0aW9uIHdpdGhvdXQgdHJ1c3QgdmVyaWZpY2F0aW9uLCAnICtcbiAgICAgICAgICAgICdiZWNhdXNlIHRoaXMgaW5jdXJzIHRoZSBvdmVyaGVhZCBvZiBlbmNyeXB0aW9uIHdpdGhvdXQgaW1wcm92aW5nIHNlY3VyaXR5LiBJZiAnICtcbiAgICAgICAgICAgICd0aGUgZHJpdmVyIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBwZWVyIGl0IGlzIGNvbm5lY3RlZCB0byBpcyByZWFsbHkgTmVvNGosIGl0ICcgK1xuICAgICAgICAgICAgJ2lzIHZlcnkgZWFzeSBmb3IgYW4gYXR0YWNrZXIgdG8gYnlwYXNzIHRoZSBlbmNyeXB0aW9uIGJ5IHByZXRlbmRpbmcgdG8gYmUgTmVvNGouJykpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRW5jcnlwdGVkKGNvbmZpZykge1xuICAgIHZhciBlbmNyeXB0aW9uTm90Q29uZmlndXJlZCA9IGNvbmZpZy5lbmNyeXB0ZWQgPT0gbnVsbCB8fCBjb25maWcuZW5jcnlwdGVkID09PSB1bmRlZmluZWQ7XG4gICAgaWYgKGVuY3J5cHRpb25Ob3RDb25maWd1cmVkKSB7XG4gICAgICAgIC8vIGRlZmF1bHQgdG8gdXNpbmcgZW5jcnlwdGlvbiBpZiB0cnVzdC1hbGwtY2VydGlmaWNhdGVzIGlzIGF2YWlsYWJsZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBjb25maWcuZW5jcnlwdGVkID09PSB0cnVlIHx8IGNvbmZpZy5lbmNyeXB0ZWQgPT09IEVOQ1JZUFRJT05fT047XG59XG5mdW5jdGlvbiB0cnVzdFN0cmF0ZWd5TmFtZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLnRydXN0KSB7XG4gICAgICAgIHJldHVybiBjb25maWcudHJ1c3Q7XG4gICAgfVxuICAgIHJldHVybiAnVFJVU1RfU1lTVEVNX0NBX1NJR05FRF9DRVJUSUZJQ0FURVMnO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29uZmlndXJhdGlvbiBvcHRpb25zIG9iamVjdCBmb3IgdGhlIHtAY29kZSB0bHMuY29ubmVjdCgpfSBjYWxsLlxuICogQHBhcmFtIHtzdHJpbmd9IGhvc3RuYW1lIHRoZSB0YXJnZXQgaG9zdG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGNhIGFuIG9wdGlvbmFsIENBLlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBjZXJ0IGFuIG9wdGlvbmFsIGNsaWVudCBjZXJ0LlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBrZXkgYW4gb3B0aW9uYWwgY2xpZW50IGNlcnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBwYXNzcGhyYXNlIGFuIG9wdGlvbmFsIGNsaWVudCBjZXJ0IHBhc3NwaHJhc2VcbiAqIEByZXR1cm4ge09iamVjdH0gYSBuZXcgb3B0aW9ucyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIG5ld1Rsc09wdGlvbnMoaG9zdG5hbWUsIGNhLCBjbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgIGlmIChjYSA9PT0gdm9pZCAwKSB7IGNhID0gdW5kZWZpbmVkOyB9XG4gICAgaWYgKGNsaWVudENlcnRpZmljYXRlID09PSB2b2lkIDApIHsgY2xpZW50Q2VydGlmaWNhdGUgPSB1bmRlZmluZWQ7IH1cbiAgICByZXR1cm4gX19hc3NpZ24oeyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLCBzZXJ2ZXJuYW1lOiBob3N0bmFtZSwgLy8gc2VydmVyIG5hbWUgZm9yIHRoZSBTTkkgKFNlcnZlciBOYW1lIEluZGljYXRpb24pIFRMUyBleHRlbnNpb25cbiAgICAgICAgY2E6IGNhIH0sIGNsaWVudENlcnRpZmljYXRlKTtcbn1cbi8qKlxuICogVXBkYXRlIHNvY2tldCBvcHRpb25zIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBzb2NrZXQuIEFjY2VwdHMgZWl0aGVyIGBuZXQuU29ja2V0YCBvciBpdHMgc3ViY2xhc3MgYHRscy5UTFNTb2NrZXRgLlxuICogQHBhcmFtIHtuZXQuU29ja2V0fSBzb2NrZXQgdGhlIHNvY2tldCB0byBjb25maWd1cmUuXG4gKiBAcmV0dXJuIHtuZXQuU29ja2V0fSB0aGUgZ2l2ZW4gc29ja2V0LlxuICovXG5mdW5jdGlvbiBjb25maWd1cmVTb2NrZXQoc29ja2V0KSB7XG4gICAgc29ja2V0LnNldEtlZXBBbGl2ZSh0cnVlKTtcbiAgICByZXR1cm4gc29ja2V0O1xufVxuLyoqXG4gKiBJbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgdGhlICduZXQnIG1vZHVsZSBpcyB1c2VkXG4gKiBhcyB0cmFuc3BvcnQuXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqL1xudmFyIE5vZGVDaGFubmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBuZXcgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxDb25maWd9IGNvbmZpZyAtIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgY2hhbm5lbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2RlQ2hhbm5lbChjb25maWcsIGNvbm5lY3QpIHtcbiAgICAgICAgaWYgKGNvbm5lY3QgPT09IHZvaWQgMCkgeyBjb25uZWN0ID0gX2Nvbm5lY3Q7IH1cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmlkID0gX0NPTk5FQ1RJT05fSURHRU4rKztcbiAgICAgICAgdGhpcy5fcGVuZGluZyA9IFtdO1xuICAgICAgICB0aGlzLl9vcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9oYW5kbGVDb25uZWN0aW9uRXJyb3IgPSB0aGlzLl9oYW5kbGVDb25uZWN0aW9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ29ubmVjdGlvblRlcm1pbmF0ZWQgPSB0aGlzLl9oYW5kbGVDb25uZWN0aW9uVGVybWluYXRlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uRXJyb3JDb2RlID0gY29uZmlnLmNvbm5lY3Rpb25FcnJvckNvZGU7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZVRpbWVvdXRTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Nvbm4gPSBjb25uZWN0KGNvbmZpZywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzZWxmLl9vcGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5fY29ubi5vbignZGF0YScsIGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vbm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbm1lc3NhZ2UobmV3IGNoYW5uZWxfYnVmXzEuZGVmYXVsdChidWZmZXIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbGYuX2Nvbm4ub24oJ2Vycm9yJywgc2VsZi5faGFuZGxlQ29ubmVjdGlvbkVycm9yKTtcbiAgICAgICAgICAgIHNlbGYuX2Nvbm4ub24oJ2VuZCcsIHNlbGYuX2hhbmRsZUNvbm5lY3Rpb25UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgIC8vIERyYWluIGFsbCBwZW5kaW5nIG1lc3NhZ2VzXG4gICAgICAgICAgICB2YXIgcGVuZGluZyA9IHNlbGYuX3BlbmRpbmc7XG4gICAgICAgICAgICBzZWxmLl9wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGVuZGluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHNlbGYud3JpdGUocGVuZGluZ1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuX2hhbmRsZUNvbm5lY3Rpb25FcnJvcik7XG4gICAgICAgIHRoaXMuX3NldHVwQ29ubmVjdGlvblRpbWVvdXQoY29uZmlnLCB0aGlzLl9jb25uKTtcbiAgICB9XG4gICAgTm9kZUNoYW5uZWwucHJvdG90eXBlLl9oYW5kbGVDb25uZWN0aW9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBtc2cgPSAnRmFpbGVkIHRvIGNvbm5lY3QgdG8gc2VydmVyLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgZW5zdXJlIHRoYXQgeW91ciBkYXRhYmFzZSBpcyBsaXN0ZW5pbmcgb24gdGhlIGNvcnJlY3QgaG9zdCBhbmQgcG9ydCAnICtcbiAgICAgICAgICAgICdhbmQgdGhhdCB5b3UgaGF2ZSBjb21wYXRpYmxlIGVuY3J5cHRpb24gc2V0dGluZ3MgYm90aCBvbiBOZW80aiBzZXJ2ZXIgYW5kIGRyaXZlci4gJyArXG4gICAgICAgICAgICAnTm90ZSB0aGF0IHRoZSBkZWZhdWx0IGVuY3J5cHRpb24gc2V0dGluZyBoYXMgY2hhbmdlZCBpbiBOZW80aiA0LjAuJztcbiAgICAgICAgaWYgKGVyci5tZXNzYWdlKVxuICAgICAgICAgICAgbXNnICs9ICcgQ2F1c2VkIGJ5OiAnICsgZXJyLm1lc3NhZ2U7XG4gICAgICAgIHRoaXMuX2Vycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKG1zZywgdGhpcy5fY29ubmVjdGlvbkVycm9yQ29kZSk7XG4gICAgICAgIGlmICh0aGlzLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMub25lcnJvcih0aGlzLl9lcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vZGVDaGFubmVsLnByb3RvdHlwZS5faGFuZGxlQ29ubmVjdGlvblRlcm1pbmF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX29wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZXJyb3IgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0Nvbm5lY3Rpb24gd2FzIGNsb3NlZCBieSBzZXJ2ZXInLCB0aGlzLl9jb25uZWN0aW9uRXJyb3JDb2RlKTtcbiAgICAgICAgaWYgKHRoaXMub25lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yKHRoaXMuX2Vycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgY29ubmVjdGlvbiB0aW1lb3V0IG9uIHRoZSBzb2NrZXQsIGlmIGNvbmZpZ3VyZWQuXG4gICAgICogQHBhcmFtIHtDaGFubmVsQ29uZmlnfSBjb25maWcgLSBjb25maWd1cmF0aW9uIG9mIHRoaXMgY2hhbm5lbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc29ja2V0IC0gYG5ldC5Tb2NrZXRgIG9yIGB0bHMuVExTU29ja2V0YCBvYmplY3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUuX3NldHVwQ29ubmVjdGlvblRpbWVvdXQgPSBmdW5jdGlvbiAoY29uZmlnLCBzb2NrZXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRpbWVvdXQgPSBjb25maWcuY29ubmVjdGlvblRpbWVvdXQ7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICB2YXIgY29ubmVjdExpc3RlbmVyXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gY29ubmVjdGVkIC0gY2xlYXIgY29ubmVjdGlvbiB0aW1lb3V0XG4gICAgICAgICAgICAgICAgc29ja2V0LnNldFRpbWVvdXQoMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHRpbWVvdXRMaXN0ZW5lcl8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIHRpbWVvdXQgZmlyZWQgLSBub3QgY29ubmVjdGVkIHdpdGhpbiBjb25maWd1cmVkIHRpbWUuIGNhbmNlbCB0aW1lb3V0IGFuZCBkZXN0cm95IHNvY2tldFxuICAgICAgICAgICAgICAgIHNvY2tldC5zZXRUaW1lb3V0KDApO1xuICAgICAgICAgICAgICAgIHNvY2tldC5kZXN0cm95KCgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIkZhaWxlZCB0byBlc3RhYmxpc2ggY29ubmVjdGlvbiBpbiBcIi5jb25jYXQodGltZW91dCwgXCJtc1wiKSwgY29uZmlnLmNvbm5lY3Rpb25FcnJvckNvZGUpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb2NrZXQub24oJ2Nvbm5lY3QnLCBjb25uZWN0TGlzdGVuZXJfMSk7XG4gICAgICAgICAgICBzb2NrZXQub24oJ3RpbWVvdXQnLCB0aW1lb3V0TGlzdGVuZXJfMSk7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVDb25uZWN0aW9uVGltZW91dExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5vZmYoJ2Nvbm5lY3QnLCBjb25uZWN0TGlzdGVuZXJfMSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2Nvbm4ub2ZmKCd0aW1lb3V0JywgdGltZW91dExpc3RlbmVyXzEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvY2tldC5zZXRUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCB0aGUgcmVjZWl2ZSB0aW1lb3V0IGZvciB0aGUgY2hhbm5lbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWNlaXZlVGltZW91dCBIb3cgbG9uZyB0aGUgY2hhbm5lbCB3aWxsIHdhaXQgZm9yIHJlY2VpdmluZyBkYXRhIGJlZm9yZSB0aW1pbmcgb3V0IChtcylcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUuc2V0dXBSZWNlaXZlVGltZW91dCA9IGZ1bmN0aW9uIChyZWNlaXZlVGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlQ29ubmVjdGlvblRpbWVvdXRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUNvbm5lY3Rpb25UaW1lb3V0TGlzdGVuZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29ubi5vbigndGltZW91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl9jb25uLmRlc3Ryb3koKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiQ29ubmVjdGlvbiBsb3N0LiBTZXJ2ZXIgZGlkbid0IHJlc3BvbmQgaW4gXCIuY29uY2F0KHJlY2VpdmVUaW1lb3V0LCBcIm1zXCIpLCBfdGhpcy5fY29ubmVjdGlvbkVycm9yQ29kZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZVRpbWVvdXQgPSByZWNlaXZlVGltZW91dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSByZWNlaXZlIHRpbWVvdXQgZm9yIHRoZSBjaGFubmVsLlxuICAgICAqL1xuICAgIE5vZGVDaGFubmVsLnByb3RvdHlwZS5zdG9wUmVjZWl2ZVRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNlaXZlVGltZW91dCAhPT0gbnVsbCAmJiB0aGlzLl9yZWNlaXZlVGltZW91dFN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVUaW1lb3V0U3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY29ubi5zZXRUaW1lb3V0KDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgcmVjZWl2ZSB0aW1lb3V0IGZvciB0aGUgY2hhbm5lbC5cbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUuc3RhcnRSZWNlaXZlVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY2VpdmVUaW1lb3V0ICE9PSBudWxsICYmICF0aGlzLl9yZWNlaXZlVGltZW91dFN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVUaW1lb3V0U3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb25uLnNldFRpbWVvdXQodGhpcy5fcmVjZWl2ZVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcml0ZSB0aGUgcGFzc2VkIGluIGJ1ZmZlciB0byBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsQnVmZmVyfSBidWZmZXIgLSBCdWZmZXIgdG8gd3JpdGVcbiAgICAgKi9cbiAgICBOb2RlQ2hhbm5lbC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcGVuZGluZyBxdWV1ZSwgcHVzaCB0aGlzIG9uIHRoYXQgcXVldWUuIFRoaXMgbWVhbnNcbiAgICAgICAgLy8gd2UgYXJlIG5vdCB5ZXQgY29ubmVjdGVkLCBzbyB3ZSBxdWV1ZSB0aGluZ3MgbG9jYWxseS5cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmcucHVzaChidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIGNoYW5uZWxfYnVmXzEuZGVmYXVsdCkge1xuICAgICAgICAgICAgdGhpcy5fY29ubi53cml0ZShidWZmZXIuX2J1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJEb24ndCBrbm93IGhvdyB0byB3cml0ZTogXCIgKyBidWZmZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29ubmVjdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGNoYW5uZWwgaXMgY2xvc2VkXG4gICAgICovXG4gICAgTm9kZUNoYW5uZWwucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fY29ubi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2Nvbm4uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKF90aGlzLl9vcGVuKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5yZW1vdmVMaXN0ZW5lcignZW5kJywgX3RoaXMuX2hhbmRsZUNvbm5lY3Rpb25UZXJtaW5hdGVkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5vbignZW5kJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xlYW51cCgpOyB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29ubi5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGVhbnVwKCk7IH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLl9jb25uLmVuZCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9jb25uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZUNoYW5uZWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTm9kZUNoYW5uZWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar fs_1 = __importDefault(__webpack_require__(/*! fs */ \"fs\"));\nfunction readFile(file) {\n    return new Promise(function (resolve, reject) { return fs_1.default.readFile(file, function (err, data) {\n        if (err) {\n            return reject(err);\n        }\n        return resolve(data);\n    }); });\n}\nfunction loadCert(fileOrFiles) {\n    if (Array.isArray(fileOrFiles)) {\n        return Promise.all(fileOrFiles.map(loadCert));\n    }\n    return readFile(fileOrFiles);\n}\nfunction loadKey(fileOrFiles) {\n    if (Array.isArray(fileOrFiles)) {\n        return Promise.all(fileOrFiles.map(loadKey));\n    }\n    if (typeof fileOrFiles === 'string') {\n        return readFile(fileOrFiles);\n    }\n    return readFile(fileOrFiles.path)\n        .then(function (pem) { return ({\n        pem: pem,\n        passphrase: fileOrFiles.password\n    }); });\n}\nexports[\"default\"] = {\n    load: function (clientCertificate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var certPromise, keyPromise, _a, cert, key;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        certPromise = loadCert(clientCertificate.certfile);\n                        keyPromise = loadKey(clientCertificate.keyfile);\n                        return [4 /*yield*/, Promise.all([certPromise, keyPromise])];\n                    case 1:\n                        _a = __read.apply(void 0, [_b.sent(), 2]), cert = _a[0], key = _a[1];\n                        return [2 /*return*/, {\n                                cert: cert,\n                                key: key,\n                                passphrase: clientCertificate.password\n                            }];\n                }\n            });\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL25vZGUtY2xpZW50LWNlcnRpZmljYXRlcy1sb2FkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQixtQkFBTyxDQUFDLGNBQUk7QUFDdkM7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jaGFubmVsL25vZGUvbm9kZS1jbGllbnQtY2VydGlmaWNhdGVzLWxvYWRlci5qcz8zMTcxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBmc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJmc1wiKSk7XG5mdW5jdGlvbiByZWFkRmlsZShmaWxlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgcmV0dXJuIGZzXzEuZGVmYXVsdC5yZWFkRmlsZShmaWxlLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZShkYXRhKTtcbiAgICB9KTsgfSk7XG59XG5mdW5jdGlvbiBsb2FkQ2VydChmaWxlT3JGaWxlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpbGVPckZpbGVzKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZU9yRmlsZXMubWFwKGxvYWRDZXJ0KSk7XG4gICAgfVxuICAgIHJldHVybiByZWFkRmlsZShmaWxlT3JGaWxlcyk7XG59XG5mdW5jdGlvbiBsb2FkS2V5KGZpbGVPckZpbGVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsZU9yRmlsZXMpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChmaWxlT3JGaWxlcy5tYXAobG9hZEtleSkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZpbGVPckZpbGVzID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gcmVhZEZpbGUoZmlsZU9yRmlsZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVhZEZpbGUoZmlsZU9yRmlsZXMucGF0aClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBlbSkgeyByZXR1cm4gKHtcbiAgICAgICAgcGVtOiBwZW0sXG4gICAgICAgIHBhc3NwaHJhc2U6IGZpbGVPckZpbGVzLnBhc3N3b3JkXG4gICAgfSk7IH0pO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIGxvYWQ6IGZ1bmN0aW9uIChjbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2VydFByb21pc2UsIGtleVByb21pc2UsIF9hLCBjZXJ0LCBrZXk7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjZXJ0UHJvbWlzZSA9IGxvYWRDZXJ0KGNsaWVudENlcnRpZmljYXRlLmNlcnRmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleVByb21pc2UgPSBsb2FkS2V5KGNsaWVudENlcnRpZmljYXRlLmtleWZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwoW2NlcnRQcm9taXNlLCBrZXlQcm9taXNlXSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9fcmVhZC5hcHBseSh2b2lkIDAsIFtfYi5zZW50KCksIDJdKSwgY2VydCA9IF9hWzBdLCBrZXkgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlcnQ6IGNlcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzcGhyYXNlOiBjbGllbnRDZXJ0aWZpY2F0ZS5wYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-client-certificates-loader.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar dns_1 = __importDefault(__webpack_require__(/*! dns */ \"dns\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar BaseHostNameResolver = neo4j_driver_core_1.internal.resolver.BaseHostNameResolver;\nvar NodeHostNameResolver = /** @class */ (function (_super) {\n    __extends(NodeHostNameResolver, _super);\n    function NodeHostNameResolver() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeHostNameResolver.prototype.resolve = function (address) {\n        return new Promise(function (resolve) {\n            dns_1.default.lookup(address.host(), { all: true }, function (error, resolvedTo) {\n                if (error) {\n                    resolve([address]);\n                }\n                else {\n                    var resolvedAddresses = resolvedTo.map(function (a) {\n                        return address.resolveWith(a.address);\n                    });\n                    resolve(resolvedAddresses);\n                }\n            });\n        });\n    };\n    return NodeHostNameResolver;\n}(BaseHostNameResolver));\nexports[\"default\"] = NodeHostNameResolver;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL25vZGUtaG9zdC1uYW1lLXJlc29sdmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw0QkFBNEIsbUJBQU8sQ0FBQyxnQkFBSztBQUN6QywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxXQUFXO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC9ub2RlL25vZGUtaG9zdC1uYW1lLXJlc29sdmVyLmpzPzY3ZjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkbnNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZG5zXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIEJhc2VIb3N0TmFtZVJlc29sdmVyID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5yZXNvbHZlci5CYXNlSG9zdE5hbWVSZXNvbHZlcjtcbnZhciBOb2RlSG9zdE5hbWVSZXNvbHZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9kZUhvc3ROYW1lUmVzb2x2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTm9kZUhvc3ROYW1lUmVzb2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTm9kZUhvc3ROYW1lUmVzb2x2ZXIucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGRuc18xLmRlZmF1bHQubG9va3VwKGFkZHJlc3MuaG9zdCgpLCB7IGFsbDogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyb3IsIHJlc29sdmVkVG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbYWRkcmVzc10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc29sdmVkQWRkcmVzc2VzID0gcmVzb2x2ZWRUby5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRyZXNzLnJlc29sdmVXaXRoKGEuYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc29sdmVkQWRkcmVzc2VzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZUhvc3ROYW1lUmVzb2x2ZXI7XG59KEJhc2VIb3N0TmFtZVJlc29sdmVyKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBOb2RlSG9zdE5hbWVSZXNvbHZlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js":
/*!***********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar channel_buf_1 = __importDefault(__webpack_require__(/*! ./channel-buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar buffer_1 = __importDefault(__webpack_require__(/*! buffer */ \"buffer\"));\nvar string_decoder_1 = __webpack_require__(/*! string_decoder */ \"string_decoder\");\nvar decoder = new string_decoder_1.StringDecoder('utf8');\nfunction encode(str) {\n    return new channel_buf_1.default(newBuffer(str));\n}\nfunction decode(buffer, length) {\n    if (Object.prototype.hasOwnProperty.call(buffer, '_buffer')) {\n        return decodeChannelBuffer(buffer, length);\n    }\n    else if (Object.prototype.hasOwnProperty.call(buffer, '_buffers')) {\n        return decodeCombinedBuffer(buffer, length);\n    }\n    else {\n        throw (0, neo4j_driver_core_1.newError)(\"Don't know how to decode strings from '\".concat(buffer, \"'\"));\n    }\n}\nfunction decodeChannelBuffer(buffer, length) {\n    var start = buffer.position;\n    var end = start + length;\n    buffer.position = Math.min(end, buffer.length);\n    return buffer._buffer.toString('utf8', start, end);\n}\nfunction decodeCombinedBuffer(buffer, length) {\n    return streamDecodeCombinedBuffer(buffer, length, function (partBuffer) { return decoder.write(partBuffer._buffer); }, function () { return decoder.end(); });\n}\nfunction streamDecodeCombinedBuffer(combinedBuffers, length, decodeFn, endFn) {\n    var remainingBytesToRead = length;\n    var position = combinedBuffers.position;\n    combinedBuffers._updatePos(Math.min(length, combinedBuffers.length - position));\n    // Reduce CombinedBuffers to a decoded string\n    var out = combinedBuffers._buffers.reduce(function (last, partBuffer) {\n        if (remainingBytesToRead <= 0) {\n            return last;\n        }\n        else if (position >= partBuffer.length) {\n            position -= partBuffer.length;\n            return '';\n        }\n        else {\n            partBuffer._updatePos(position - partBuffer.position);\n            var bytesToRead = Math.min(partBuffer.length - position, remainingBytesToRead);\n            var lastSlice = partBuffer.readSlice(bytesToRead);\n            partBuffer._updatePos(bytesToRead);\n            remainingBytesToRead = Math.max(remainingBytesToRead - lastSlice.length, 0);\n            position = 0;\n            return last + decodeFn(lastSlice);\n        }\n    }, '');\n    return out + endFn();\n}\nfunction newBuffer(str) {\n    // use static factory function present in newer NodeJS versions to create a buffer containing the given string\n    // or fallback to the old, potentially deprecated constructor\n    if (typeof buffer_1.default.Buffer.from === 'function') {\n        return buffer_1.default.Buffer.from(str, 'utf8');\n    }\n    else {\n        // eslint-disable-next-line n/no-deprecated-api\n        return new buffer_1.default.Buffer(str, 'utf8');\n    }\n}\nexports[\"default\"] = {\n    encode: encode,\n    decode: decode\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY2hhbm5lbC91dGY4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQ0FBb0MsbUJBQU8sQ0FBQyxtR0FBZTtBQUMzRCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsK0JBQStCLG1CQUFPLENBQUMsc0JBQVE7QUFDL0MsdUJBQXVCLG1CQUFPLENBQUMsc0NBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDJDQUEyQyxnQkFBZ0IsdUJBQXVCO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2NoYW5uZWwvdXRmOC5qcz9lOTc0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjaGFubmVsX2J1Zl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NoYW5uZWwtYnVmXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIGJ1ZmZlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJidWZmZXJcIikpO1xudmFyIHN0cmluZ19kZWNvZGVyXzEgPSByZXF1aXJlKFwic3RyaW5nX2RlY29kZXJcIik7XG52YXIgZGVjb2RlciA9IG5ldyBzdHJpbmdfZGVjb2Rlcl8xLlN0cmluZ0RlY29kZXIoJ3V0ZjgnKTtcbmZ1bmN0aW9uIGVuY29kZShzdHIpIHtcbiAgICByZXR1cm4gbmV3IGNoYW5uZWxfYnVmXzEuZGVmYXVsdChuZXdCdWZmZXIoc3RyKSk7XG59XG5mdW5jdGlvbiBkZWNvZGUoYnVmZmVyLCBsZW5ndGgpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGJ1ZmZlciwgJ19idWZmZXInKSkge1xuICAgICAgICByZXR1cm4gZGVjb2RlQ2hhbm5lbEJ1ZmZlcihidWZmZXIsIGxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChidWZmZXIsICdfYnVmZmVycycpKSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVDb21iaW5lZEJ1ZmZlcihidWZmZXIsIGxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJEb24ndCBrbm93IGhvdyB0byBkZWNvZGUgc3RyaW5ncyBmcm9tICdcIi5jb25jYXQoYnVmZmVyLCBcIidcIikpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlY29kZUNoYW5uZWxCdWZmZXIoYnVmZmVyLCBsZW5ndGgpIHtcbiAgICB2YXIgc3RhcnQgPSBidWZmZXIucG9zaXRpb247XG4gICAgdmFyIGVuZCA9IHN0YXJ0ICsgbGVuZ3RoO1xuICAgIGJ1ZmZlci5wb3NpdGlvbiA9IE1hdGgubWluKGVuZCwgYnVmZmVyLmxlbmd0aCk7XG4gICAgcmV0dXJuIGJ1ZmZlci5fYnVmZmVyLnRvU3RyaW5nKCd1dGY4Jywgc3RhcnQsIGVuZCk7XG59XG5mdW5jdGlvbiBkZWNvZGVDb21iaW5lZEJ1ZmZlcihidWZmZXIsIGxlbmd0aCkge1xuICAgIHJldHVybiBzdHJlYW1EZWNvZGVDb21iaW5lZEJ1ZmZlcihidWZmZXIsIGxlbmd0aCwgZnVuY3Rpb24gKHBhcnRCdWZmZXIpIHsgcmV0dXJuIGRlY29kZXIud3JpdGUocGFydEJ1ZmZlci5fYnVmZmVyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVjb2Rlci5lbmQoKTsgfSk7XG59XG5mdW5jdGlvbiBzdHJlYW1EZWNvZGVDb21iaW5lZEJ1ZmZlcihjb21iaW5lZEJ1ZmZlcnMsIGxlbmd0aCwgZGVjb2RlRm4sIGVuZEZuKSB7XG4gICAgdmFyIHJlbWFpbmluZ0J5dGVzVG9SZWFkID0gbGVuZ3RoO1xuICAgIHZhciBwb3NpdGlvbiA9IGNvbWJpbmVkQnVmZmVycy5wb3NpdGlvbjtcbiAgICBjb21iaW5lZEJ1ZmZlcnMuX3VwZGF0ZVBvcyhNYXRoLm1pbihsZW5ndGgsIGNvbWJpbmVkQnVmZmVycy5sZW5ndGggLSBwb3NpdGlvbikpO1xuICAgIC8vIFJlZHVjZSBDb21iaW5lZEJ1ZmZlcnMgdG8gYSBkZWNvZGVkIHN0cmluZ1xuICAgIHZhciBvdXQgPSBjb21iaW5lZEJ1ZmZlcnMuX2J1ZmZlcnMucmVkdWNlKGZ1bmN0aW9uIChsYXN0LCBwYXJ0QnVmZmVyKSB7XG4gICAgICAgIGlmIChyZW1haW5pbmdCeXRlc1RvUmVhZCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbiA+PSBwYXJ0QnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcG9zaXRpb24gLT0gcGFydEJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0QnVmZmVyLl91cGRhdGVQb3MocG9zaXRpb24gLSBwYXJ0QnVmZmVyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIHZhciBieXRlc1RvUmVhZCA9IE1hdGgubWluKHBhcnRCdWZmZXIubGVuZ3RoIC0gcG9zaXRpb24sIHJlbWFpbmluZ0J5dGVzVG9SZWFkKTtcbiAgICAgICAgICAgIHZhciBsYXN0U2xpY2UgPSBwYXJ0QnVmZmVyLnJlYWRTbGljZShieXRlc1RvUmVhZCk7XG4gICAgICAgICAgICBwYXJ0QnVmZmVyLl91cGRhdGVQb3MoYnl0ZXNUb1JlYWQpO1xuICAgICAgICAgICAgcmVtYWluaW5nQnl0ZXNUb1JlYWQgPSBNYXRoLm1heChyZW1haW5pbmdCeXRlc1RvUmVhZCAtIGxhc3RTbGljZS5sZW5ndGgsIDApO1xuICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgcmV0dXJuIGxhc3QgKyBkZWNvZGVGbihsYXN0U2xpY2UpO1xuICAgICAgICB9XG4gICAgfSwgJycpO1xuICAgIHJldHVybiBvdXQgKyBlbmRGbigpO1xufVxuZnVuY3Rpb24gbmV3QnVmZmVyKHN0cikge1xuICAgIC8vIHVzZSBzdGF0aWMgZmFjdG9yeSBmdW5jdGlvbiBwcmVzZW50IGluIG5ld2VyIE5vZGVKUyB2ZXJzaW9ucyB0byBjcmVhdGUgYSBidWZmZXIgY29udGFpbmluZyB0aGUgZ2l2ZW4gc3RyaW5nXG4gICAgLy8gb3IgZmFsbGJhY2sgdG8gdGhlIG9sZCwgcG90ZW50aWFsbHkgZGVwcmVjYXRlZCBjb25zdHJ1Y3RvclxuICAgIGlmICh0eXBlb2YgYnVmZmVyXzEuZGVmYXVsdC5CdWZmZXIuZnJvbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gYnVmZmVyXzEuZGVmYXVsdC5CdWZmZXIuZnJvbShzdHIsICd1dGY4Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9uby1kZXByZWNhdGVkLWFwaVxuICAgICAgICByZXR1cm4gbmV3IGJ1ZmZlcl8xLmRlZmF1bHQuQnVmZmVyKHN0ciwgJ3V0ZjgnKTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgZGVjb2RlOiBkZWNvZGVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\n/**\n * Class which provides Authorization for {@link Connection}\n */\nvar AuthenticationProvider = /** @class */ (function () {\n    function AuthenticationProvider(_a) {\n        var authTokenManager = _a.authTokenManager, userAgent = _a.userAgent, boltAgent = _a.boltAgent;\n        this._authTokenManager = authTokenManager || (0, neo4j_driver_core_1.staticAuthTokenManager)({});\n        this._userAgent = userAgent;\n        this._boltAgent = boltAgent;\n    }\n    AuthenticationProvider.prototype.authenticate = function (_a) {\n        var connection = _a.connection, auth = _a.auth, skipReAuth = _a.skipReAuth, waitReAuth = _a.waitReAuth, forceReAuth = _a.forceReAuth;\n        return __awaiter(this, void 0, void 0, function () {\n            var shouldReAuth, authToken;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(auth != null)) return [3 /*break*/, 3];\n                        shouldReAuth = connection.supportsReAuth === true && ((!lang_1.object.equals(connection.authToken, auth) && skipReAuth !== true) ||\n                            forceReAuth === true);\n                        if (!(connection.authToken == null || shouldReAuth)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, connection.connect(this._userAgent, this._boltAgent, auth, waitReAuth || false)];\n                    case 1: return [2 /*return*/, _b.sent()];\n                    case 2: return [2 /*return*/, connection];\n                    case 3: return [4 /*yield*/, this._authTokenManager.getToken()];\n                    case 4:\n                        authToken = _b.sent();\n                        if (!!lang_1.object.equals(authToken, connection.authToken)) return [3 /*break*/, 6];\n                        return [4 /*yield*/, connection.connect(this._userAgent, this._boltAgent, authToken, false)];\n                    case 5: return [2 /*return*/, _b.sent()];\n                    case 6: return [2 /*return*/, connection];\n                }\n            });\n        });\n    };\n    AuthenticationProvider.prototype.handleError = function (_a) {\n        var connection = _a.connection, code = _a.code;\n        if (connection &&\n            code.startsWith('Neo.ClientError.Security.')) {\n            return this._authTokenManager.handleSecurityException(connection.authToken, code);\n        }\n        return false;\n    };\n    return AuthenticationProvider;\n}());\nexports[\"default\"] = AuthenticationProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9hdXRoZW50aWNhdGlvbi1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsYUFBYSxtQkFBTyxDQUFDLG9GQUFTO0FBQzlCO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24tcHJvdmlkZXIvYXV0aGVudGljYXRpb24tcHJvdmlkZXIuanM/Y2U2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKFwiLi4vbGFuZ1wiKTtcbi8qKlxuICogQ2xhc3Mgd2hpY2ggcHJvdmlkZXMgQXV0aG9yaXphdGlvbiBmb3Ige0BsaW5rIENvbm5lY3Rpb259XG4gKi9cbnZhciBBdXRoZW50aWNhdGlvblByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uUHJvdmlkZXIoX2EpIHtcbiAgICAgICAgdmFyIGF1dGhUb2tlbk1hbmFnZXIgPSBfYS5hdXRoVG9rZW5NYW5hZ2VyLCB1c2VyQWdlbnQgPSBfYS51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9hLmJvbHRBZ2VudDtcbiAgICAgICAgdGhpcy5fYXV0aFRva2VuTWFuYWdlciA9IGF1dGhUb2tlbk1hbmFnZXIgfHwgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuc3RhdGljQXV0aFRva2VuTWFuYWdlcikoe30pO1xuICAgICAgICB0aGlzLl91c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gICAgICAgIHRoaXMuX2JvbHRBZ2VudCA9IGJvbHRBZ2VudDtcbiAgICB9XG4gICAgQXV0aGVudGljYXRpb25Qcm92aWRlci5wcm90b3R5cGUuYXV0aGVudGljYXRlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gX2EuY29ubmVjdGlvbiwgYXV0aCA9IF9hLmF1dGgsIHNraXBSZUF1dGggPSBfYS5za2lwUmVBdXRoLCB3YWl0UmVBdXRoID0gX2Eud2FpdFJlQXV0aCwgZm9yY2VSZUF1dGggPSBfYS5mb3JjZVJlQXV0aDtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNob3VsZFJlQXV0aCwgYXV0aFRva2VuO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXV0aCAhPSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRSZUF1dGggPSBjb25uZWN0aW9uLnN1cHBvcnRzUmVBdXRoID09PSB0cnVlICYmICgoIWxhbmdfMS5vYmplY3QuZXF1YWxzKGNvbm5lY3Rpb24uYXV0aFRva2VuLCBhdXRoKSAmJiBza2lwUmVBdXRoICE9PSB0cnVlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlUmVBdXRoID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGNvbm5lY3Rpb24uYXV0aFRva2VuID09IG51bGwgfHwgc2hvdWxkUmVBdXRoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjb25uZWN0aW9uLmNvbm5lY3QodGhpcy5fdXNlckFnZW50LCB0aGlzLl9ib2x0QWdlbnQsIGF1dGgsIHdhaXRSZUF1dGggfHwgZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgY29ubmVjdGlvbl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fYXV0aFRva2VuTWFuYWdlci5nZXRUb2tlbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aFRva2VuID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhbGFuZ18xLm9iamVjdC5lcXVhbHMoYXV0aFRva2VuLCBjb25uZWN0aW9uLmF1dGhUb2tlbikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29ubmVjdGlvbi5jb25uZWN0KHRoaXMuX3VzZXJBZ2VudCwgdGhpcy5fYm9sdEFnZW50LCBhdXRoVG9rZW4sIGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbm5lY3Rpb25dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF1dGhlbnRpY2F0aW9uUHJvdmlkZXIucHJvdG90eXBlLmhhbmRsZUVycm9yID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gX2EuY29ubmVjdGlvbiwgY29kZSA9IF9hLmNvZGU7XG4gICAgICAgIGlmIChjb25uZWN0aW9uICYmXG4gICAgICAgICAgICBjb2RlLnN0YXJ0c1dpdGgoJ05lby5DbGllbnRFcnJvci5TZWN1cml0eS4nKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dGhUb2tlbk1hbmFnZXIuaGFuZGxlU2VjdXJpdHlFeGNlcHRpb24oY29ubmVjdGlvbi5hdXRoVG9rZW4sIGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBBdXRoZW50aWNhdGlvblByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEF1dGhlbnRpY2F0aW9uUHJvdmlkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar ClientCertificateHolder = /** @class */ (function () {\n    function ClientCertificateHolder(_a) {\n        var clientCertificateProvider = _a.clientCertificateProvider, loader = _a.loader;\n        this._clientCertificateProvider = clientCertificateProvider;\n        this._loader = loader || channel_1.ClientCertificatesLoader;\n        this._clientCertificate = null;\n    }\n    ClientCertificateHolder.prototype.getClientCertificate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = this._clientCertificateProvider != null;\n                        if (!_a) return [3 /*break*/, 3];\n                        _b = this._clientCertificate == null;\n                        if (_b) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._clientCertificateProvider.hasUpdate()];\n                    case 1:\n                        _b = (_c.sent());\n                        _c.label = 2;\n                    case 2:\n                        _a = (_b);\n                        _c.label = 3;\n                    case 3:\n                        if (_a) {\n                            this._clientCertificate = Promise.resolve(this._clientCertificateProvider.getClientCertificate())\n                                .then(this._loader.load)\n                                .then(function (clientCertificate) {\n                                _this._clientCertificate = clientCertificate;\n                                return _this._clientCertificate;\n                            })\n                                .catch(function (error) {\n                                _this._clientCertificate = null;\n                                throw error;\n                            });\n                        }\n                        return [2 /*return*/, this._clientCertificate];\n                }\n            });\n        });\n    };\n    return ClientCertificateHolder;\n}());\nexports[\"default\"] = ClientCertificateHolder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jbGllbnQtY2VydGlmaWNhdGUtaG9sZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLDBGQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24tcHJvdmlkZXIvY2xpZW50LWNlcnRpZmljYXRlLWhvbGRlci5qcz83YWE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBjaGFubmVsXzEgPSByZXF1aXJlKFwiLi4vY2hhbm5lbFwiKTtcbnZhciBDbGllbnRDZXJ0aWZpY2F0ZUhvbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDbGllbnRDZXJ0aWZpY2F0ZUhvbGRlcihfYSkge1xuICAgICAgICB2YXIgY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlciA9IF9hLmNsaWVudENlcnRpZmljYXRlUHJvdmlkZXIsIGxvYWRlciA9IF9hLmxvYWRlcjtcbiAgICAgICAgdGhpcy5fY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlciA9IGNsaWVudENlcnRpZmljYXRlUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IGxvYWRlciB8fCBjaGFubmVsXzEuQ2xpZW50Q2VydGlmaWNhdGVzTG9hZGVyO1xuICAgICAgICB0aGlzLl9jbGllbnRDZXJ0aWZpY2F0ZSA9IG51bGw7XG4gICAgfVxuICAgIENsaWVudENlcnRpZmljYXRlSG9sZGVyLnByb3RvdHlwZS5nZXRDbGllbnRDZXJ0aWZpY2F0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXMuX2NsaWVudENlcnRpZmljYXRlUHJvdmlkZXIgIT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2EpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSB0aGlzLl9jbGllbnRDZXJ0aWZpY2F0ZSA9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9iKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2NsaWVudENlcnRpZmljYXRlUHJvdmlkZXIuaGFzVXBkYXRlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IChfYy5zZW50KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IChfYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsaWVudENlcnRpZmljYXRlID0gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2NsaWVudENlcnRpZmljYXRlUHJvdmlkZXIuZ2V0Q2xpZW50Q2VydGlmaWNhdGUoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4odGhpcy5fbG9hZGVyLmxvYWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2xpZW50Q2VydGlmaWNhdGUgPSBjbGllbnRDZXJ0aWZpY2F0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9jbGllbnRDZXJ0aWZpY2F0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9jbGllbnRDZXJ0aWZpY2F0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX2NsaWVudENlcnRpZmljYXRlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2xpZW50Q2VydGlmaWNhdGVIb2xkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2xpZW50Q2VydGlmaWNhdGVIb2xkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar connection_provider_pooled_1 = __importDefault(__webpack_require__(/*! ./connection-provider-pooled */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\"));\nvar connection_1 = __webpack_require__(/*! ../connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V3 = _a.BOLT_PROTOCOL_V3, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4, BOLT_PROTOCOL_V5_1 = _a.BOLT_PROTOCOL_V5_1;\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar DirectConnectionProvider = /** @class */ (function (_super) {\n    __extends(DirectConnectionProvider, _super);\n    function DirectConnectionProvider(_a) {\n        var id = _a.id, config = _a.config, log = _a.log, address = _a.address, userAgent = _a.userAgent, boltAgent = _a.boltAgent, authTokenManager = _a.authTokenManager, newPool = _a.newPool;\n        var _this = _super.call(this, { id: id, config: config, log: log, userAgent: userAgent, boltAgent: boltAgent, authTokenManager: authTokenManager, newPool: newPool }) || this;\n        _this._address = address;\n        return _this;\n    }\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    DirectConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, auth = _b.auth, forceReAuth = _b.forceReAuth;\n        return __awaiter(this, void 0, void 0, function () {\n            var databaseSpecificErrorHandler, connection;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        databaseSpecificErrorHandler = connection_1.ConnectionErrorHandler.create({\n                            errorCode: SERVICE_UNAVAILABLE,\n                            handleSecurityError: function (error, address, conn) {\n                                return _this._handleSecurityError(error, address, conn, database);\n                            }\n                        });\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth, forceReAuth: forceReAuth }, this._address)];\n                    case 1:\n                        connection = _c.sent();\n                        if (!auth) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._verifyStickyConnection({\n                                auth: auth,\n                                connection: connection,\n                                address: this._address\n                            })];\n                    case 2:\n                        _c.sent();\n                        return [2 /*return*/, connection];\n                    case 3: return [2 /*return*/, new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler)];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype._handleSecurityError = function (error, address, connection, database) {\n        this._log.warn(\"Direct driver \".concat(this._id, \" will close connection to \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        return _super.prototype._handleSecurityError.call(this, error, address, connection);\n    };\n    DirectConnectionProvider.prototype._hasProtocolVersion = function (versionPredicate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, protocolVersion;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._createChannelConnection(this._address)];\n                    case 1:\n                        connection = _a.sent();\n                        protocolVersion = connection.protocol()\n                            ? connection.protocol().version\n                            : null;\n                        return [4 /*yield*/, connection.close()];\n                    case 2:\n                        _a.sent();\n                        if (protocolVersion) {\n                            return [2 /*return*/, versionPredicate(protocolVersion)];\n                        }\n                        return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsMultiDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_0; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.getNegotiatedProtocolVersion = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._hasProtocolVersion(resolve)\n                .catch(reject);\n        });\n    };\n    DirectConnectionProvider.prototype.supportsTransactionConfig = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V3; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsUserImpersonation = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_4; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsSessionAuth = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V5_1; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.verifyAuthentication = function (_a) {\n        var auth = _a.auth;\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_b) {\n                return [2 /*return*/, this._verifyAuthentication({\n                        auth: auth,\n                        getAddress: function () { return _this._address; }\n                    })];\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.verifyConnectivityAndGetServerInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._verifyConnectivityAndGetServerVersion({ address: this._address })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    return DirectConnectionProvider;\n}(connection_provider_pooled_1.default));\nexports[\"default\"] = DirectConnectionProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLWRpcmVjdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1EQUFtRCxtQkFBTyxDQUFDLDZJQUE4QjtBQUN6RixtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG9JQUFvSTtBQUM1SztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMEJBQTBCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLDRFQUE0RSxzQ0FBc0M7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHVDQUF1QztBQUN0STtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixxQ0FBcUM7QUFDcEk7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRix1Q0FBdUM7QUFDdEk7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRix1Q0FBdUM7QUFDdEk7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxxQkFBcUI7QUFDckIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0ZBQStGLHdCQUF3QjtBQUN2SDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLWRpcmVjdC5qcz9hODQxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29ubmVjdGlvbl9wcm92aWRlcl9wb29sZWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb25uZWN0aW9uLXByb3ZpZGVyLXBvb2xlZFwiKSk7XG52YXIgY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2Nvbm5lY3Rpb25cIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBfYSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwuY29uc3RhbnRzLCBCT0xUX1BST1RPQ09MX1YzID0gX2EuQk9MVF9QUk9UT0NPTF9WMywgQk9MVF9QUk9UT0NPTF9WNF8wID0gX2EuQk9MVF9QUk9UT0NPTF9WNF8wLCBCT0xUX1BST1RPQ09MX1Y0XzQgPSBfYS5CT0xUX1BST1RPQ09MX1Y0XzQsIEJPTFRfUFJPVE9DT0xfVjVfMSA9IF9hLkJPTFRfUFJPVE9DT0xfVjVfMTtcbnZhciBTRVJWSUNFX1VOQVZBSUxBQkxFID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5lcnJvci5TRVJWSUNFX1VOQVZBSUxBQkxFO1xudmFyIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlcihfYSkge1xuICAgICAgICB2YXIgaWQgPSBfYS5pZCwgY29uZmlnID0gX2EuY29uZmlnLCBsb2cgPSBfYS5sb2csIGFkZHJlc3MgPSBfYS5hZGRyZXNzLCB1c2VyQWdlbnQgPSBfYS51c2VyQWdlbnQsIGJvbHRBZ2VudCA9IF9hLmJvbHRBZ2VudCwgYXV0aFRva2VuTWFuYWdlciA9IF9hLmF1dGhUb2tlbk1hbmFnZXIsIG5ld1Bvb2wgPSBfYS5uZXdQb29sO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7IGlkOiBpZCwgY29uZmlnOiBjb25maWcsIGxvZzogbG9nLCB1c2VyQWdlbnQ6IHVzZXJBZ2VudCwgYm9sdEFnZW50OiBib2x0QWdlbnQsIGF1dGhUb2tlbk1hbmFnZXI6IGF1dGhUb2tlbk1hbmFnZXIsIG5ld1Bvb2w6IG5ld1Bvb2wgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlZSB7QGxpbmsgQ29ubmVjdGlvblByb3ZpZGVyfSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG1ldGhvZCBhbmRcbiAgICAgKiBpdHMgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuYWNxdWlyZUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGFjY2Vzc01vZGUgPSBfYi5hY2Nlc3NNb2RlLCBkYXRhYmFzZSA9IF9iLmRhdGFiYXNlLCBib29rbWFya3MgPSBfYi5ib29rbWFya3MsIGF1dGggPSBfYi5hdXRoLCBmb3JjZVJlQXV0aCA9IF9iLmZvcmNlUmVBdXRoO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGF0YWJhc2VTcGVjaWZpY0Vycm9ySGFuZGxlciwgY29ubmVjdGlvbjtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyID0gY29ubmVjdGlvbl8xLkNvbm5lY3Rpb25FcnJvckhhbmRsZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IFNFUlZJQ0VfVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2VjdXJpdHlFcnJvcjogZnVuY3Rpb24gKGVycm9yLCBhZGRyZXNzLCBjb25uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlU2VjdXJpdHlFcnJvcihlcnJvciwgYWRkcmVzcywgY29ubiwgZGF0YWJhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY29ubmVjdGlvblBvb2wuYWNxdWlyZSh7IGF1dGg6IGF1dGgsIGZvcmNlUmVBdXRoOiBmb3JjZVJlQXV0aCB9LCB0aGlzLl9hZGRyZXNzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWF1dGgpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fdmVyaWZ5U3RpY2t5Q29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IGF1dGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMuX2FkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjb25uZWN0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IGNvbm5lY3Rpb25fMS5EZWxlZ2F0ZUNvbm5lY3Rpb24oY29ubmVjdGlvbiwgZGF0YWJhc2VTcGVjaWZpY0Vycm9ySGFuZGxlcildO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2hhbmRsZVNlY3VyaXR5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGNvbm5lY3Rpb24sIGRhdGFiYXNlKSB7XG4gICAgICAgIHRoaXMuX2xvZy53YXJuKFwiRGlyZWN0IGRyaXZlciBcIi5jb25jYXQodGhpcy5faWQsIFwiIHdpbGwgY2xvc2UgY29ubmVjdGlvbiB0byBcIikuY29uY2F0KGFkZHJlc3MsIFwiIGZvciBkYXRhYmFzZSAnXCIpLmNvbmNhdChkYXRhYmFzZSwgXCInIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIpLmNvbmNhdChlcnJvci5jb2RlLCBcIiAnXCIpLmNvbmNhdChlcnJvci5tZXNzYWdlLCBcIidcIikpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5faGFuZGxlU2VjdXJpdHlFcnJvci5jYWxsKHRoaXMsIGVycm9yLCBhZGRyZXNzLCBjb25uZWN0aW9uKTtcbiAgICB9O1xuICAgIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2hhc1Byb3RvY29sVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uUHJlZGljYXRlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb25uZWN0aW9uLCBwcm90b2NvbFZlcnNpb247XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2NyZWF0ZUNoYW5uZWxDb25uZWN0aW9uKHRoaXMuX2FkZHJlc3MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sVmVyc2lvbiA9IGNvbm5lY3Rpb24ucHJvdG9jb2woKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29ubmVjdGlvbi5wcm90b2NvbCgpLnZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjb25uZWN0aW9uLmNsb3NlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG9jb2xWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHZlcnNpb25QcmVkaWNhdGUocHJvdG9jb2xWZXJzaW9uKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuc3VwcG9ydHNNdWx0aURiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hhc1Byb3RvY29sVmVyc2lvbihmdW5jdGlvbiAodmVyc2lvbikgeyByZXR1cm4gdmVyc2lvbiA+PSBCT0xUX1BST1RPQ09MX1Y0XzA7IH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLmdldE5lZ290aWF0ZWRQcm90b2NvbFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKHJlc29sdmUpXG4gICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5zdXBwb3J0c1RyYW5zYWN0aW9uQ29uZmlnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hhc1Byb3RvY29sVmVyc2lvbihmdW5jdGlvbiAodmVyc2lvbikgeyByZXR1cm4gdmVyc2lvbiA+PSBCT0xUX1BST1RPQ09MX1YzOyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5zdXBwb3J0c1VzZXJJbXBlcnNvbmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hhc1Byb3RvY29sVmVyc2lvbihmdW5jdGlvbiAodmVyc2lvbikgeyByZXR1cm4gdmVyc2lvbiA+PSBCT0xUX1BST1RPQ09MX1Y0XzQ7IH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLnN1cHBvcnRzU2Vzc2lvbkF1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGFzUHJvdG9jb2xWZXJzaW9uKGZ1bmN0aW9uICh2ZXJzaW9uKSB7IHJldHVybiB2ZXJzaW9uID49IEJPTFRfUFJPVE9DT0xfVjVfMTsgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERpcmVjdENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUudmVyaWZ5QXV0aGVudGljYXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGF1dGggPSBfYS5hdXRoO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLl92ZXJpZnlBdXRoZW50aWNhdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QWRkcmVzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2FkZHJlc3M7IH1cbiAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS52ZXJpZnlDb25uZWN0aXZpdHlBbmRHZXRTZXJ2ZXJJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3ZlcmlmeUNvbm5lY3Rpdml0eUFuZEdldFNlcnZlclZlcnNpb24oeyBhZGRyZXNzOiB0aGlzLl9hZGRyZXNzIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGlyZWN0Q29ubmVjdGlvblByb3ZpZGVyO1xufShjb25uZWN0aW9uX3Byb3ZpZGVyX3Bvb2xlZF8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IERpcmVjdENvbm5lY3Rpb25Qcm92aWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar connection_1 = __webpack_require__(/*! ../connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\");\nvar pool_1 = __importStar(__webpack_require__(/*! ../pool */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/index.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar authentication_provider_1 = __importDefault(__webpack_require__(/*! ./authentication-provider */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/authentication-provider.js\"));\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\nvar liveness_check_provider_1 = __importDefault(__webpack_require__(/*! ./liveness-check-provider */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js\"));\nvar client_certificate_holder_1 = __importDefault(__webpack_require__(/*! ./client-certificate-holder */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/client-certificate-holder.js\"));\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar AUTHENTICATION_ERRORS = [\n    'Neo.ClientError.Security.CredentialsExpired',\n    'Neo.ClientError.Security.Forbidden',\n    'Neo.ClientError.Security.TokenExpired',\n    'Neo.ClientError.Security.Unauthorized'\n];\nvar PooledConnectionProvider = /** @class */ (function (_super) {\n    __extends(PooledConnectionProvider, _super);\n    function PooledConnectionProvider(_a, createChannelConnectionHook) {\n        var id = _a.id, config = _a.config, log = _a.log, userAgent = _a.userAgent, boltAgent = _a.boltAgent, authTokenManager = _a.authTokenManager, _b = _a.newPool, newPool = _b === void 0 ? function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new (pool_1.default.bind.apply(pool_1.default, __spreadArray([void 0], __read(args), false)))();\n        } : _b;\n        if (createChannelConnectionHook === void 0) { createChannelConnectionHook = null; }\n        var _this = _super.call(this) || this;\n        _this._id = id;\n        _this._config = config;\n        _this._log = log;\n        _this._clientCertificateHolder = new client_certificate_holder_1.default({ clientCertificateProvider: _this._config.clientCertificate });\n        _this._authenticationProvider = new authentication_provider_1.default({ authTokenManager: authTokenManager, userAgent: userAgent, boltAgent: boltAgent });\n        _this._livenessCheckProvider = new liveness_check_provider_1.default({ connectionLivenessCheckTimeout: config.connectionLivenessCheckTimeout });\n        _this._userAgent = userAgent;\n        _this._boltAgent = boltAgent;\n        _this._createChannelConnection =\n            createChannelConnectionHook ||\n                (function (address) { return __awaiter(_this, void 0, void 0, function () {\n                    var _a, _b;\n                    return __generator(this, function (_c) {\n                        switch (_c.label) {\n                            case 0:\n                                _a = connection_1.createChannelConnection;\n                                _b = [address,\n                                    this._config,\n                                    this._createConnectionErrorHandler(),\n                                    this._log];\n                                return [4 /*yield*/, this._clientCertificateHolder.getClientCertificate()];\n                            case 1: return [2 /*return*/, _a.apply(void 0, _b.concat([_c.sent()]))];\n                        }\n                    });\n                }); });\n        _this._connectionPool = newPool({\n            create: _this._createConnection.bind(_this),\n            destroy: _this._destroyConnection.bind(_this),\n            validateOnAcquire: _this._validateConnectionOnAcquire.bind(_this),\n            validateOnRelease: _this._validateConnectionOnRelease.bind(_this),\n            installIdleObserver: PooledConnectionProvider._installIdleObserverOnConnection.bind(_this),\n            removeIdleObserver: PooledConnectionProvider._removeIdleObserverOnConnection.bind(_this),\n            config: pool_1.PoolConfig.fromDriverConfig(config),\n            log: _this._log\n        });\n        _this._openConnections = {};\n        return _this;\n    }\n    PooledConnectionProvider.prototype._createConnectionErrorHandler = function () {\n        return new connection_1.ConnectionErrorHandler(SERVICE_UNAVAILABLE);\n    };\n    PooledConnectionProvider.prototype._getClientCertificate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._config.clientCertificate.getClientCertificate()];\n            });\n        });\n    };\n    /**\n     * Create a new connection and initialize it.\n     * @return {Promise<Connection>} promise resolved with a new connection or rejected when failed to connect.\n     * @access private\n     */\n    PooledConnectionProvider.prototype._createConnection = function (_a, address, release) {\n        var _this = this;\n        var auth = _a.auth;\n        return this._createChannelConnection(address).then(function (connection) {\n            connection.release = function () {\n                connection.idleTimestamp = Date.now();\n                return release(address, connection);\n            };\n            _this._openConnections[connection.id] = connection;\n            return _this._authenticationProvider.authenticate({ connection: connection, auth: auth })\n                .catch(function (error) {\n                // let's destroy this connection\n                _this._destroyConnection(connection);\n                // propagate the error because connection failed to connect / initialize\n                throw error;\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._validateConnectionOnAcquire = function (_a, conn) {\n        var auth = _a.auth, skipReAuth = _a.skipReAuth;\n        return __awaiter(this, void 0, void 0, function () {\n            var error_1, error_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!this._validateConnection(conn)) {\n                            return [2 /*return*/, false];\n                        }\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._livenessCheckProvider.check(conn)];\n                    case 2:\n                        _b.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _b.sent();\n                        this._log.debug(\"The connection \".concat(conn.id, \" is not alive because of an error \").concat(error_1.code, \" '\").concat(error_1.message, \"'\"));\n                        return [2 /*return*/, false];\n                    case 4:\n                        _b.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this._authenticationProvider.authenticate({ connection: conn, auth: auth, skipReAuth: skipReAuth })];\n                    case 5:\n                        _b.sent();\n                        return [2 /*return*/, true];\n                    case 6:\n                        error_2 = _b.sent();\n                        this._log.debug(\"The connection \".concat(conn.id, \" is not valid because of an error \").concat(error_2.code, \" '\").concat(error_2.message, \"'\"));\n                        return [2 /*return*/, false];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._validateConnectionOnRelease = function (conn) {\n        return conn._sticky !== true && this._validateConnection(conn);\n    };\n    /**\n     * Check that a connection is usable\n     * @return {boolean} true if the connection is open\n     * @access private\n     **/\n    PooledConnectionProvider.prototype._validateConnection = function (conn) {\n        if (!conn.isOpen()) {\n            return false;\n        }\n        var maxConnectionLifetime = this._config.maxConnectionLifetime;\n        var lifetime = Date.now() - conn.creationTimestamp;\n        if (lifetime > maxConnectionLifetime) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Dispose of a connection.\n     * @return {Connection} the connection to dispose.\n     * @access private\n     */\n    PooledConnectionProvider.prototype._destroyConnection = function (conn) {\n        delete this._openConnections[conn.id];\n        return conn.close();\n    };\n    /**\n     * Acquire a connection from the pool and return it ServerInfo\n     * @param {object} param\n     * @param {string} param.address the server address\n     * @return {Promise<ServerInfo>} the server info\n     */\n    PooledConnectionProvider.prototype._verifyConnectivityAndGetServerVersion = function (_a) {\n        var address = _a.address;\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, serverInfo;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._connectionPool.acquire({}, address)];\n                    case 1:\n                        connection = _b.sent();\n                        serverInfo = new neo4j_driver_core_1.ServerInfo(connection.server, connection.protocol().version);\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 5, 7]);\n                        if (!!connection.protocol().isLastMessageLogon()) return [3 /*break*/, 4];\n                        return [4 /*yield*/, connection.resetAndFlush()];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4: return [3 /*break*/, 7];\n                    case 5: return [4 /*yield*/, connection.release()];\n                    case 6:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 7: return [2 /*return*/, serverInfo];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._verifyAuthentication = function (_a) {\n        var getAddress = _a.getAddress, auth = _a.auth;\n        return __awaiter(this, void 0, void 0, function () {\n            var connectionsToRelease, address, connection, lastMessageIsNotLogin, stickyConnection, error_3;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        connectionsToRelease = [];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 8, 9, 11]);\n                        return [4 /*yield*/, getAddress()];\n                    case 2:\n                        address = _b.sent();\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth, skipReAuth: true }, address)];\n                    case 3:\n                        connection = _b.sent();\n                        connectionsToRelease.push(connection);\n                        lastMessageIsNotLogin = !connection.protocol().isLastMessageLogon();\n                        if (!connection.supportsReAuth) {\n                            throw (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support user switch.');\n                        }\n                        if (!(lastMessageIsNotLogin && connection.supportsReAuth)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, this._authenticationProvider.authenticate({ connection: connection, auth: auth, waitReAuth: true, forceReAuth: true })];\n                    case 4:\n                        _b.sent();\n                        return [3 /*break*/, 7];\n                    case 5:\n                        if (!(lastMessageIsNotLogin && !connection.supportsReAuth)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth }, address, { requireNew: true })];\n                    case 6:\n                        stickyConnection = _b.sent();\n                        stickyConnection._sticky = true;\n                        connectionsToRelease.push(stickyConnection);\n                        _b.label = 7;\n                    case 7: return [2 /*return*/, true];\n                    case 8:\n                        error_3 = _b.sent();\n                        if (AUTHENTICATION_ERRORS.includes(error_3.code)) {\n                            return [2 /*return*/, false];\n                        }\n                        throw error_3;\n                    case 9: return [4 /*yield*/, Promise.all(connectionsToRelease.map(function (conn) { return conn.release(); }))];\n                    case 10:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 11: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype._verifyStickyConnection = function (_a) {\n        var auth = _a.auth, connection = _a.connection, address = _a.address;\n        return __awaiter(this, void 0, void 0, function () {\n            var connectionWithSameCredentials, shouldCreateStickyConnection;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        connectionWithSameCredentials = lang_1.object.equals(auth, connection.authToken);\n                        shouldCreateStickyConnection = !connectionWithSameCredentials;\n                        connection._sticky = connectionWithSameCredentials && !connection.supportsReAuth;\n                        if (!(shouldCreateStickyConnection || connection._sticky)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, connection.release()];\n                    case 1:\n                        _b.sent();\n                        throw (0, neo4j_driver_core_1.newError)('Driver is connected to a database that does not support user switch.');\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // purge all idle connections in the connection pool\n                    return [4 /*yield*/, this._connectionPool.close()\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                    ];\n                    case 1:\n                        // purge all idle connections in the connection pool\n                        _a.sent();\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                        return [4 /*yield*/, Promise.all(Object.values(this._openConnections).map(function (c) { return c.close(); }))];\n                    case 2:\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider._installIdleObserverOnConnection = function (conn, observer) {\n        conn._setIdle(observer);\n    };\n    PooledConnectionProvider._removeIdleObserverOnConnection = function (conn) {\n        conn._unsetIdle();\n    };\n    PooledConnectionProvider.prototype._handleSecurityError = function (error, address, connection) {\n        var handled = this._authenticationProvider.handleError({ connection: connection, code: error.code });\n        if (handled) {\n            error.retriable = true;\n        }\n        if (error.code === 'Neo.ClientError.Security.AuthorizationExpired') {\n            this._connectionPool.apply(address, function (conn) { conn.authToken = null; });\n        }\n        if (connection) {\n            connection.close().catch(function () { return undefined; });\n        }\n        return error;\n    };\n    return PooledConnectionProvider;\n}(neo4j_driver_core_1.ConnectionProvider));\nexports[\"default\"] = PooledConnectionProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXBvb2xlZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLE9BQU87QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBZTtBQUMxQywwQkFBMEIsbUJBQU8sQ0FBQyxvRkFBUztBQUMzQywwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQsZ0RBQWdELG1CQUFPLENBQUMsdUlBQTJCO0FBQ25GLGFBQWEsbUJBQU8sQ0FBQyxvRkFBUztBQUM5QixnREFBZ0QsbUJBQU8sQ0FBQyx1SUFBMkI7QUFDbkYsa0RBQWtELG1CQUFPLENBQUMsMklBQTZCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1QkFBdUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRiw0REFBNEQ7QUFDL0ksZ0ZBQWdGLGdGQUFnRjtBQUNoSywrRUFBK0UsdUVBQXVFO0FBQ3RKO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxvQ0FBb0M7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLHNEQUFzRDtBQUMvSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsOEJBQThCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYseUVBQXlFO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsWUFBWSxhQUFhLGtCQUFrQjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3R0FBd0csd0JBQXdCO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpSEFBaUgsbUJBQW1CO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSwwQ0FBMEM7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0Usd0JBQXdCO0FBQzFGO0FBQ0E7QUFDQSxtREFBbUQsbUJBQW1CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXBvb2xlZC5qcz9mYzY4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb25uZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vY29ubmVjdGlvblwiKTtcbnZhciBwb29sXzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4uL3Bvb2xcIikpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgYXV0aGVudGljYXRpb25fcHJvdmlkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9hdXRoZW50aWNhdGlvbi1wcm92aWRlclwiKSk7XG52YXIgbGFuZ18xID0gcmVxdWlyZShcIi4uL2xhbmdcIik7XG52YXIgbGl2ZW5lc3NfY2hlY2tfcHJvdmlkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9saXZlbmVzcy1jaGVjay1wcm92aWRlclwiKSk7XG52YXIgY2xpZW50X2NlcnRpZmljYXRlX2hvbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NsaWVudC1jZXJ0aWZpY2F0ZS1ob2xkZXJcIikpO1xudmFyIFNFUlZJQ0VfVU5BVkFJTEFCTEUgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlNFUlZJQ0VfVU5BVkFJTEFCTEU7XG52YXIgQVVUSEVOVElDQVRJT05fRVJST1JTID0gW1xuICAgICdOZW8uQ2xpZW50RXJyb3IuU2VjdXJpdHkuQ3JlZGVudGlhbHNFeHBpcmVkJyxcbiAgICAnTmVvLkNsaWVudEVycm9yLlNlY3VyaXR5LkZvcmJpZGRlbicsXG4gICAgJ05lby5DbGllbnRFcnJvci5TZWN1cml0eS5Ub2tlbkV4cGlyZWQnLFxuICAgICdOZW8uQ2xpZW50RXJyb3IuU2VjdXJpdHkuVW5hdXRob3JpemVkJ1xuXTtcbnZhciBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIoX2EsIGNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uSG9vaykge1xuICAgICAgICB2YXIgaWQgPSBfYS5pZCwgY29uZmlnID0gX2EuY29uZmlnLCBsb2cgPSBfYS5sb2csIHVzZXJBZ2VudCA9IF9hLnVzZXJBZ2VudCwgYm9sdEFnZW50ID0gX2EuYm9sdEFnZW50LCBhdXRoVG9rZW5NYW5hZ2VyID0gX2EuYXV0aFRva2VuTWFuYWdlciwgX2IgPSBfYS5uZXdQb29sLCBuZXdQb29sID0gX2IgPT09IHZvaWQgMCA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgKHBvb2xfMS5kZWZhdWx0LmJpbmQuYXBwbHkocG9vbF8xLmRlZmF1bHQsIF9fc3ByZWFkQXJyYXkoW3ZvaWQgMF0sIF9fcmVhZChhcmdzKSwgZmFsc2UpKSkoKTtcbiAgICAgICAgfSA6IF9iO1xuICAgICAgICBpZiAoY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb25Ib29rID09PSB2b2lkIDApIHsgY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb25Ib29rID0gbnVsbDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faWQgPSBpZDtcbiAgICAgICAgX3RoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgX3RoaXMuX2xvZyA9IGxvZztcbiAgICAgICAgX3RoaXMuX2NsaWVudENlcnRpZmljYXRlSG9sZGVyID0gbmV3IGNsaWVudF9jZXJ0aWZpY2F0ZV9ob2xkZXJfMS5kZWZhdWx0KHsgY2xpZW50Q2VydGlmaWNhdGVQcm92aWRlcjogX3RoaXMuX2NvbmZpZy5jbGllbnRDZXJ0aWZpY2F0ZSB9KTtcbiAgICAgICAgX3RoaXMuX2F1dGhlbnRpY2F0aW9uUHJvdmlkZXIgPSBuZXcgYXV0aGVudGljYXRpb25fcHJvdmlkZXJfMS5kZWZhdWx0KHsgYXV0aFRva2VuTWFuYWdlcjogYXV0aFRva2VuTWFuYWdlciwgdXNlckFnZW50OiB1c2VyQWdlbnQsIGJvbHRBZ2VudDogYm9sdEFnZW50IH0pO1xuICAgICAgICBfdGhpcy5fbGl2ZW5lc3NDaGVja1Byb3ZpZGVyID0gbmV3IGxpdmVuZXNzX2NoZWNrX3Byb3ZpZGVyXzEuZGVmYXVsdCh7IGNvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dDogY29uZmlnLmNvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dCB9KTtcbiAgICAgICAgX3RoaXMuX3VzZXJBZ2VudCA9IHVzZXJBZ2VudDtcbiAgICAgICAgX3RoaXMuX2JvbHRBZ2VudCA9IGJvbHRBZ2VudDtcbiAgICAgICAgX3RoaXMuX2NyZWF0ZUNoYW5uZWxDb25uZWN0aW9uID1cbiAgICAgICAgICAgIGNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uSG9vayB8fFxuICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoYWRkcmVzcykgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYSA9IGNvbm5lY3Rpb25fMS5jcmVhdGVDaGFubmVsQ29ubmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSBbYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUNvbm5lY3Rpb25FcnJvckhhbmRsZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2NsaWVudENlcnRpZmljYXRlSG9sZGVyLmdldENsaWVudENlcnRpZmljYXRlKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLmFwcGx5KHZvaWQgMCwgX2IuY29uY2F0KFtfYy5zZW50KCldKSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgIF90aGlzLl9jb25uZWN0aW9uUG9vbCA9IG5ld1Bvb2woe1xuICAgICAgICAgICAgY3JlYXRlOiBfdGhpcy5fY3JlYXRlQ29ubmVjdGlvbi5iaW5kKF90aGlzKSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IF90aGlzLl9kZXN0cm95Q29ubmVjdGlvbi5iaW5kKF90aGlzKSxcbiAgICAgICAgICAgIHZhbGlkYXRlT25BY3F1aXJlOiBfdGhpcy5fdmFsaWRhdGVDb25uZWN0aW9uT25BY3F1aXJlLmJpbmQoX3RoaXMpLFxuICAgICAgICAgICAgdmFsaWRhdGVPblJlbGVhc2U6IF90aGlzLl92YWxpZGF0ZUNvbm5lY3Rpb25PblJlbGVhc2UuYmluZChfdGhpcyksXG4gICAgICAgICAgICBpbnN0YWxsSWRsZU9ic2VydmVyOiBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIuX2luc3RhbGxJZGxlT2JzZXJ2ZXJPbkNvbm5lY3Rpb24uYmluZChfdGhpcyksXG4gICAgICAgICAgICByZW1vdmVJZGxlT2JzZXJ2ZXI6IFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5fcmVtb3ZlSWRsZU9ic2VydmVyT25Db25uZWN0aW9uLmJpbmQoX3RoaXMpLFxuICAgICAgICAgICAgY29uZmlnOiBwb29sXzEuUG9vbENvbmZpZy5mcm9tRHJpdmVyQ29uZmlnKGNvbmZpZyksXG4gICAgICAgICAgICBsb2c6IF90aGlzLl9sb2dcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLl9vcGVuQ29ubmVjdGlvbnMgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IGNvbm5lY3Rpb25fMS5Db25uZWN0aW9uRXJyb3JIYW5kbGVyKFNFUlZJQ0VfVU5BVkFJTEFCTEUpO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fZ2V0Q2xpZW50Q2VydGlmaWNhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5fY29uZmlnLmNsaWVudENlcnRpZmljYXRlLmdldENsaWVudENlcnRpZmljYXRlKCldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbm5lY3Rpb24gYW5kIGluaXRpYWxpemUgaXQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxDb25uZWN0aW9uPn0gcHJvbWlzZSByZXNvbHZlZCB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gb3IgcmVqZWN0ZWQgd2hlbiBmYWlsZWQgdG8gY29ubmVjdC5cbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24gKF9hLCBhZGRyZXNzLCByZWxlYXNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhdXRoID0gX2EuYXV0aDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUNoYW5uZWxDb25uZWN0aW9uKGFkZHJlc3MpLnRoZW4oZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24ucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLmlkbGVUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWxlYXNlKGFkZHJlc3MsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLl9vcGVuQ29ubmVjdGlvbnNbY29ubmVjdGlvbi5pZF0gPSBjb25uZWN0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9hdXRoZW50aWNhdGlvblByb3ZpZGVyLmF1dGhlbnRpY2F0ZSh7IGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sIGF1dGg6IGF1dGggfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0J3MgZGVzdHJveSB0aGlzIGNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICBfdGhpcy5fZGVzdHJveUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gcHJvcGFnYXRlIHRoZSBlcnJvciBiZWNhdXNlIGNvbm5lY3Rpb24gZmFpbGVkIHRvIGNvbm5lY3QgLyBpbml0aWFsaXplXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl92YWxpZGF0ZUNvbm5lY3Rpb25PbkFjcXVpcmUgPSBmdW5jdGlvbiAoX2EsIGNvbm4pIHtcbiAgICAgICAgdmFyIGF1dGggPSBfYS5hdXRoLCBza2lwUmVBdXRoID0gX2Euc2tpcFJlQXV0aDtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVycm9yXzEsIGVycm9yXzI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlQ29ubmVjdGlvbihjb25uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9saXZlbmVzc0NoZWNrUHJvdmlkZXIuY2hlY2soY29ubildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5kZWJ1ZyhcIlRoZSBjb25uZWN0aW9uIFwiLmNvbmNhdChjb25uLmlkLCBcIiBpcyBub3QgYWxpdmUgYmVjYXVzZSBvZiBhbiBlcnJvciBcIikuY29uY2F0KGVycm9yXzEuY29kZSwgXCIgJ1wiKS5jb25jYXQoZXJyb3JfMS5tZXNzYWdlLCBcIidcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs0LCA2LCAsIDddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2F1dGhlbnRpY2F0aW9uUHJvdmlkZXIuYXV0aGVudGljYXRlKHsgY29ubmVjdGlvbjogY29ubiwgYXV0aDogYXV0aCwgc2tpcFJlQXV0aDogc2tpcFJlQXV0aCB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5kZWJ1ZyhcIlRoZSBjb25uZWN0aW9uIFwiLmNvbmNhdChjb25uLmlkLCBcIiBpcyBub3QgdmFsaWQgYmVjYXVzZSBvZiBhbiBlcnJvciBcIikuY29uY2F0KGVycm9yXzIuY29kZSwgXCIgJ1wiKS5jb25jYXQoZXJyb3JfMi5tZXNzYWdlLCBcIidcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fdmFsaWRhdGVDb25uZWN0aW9uT25SZWxlYXNlID0gZnVuY3Rpb24gKGNvbm4pIHtcbiAgICAgICAgcmV0dXJuIGNvbm4uX3N0aWNreSAhPT0gdHJ1ZSAmJiB0aGlzLl92YWxpZGF0ZUNvbm5lY3Rpb24oY29ubik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGF0IGEgY29ubmVjdGlvbiBpcyB1c2FibGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb25uZWN0aW9uIGlzIG9wZW5cbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKiovXG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fdmFsaWRhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24gKGNvbm4pIHtcbiAgICAgICAgaWYgKCFjb25uLmlzT3BlbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heENvbm5lY3Rpb25MaWZldGltZSA9IHRoaXMuX2NvbmZpZy5tYXhDb25uZWN0aW9uTGlmZXRpbWU7XG4gICAgICAgIHZhciBsaWZldGltZSA9IERhdGUubm93KCkgLSBjb25uLmNyZWF0aW9uVGltZXN0YW1wO1xuICAgICAgICBpZiAobGlmZXRpbWUgPiBtYXhDb25uZWN0aW9uTGlmZXRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgYSBjb25uZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge0Nvbm5lY3Rpb259IHRoZSBjb25uZWN0aW9uIHRvIGRpc3Bvc2UuXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fZGVzdHJveUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoY29ubikge1xuICAgICAgICBkZWxldGUgdGhpcy5fb3BlbkNvbm5lY3Rpb25zW2Nvbm4uaWRdO1xuICAgICAgICByZXR1cm4gY29ubi5jbG9zZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWNxdWlyZSBhIGNvbm5lY3Rpb24gZnJvbSB0aGUgcG9vbCBhbmQgcmV0dXJuIGl0IFNlcnZlckluZm9cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0uYWRkcmVzcyB0aGUgc2VydmVyIGFkZHJlc3NcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFNlcnZlckluZm8+fSB0aGUgc2VydmVyIGluZm9cbiAgICAgKi9cbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl92ZXJpZnlDb25uZWN0aXZpdHlBbmRHZXRTZXJ2ZXJWZXJzaW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBhZGRyZXNzID0gX2EuYWRkcmVzcztcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb24sIHNlcnZlckluZm87XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLmFjcXVpcmUoe30sIGFkZHJlc3MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckluZm8gPSBuZXcgbmVvNGpfZHJpdmVyX2NvcmVfMS5TZXJ2ZXJJbmZvKGNvbm5lY3Rpb24uc2VydmVyLCBjb25uZWN0aW9uLnByb3RvY29sKCkudmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMiwgLCA1LCA3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFjb25uZWN0aW9uLnByb3RvY29sKCkuaXNMYXN0TWVzc2FnZUxvZ29uKCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29ubmVjdGlvbi5yZXNldEFuZEZsdXNoKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFs0IC8qeWllbGQqLywgY29ubmVjdGlvbi5yZWxlYXNlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHJldHVybiBbMiAvKnJldHVybiovLCBzZXJ2ZXJJbmZvXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl92ZXJpZnlBdXRoZW50aWNhdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZ2V0QWRkcmVzcyA9IF9hLmdldEFkZHJlc3MsIGF1dGggPSBfYS5hdXRoO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29ubmVjdGlvbnNUb1JlbGVhc2UsIGFkZHJlc3MsIGNvbm5lY3Rpb24sIGxhc3RNZXNzYWdlSXNOb3RMb2dpbiwgc3RpY2t5Q29ubmVjdGlvbiwgZXJyb3JfMztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zVG9SZWxlYXNlID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgOCwgOSwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldEFkZHJlc3MoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jb25uZWN0aW9uUG9vbC5hY3F1aXJlKHsgYXV0aDogYXV0aCwgc2tpcFJlQXV0aDogdHJ1ZSB9LCBhZGRyZXNzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1RvUmVsZWFzZS5wdXNoKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VJc05vdExvZ2luID0gIWNvbm5lY3Rpb24ucHJvdG9jb2woKS5pc0xhc3RNZXNzYWdlTG9nb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29ubmVjdGlvbi5zdXBwb3J0c1JlQXV0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnRHJpdmVyIGlzIGNvbm5lY3RlZCB0byBhIGRhdGFiYXNlIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB1c2VyIHN3aXRjaC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGxhc3RNZXNzYWdlSXNOb3RMb2dpbiAmJiBjb25uZWN0aW9uLnN1cHBvcnRzUmVBdXRoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9hdXRoZW50aWNhdGlvblByb3ZpZGVyLmF1dGhlbnRpY2F0ZSh7IGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sIGF1dGg6IGF1dGgsIHdhaXRSZUF1dGg6IHRydWUsIGZvcmNlUmVBdXRoOiB0cnVlIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGxhc3RNZXNzYWdlSXNOb3RMb2dpbiAmJiAhY29ubmVjdGlvbi5zdXBwb3J0c1JlQXV0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY29ubmVjdGlvblBvb2wuYWNxdWlyZSh7IGF1dGg6IGF1dGggfSwgYWRkcmVzcywgeyByZXF1aXJlTmV3OiB0cnVlIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RpY2t5Q29ubmVjdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0aWNreUNvbm5lY3Rpb24uX3N0aWNreSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1RvUmVsZWFzZS5wdXNoKHN0aWNreUNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA3O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBVVRIRU5USUNBVElPTl9FUlJPUlMuaW5jbHVkZXMoZXJyb3JfMy5jb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcl8zO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKGNvbm5lY3Rpb25zVG9SZWxlYXNlLm1hcChmdW5jdGlvbiAoY29ubikgeyByZXR1cm4gY29ubi5yZWxlYXNlKCk7IH0pKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fdmVyaWZ5U3RpY2t5Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgYXV0aCA9IF9hLmF1dGgsIGNvbm5lY3Rpb24gPSBfYS5jb25uZWN0aW9uLCBhZGRyZXNzID0gX2EuYWRkcmVzcztcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb25XaXRoU2FtZUNyZWRlbnRpYWxzLCBzaG91bGRDcmVhdGVTdGlja3lDb25uZWN0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbldpdGhTYW1lQ3JlZGVudGlhbHMgPSBsYW5nXzEub2JqZWN0LmVxdWFscyhhdXRoLCBjb25uZWN0aW9uLmF1dGhUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRDcmVhdGVTdGlja3lDb25uZWN0aW9uID0gIWNvbm5lY3Rpb25XaXRoU2FtZUNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5fc3RpY2t5ID0gY29ubmVjdGlvbldpdGhTYW1lQ3JlZGVudGlhbHMgJiYgIWNvbm5lY3Rpb24uc3VwcG9ydHNSZUF1dGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShzaG91bGRDcmVhdGVTdGlja3lDb25uZWN0aW9uIHx8IGNvbm5lY3Rpb24uX3N0aWNreSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29ubmVjdGlvbi5yZWxlYXNlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0RyaXZlciBpcyBjb25uZWN0ZWQgdG8gYSBkYXRhYmFzZSB0aGF0IGRvZXMgbm90IHN1cHBvcnQgdXNlciBzd2l0Y2guJyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBvb2xlZENvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogXG4gICAgICAgICAgICAgICAgICAgIC8vIHB1cmdlIGFsbCBpZGxlIGNvbm5lY3Rpb25zIGluIHRoZSBjb25uZWN0aW9uIHBvb2xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY29ubmVjdGlvblBvb2wuY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiBjbG9zZSBhbGwgY29ubmVjdGlvbnMgZHJpdmVyIGhhcyBldmVyIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IGlzIG5lZWRlZCB0byBjbG9zZSBjb25uZWN0aW9ucyB0aGF0IGFyZSBhY3RpdmUgcmlnaHQgbm93IGFuZCBhcmUgYWNxdWlyZWQgZnJvbSB0aGUgcG9vbFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwdXJnZSBhbGwgaWRsZSBjb25uZWN0aW9ucyBpbiB0aGUgY29ubmVjdGlvbiBwb29sXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIGNsb3NlIGFsbCBjb25uZWN0aW9ucyBkcml2ZXIgaGFzIGV2ZXIgY3JlYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgaXMgbmVlZGVkIHRvIGNsb3NlIGNvbm5lY3Rpb25zIHRoYXQgYXJlIGFjdGl2ZSByaWdodCBub3cgYW5kIGFyZSBhY3F1aXJlZCBmcm9tIHRoZSBwb29sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChPYmplY3QudmFsdWVzKHRoaXMuX29wZW5Db25uZWN0aW9ucykubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmNsb3NlKCk7IH0pKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gY2xvc2UgYWxsIGNvbm5lY3Rpb25zIGRyaXZlciBoYXMgZXZlciBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBpcyBuZWVkZWQgdG8gY2xvc2UgY29ubmVjdGlvbnMgdGhhdCBhcmUgYWN0aXZlIHJpZ2h0IG5vdyBhbmQgYXJlIGFjcXVpcmVkIGZyb20gdGhlIHBvb2xcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIuX2luc3RhbGxJZGxlT2JzZXJ2ZXJPbkNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoY29ubiwgb2JzZXJ2ZXIpIHtcbiAgICAgICAgY29ubi5fc2V0SWRsZShvYnNlcnZlcik7XG4gICAgfTtcbiAgICBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIuX3JlbW92ZUlkbGVPYnNlcnZlck9uQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChjb25uKSB7XG4gICAgICAgIGNvbm4uX3Vuc2V0SWRsZSgpO1xuICAgIH07XG4gICAgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFuZGxlU2VjdXJpdHlFcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbikge1xuICAgICAgICB2YXIgaGFuZGxlZCA9IHRoaXMuX2F1dGhlbnRpY2F0aW9uUHJvdmlkZXIuaGFuZGxlRXJyb3IoeyBjb25uZWN0aW9uOiBjb25uZWN0aW9uLCBjb2RlOiBlcnJvci5jb2RlIH0pO1xuICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgZXJyb3IucmV0cmlhYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ05lby5DbGllbnRFcnJvci5TZWN1cml0eS5BdXRob3JpemF0aW9uRXhwaXJlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLmFwcGx5KGFkZHJlc3MsIGZ1bmN0aW9uIChjb25uKSB7IGNvbm4uYXV0aFRva2VuID0gbnVsbDsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKS5jYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9O1xuICAgIHJldHVybiBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXI7XG59KG5lbzRqX2RyaXZlcl9jb3JlXzEuQ29ubmVjdGlvblByb3ZpZGVyKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar rediscovery_1 = __importStar(__webpack_require__(/*! ../rediscovery */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js\"));\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar connection_provider_single_1 = __importDefault(__webpack_require__(/*! ./connection-provider-single */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js\"));\nvar connection_provider_pooled_1 = __importDefault(__webpack_require__(/*! ./connection-provider-pooled */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\"));\nvar load_balancing_1 = __webpack_require__(/*! ../load-balancing */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js\");\nvar connection_1 = __webpack_require__(/*! ../connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\");\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE, SESSION_EXPIRED = neo4j_driver_core_1.error.SESSION_EXPIRED;\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, READ = _a.ACCESS_MODE_READ, WRITE = _a.ACCESS_MODE_WRITE, BOLT_PROTOCOL_V3 = _a.BOLT_PROTOCOL_V3, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4, BOLT_PROTOCOL_V5_1 = _a.BOLT_PROTOCOL_V5_1;\nvar PROCEDURE_NOT_FOUND_CODE = 'Neo.ClientError.Procedure.ProcedureNotFound';\nvar DATABASE_NOT_FOUND_CODE = 'Neo.ClientError.Database.DatabaseNotFound';\nvar INVALID_BOOKMARK_CODE = 'Neo.ClientError.Transaction.InvalidBookmark';\nvar INVALID_BOOKMARK_MIXTURE_CODE = 'Neo.ClientError.Transaction.InvalidBookmarkMixture';\nvar AUTHORIZATION_EXPIRED_CODE = 'Neo.ClientError.Security.AuthorizationExpired';\nvar INVALID_ARGUMENT_ERROR = 'Neo.ClientError.Statement.ArgumentError';\nvar INVALID_REQUEST_ERROR = 'Neo.ClientError.Request.Invalid';\nvar STATEMENT_TYPE_ERROR = 'Neo.ClientError.Statement.TypeError';\nvar NOT_AVAILABLE = 'N/A';\nvar SYSTEM_DB_NAME = 'system';\nvar DEFAULT_DB_NAME = null;\nvar DEFAULT_ROUTING_TABLE_PURGE_DELAY = (0, neo4j_driver_core_1.int)(30000);\nvar RoutingConnectionProvider = /** @class */ (function (_super) {\n    __extends(RoutingConnectionProvider, _super);\n    function RoutingConnectionProvider(_a) {\n        var id = _a.id, address = _a.address, routingContext = _a.routingContext, hostNameResolver = _a.hostNameResolver, config = _a.config, log = _a.log, userAgent = _a.userAgent, boltAgent = _a.boltAgent, authTokenManager = _a.authTokenManager, routingTablePurgeDelay = _a.routingTablePurgeDelay, newPool = _a.newPool;\n        var _this = _super.call(this, { id: id, config: config, log: log, userAgent: userAgent, boltAgent: boltAgent, authTokenManager: authTokenManager, newPool: newPool }, function (address) { return __awaiter(_this, void 0, void 0, function () {\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = connection_1.createChannelConnection;\n                        _b = [address,\n                            this._config,\n                            this._createConnectionErrorHandler(),\n                            this._log];\n                        return [4 /*yield*/, this._clientCertificateHolder.getClientCertificate()];\n                    case 1: return [2 /*return*/, _a.apply(void 0, _b.concat([_c.sent(), this._routingContext]))];\n                }\n            });\n        }); }) || this;\n        _this._routingContext = __assign(__assign({}, routingContext), { address: address.toString() });\n        _this._seedRouter = address;\n        _this._rediscovery = new rediscovery_1.default(_this._routingContext);\n        _this._loadBalancingStrategy = new load_balancing_1.LeastConnectedLoadBalancingStrategy(_this._connectionPool);\n        _this._hostNameResolver = hostNameResolver;\n        _this._dnsResolver = new channel_1.HostNameResolver();\n        _this._log = log;\n        _this._useSeedRouter = true;\n        _this._routingTableRegistry = new RoutingTableRegistry(routingTablePurgeDelay\n            ? (0, neo4j_driver_core_1.int)(routingTablePurgeDelay)\n            : DEFAULT_ROUTING_TABLE_PURGE_DELAY);\n        _this._refreshRoutingTable = lang_1.functional.reuseOngoingRequest(_this._refreshRoutingTable, _this);\n        return _this;\n    }\n    RoutingConnectionProvider.prototype._createConnectionErrorHandler = function () {\n        // connection errors mean SERVICE_UNAVAILABLE for direct driver but for routing driver they should only\n        // result in SESSION_EXPIRED because there might still exist other servers capable of serving the request\n        return new connection_1.ConnectionErrorHandler(SESSION_EXPIRED);\n    };\n    RoutingConnectionProvider.prototype._handleUnavailability = function (error, address, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will forget \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this.forget(address, database || DEFAULT_DB_NAME);\n        return error;\n    };\n    RoutingConnectionProvider.prototype._handleSecurityError = function (error, address, connection, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will close connections to \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        return _super.prototype._handleSecurityError.call(this, error, address, connection, database);\n    };\n    RoutingConnectionProvider.prototype._handleWriteFailure = function (error, address, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will forget writer \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this.forgetWriter(address, database || DEFAULT_DB_NAME);\n        return (0, neo4j_driver_core_1.newError)('No longer possible to write to server at ' + address, SESSION_EXPIRED, error);\n    };\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    RoutingConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, impersonatedUser = _b.impersonatedUser, onDatabaseNameResolved = _b.onDatabaseNameResolved, auth = _b.auth;\n        return __awaiter(this, void 0, void 0, function () {\n            var name, address, context, databaseSpecificErrorHandler, routingTable, connection, error_1, transformed;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        context = { database: database || DEFAULT_DB_NAME };\n                        databaseSpecificErrorHandler = new connection_1.ConnectionErrorHandler(SESSION_EXPIRED, function (error, address) { return _this._handleUnavailability(error, address, context.database); }, function (error, address) { return _this._handleWriteFailure(error, address, context.database); }, function (error, address, conn) {\n                            return _this._handleSecurityError(error, address, conn, context.database);\n                        });\n                        return [4 /*yield*/, this._freshRoutingTable({\n                                accessMode: accessMode,\n                                database: context.database,\n                                bookmarks: bookmarks,\n                                impersonatedUser: impersonatedUser,\n                                auth: auth,\n                                onDatabaseNameResolved: function (databaseName) {\n                                    context.database = context.database || databaseName;\n                                    if (onDatabaseNameResolved) {\n                                        onDatabaseNameResolved(databaseName);\n                                    }\n                                }\n                            })\n                            // select a target server based on specified access mode\n                        ];\n                    case 1:\n                        routingTable = _c.sent();\n                        // select a target server based on specified access mode\n                        if (accessMode === READ) {\n                            address = this._loadBalancingStrategy.selectReader(routingTable.readers);\n                            name = 'read';\n                        }\n                        else if (accessMode === WRITE) {\n                            address = this._loadBalancingStrategy.selectWriter(routingTable.writers);\n                            name = 'write';\n                        }\n                        else {\n                            throw (0, neo4j_driver_core_1.newError)('Illegal mode ' + accessMode);\n                        }\n                        // we couldn't select a target server\n                        if (!address) {\n                            throw (0, neo4j_driver_core_1.newError)(\"Failed to obtain connection towards \".concat(name, \" server. Known routing table is: \").concat(routingTable), SESSION_EXPIRED);\n                        }\n                        _c.label = 2;\n                    case 2:\n                        _c.trys.push([2, 6, , 7]);\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth }, address)];\n                    case 3:\n                        connection = _c.sent();\n                        if (!auth) return [3 /*break*/, 5];\n                        return [4 /*yield*/, this._verifyStickyConnection({\n                                auth: auth,\n                                connection: connection,\n                                address: address\n                            })];\n                    case 4:\n                        _c.sent();\n                        return [2 /*return*/, connection];\n                    case 5: return [2 /*return*/, new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler)];\n                    case 6:\n                        error_1 = _c.sent();\n                        transformed = databaseSpecificErrorHandler.handleAndTransformError(error_1, address);\n                        throw transformed;\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._hasProtocolVersion = function (versionPredicate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var addresses, lastError, i, connection, protocolVersion, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._resolveSeedRouter(this._seedRouter)];\n                    case 1:\n                        addresses = _a.sent();\n                        i = 0;\n                        _a.label = 2;\n                    case 2:\n                        if (!(i < addresses.length)) return [3 /*break*/, 8];\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 6, , 7]);\n                        return [4 /*yield*/, this._createChannelConnection(addresses[i])];\n                    case 4:\n                        connection = _a.sent();\n                        protocolVersion = connection.protocol()\n                            ? connection.protocol().version\n                            : null;\n                        return [4 /*yield*/, connection.close()];\n                    case 5:\n                        _a.sent();\n                        if (protocolVersion) {\n                            return [2 /*return*/, versionPredicate(protocolVersion)];\n                        }\n                        return [2 /*return*/, false];\n                    case 6:\n                        error_2 = _a.sent();\n                        lastError = error_2;\n                        return [3 /*break*/, 7];\n                    case 7:\n                        i++;\n                        return [3 /*break*/, 2];\n                    case 8:\n                        if (lastError) {\n                            throw lastError;\n                        }\n                        return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsMultiDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_0; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsTransactionConfig = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V3; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsUserImpersonation = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_4; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsSessionAuth = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V5_1; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.getNegotiatedProtocolVersion = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._hasProtocolVersion(resolve)\n                .catch(reject);\n        });\n    };\n    RoutingConnectionProvider.prototype.verifyAuthentication = function (_a) {\n        var database = _a.database, accessMode = _a.accessMode, auth = _a.auth;\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_b) {\n                return [2 /*return*/, this._verifyAuthentication({\n                        auth: auth,\n                        getAddress: function () { return __awaiter(_this, void 0, void 0, function () {\n                            var context, routingTable, servers;\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0:\n                                        context = { database: database || DEFAULT_DB_NAME };\n                                        return [4 /*yield*/, this._freshRoutingTable({\n                                                accessMode: accessMode,\n                                                database: context.database,\n                                                auth: auth,\n                                                onDatabaseNameResolved: function (databaseName) {\n                                                    context.database = context.database || databaseName;\n                                                }\n                                            })];\n                                    case 1:\n                                        routingTable = _a.sent();\n                                        servers = accessMode === WRITE ? routingTable.writers : routingTable.readers;\n                                        if (servers.length === 0) {\n                                            throw (0, neo4j_driver_core_1.newError)(\"No servers available for database '\".concat(context.database, \"' with access mode '\").concat(accessMode, \"'\"), SERVICE_UNAVAILABLE);\n                                        }\n                                        return [2 /*return*/, servers[0]];\n                                }\n                            });\n                        }); }\n                    })];\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.verifyConnectivityAndGetServerInfo = function (_a) {\n        var database = _a.database, accessMode = _a.accessMode;\n        return __awaiter(this, void 0, void 0, function () {\n            var context, routingTable, servers, error, servers_1, servers_1_1, address, serverInfo, e_1, e_2_1;\n            var e_2, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        context = { database: database || DEFAULT_DB_NAME };\n                        return [4 /*yield*/, this._freshRoutingTable({\n                                accessMode: accessMode,\n                                database: context.database,\n                                onDatabaseNameResolved: function (databaseName) {\n                                    context.database = context.database || databaseName;\n                                }\n                            })];\n                    case 1:\n                        routingTable = _c.sent();\n                        servers = accessMode === WRITE ? routingTable.writers : routingTable.readers;\n                        error = (0, neo4j_driver_core_1.newError)(\"No servers available for database '\".concat(context.database, \"' with access mode '\").concat(accessMode, \"'\"), SERVICE_UNAVAILABLE);\n                        _c.label = 2;\n                    case 2:\n                        _c.trys.push([2, 9, 10, 11]);\n                        servers_1 = __values(servers), servers_1_1 = servers_1.next();\n                        _c.label = 3;\n                    case 3:\n                        if (!!servers_1_1.done) return [3 /*break*/, 8];\n                        address = servers_1_1.value;\n                        _c.label = 4;\n                    case 4:\n                        _c.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this._verifyConnectivityAndGetServerVersion({ address: address })];\n                    case 5:\n                        serverInfo = _c.sent();\n                        return [2 /*return*/, serverInfo];\n                    case 6:\n                        e_1 = _c.sent();\n                        error = e_1;\n                        return [3 /*break*/, 7];\n                    case 7:\n                        servers_1_1 = servers_1.next();\n                        return [3 /*break*/, 3];\n                    case 8: return [3 /*break*/, 11];\n                    case 9:\n                        e_2_1 = _c.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3 /*break*/, 11];\n                    case 10:\n                        try {\n                            if (servers_1_1 && !servers_1_1.done && (_b = servers_1.return)) _b.call(servers_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                        return [7 /*endfinally*/];\n                    case 11: throw error;\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.forget = function (address, database) {\n        this._routingTableRegistry.apply(database, {\n            applyWhenExists: function (routingTable) { return routingTable.forget(address); }\n        });\n        // We're firing and forgetting this operation explicitly and listening for any\n        // errors to avoid unhandled promise rejection\n        this._connectionPool.purge(address).catch(function () { });\n    };\n    RoutingConnectionProvider.prototype.forgetWriter = function (address, database) {\n        this._routingTableRegistry.apply(database, {\n            applyWhenExists: function (routingTable) { return routingTable.forgetWriter(address); }\n        });\n    };\n    RoutingConnectionProvider.prototype._freshRoutingTable = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, impersonatedUser = _b.impersonatedUser, onDatabaseNameResolved = _b.onDatabaseNameResolved, auth = _b.auth;\n        var currentRoutingTable = this._routingTableRegistry.get(database, function () { return new rediscovery_1.RoutingTable({ database: database }); });\n        if (!currentRoutingTable.isStaleFor(accessMode)) {\n            return currentRoutingTable;\n        }\n        this._log.info(\"Routing table is stale for database: \\\"\".concat(database, \"\\\" and access mode: \\\"\").concat(accessMode, \"\\\": \").concat(currentRoutingTable));\n        return this._refreshRoutingTable(currentRoutingTable, bookmarks, impersonatedUser, auth)\n            .then(function (newRoutingTable) {\n            onDatabaseNameResolved(newRoutingTable.database);\n            return newRoutingTable;\n        });\n    };\n    RoutingConnectionProvider.prototype._refreshRoutingTable = function (currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        var knownRouters = currentRoutingTable.routers;\n        if (this._useSeedRouter) {\n            return this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth);\n        }\n        return this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth);\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var seenRouters, _a, newRoutingTable, error, _b, newRoutingTable2, error2;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        seenRouters = [];\n                        return [4 /*yield*/, this._fetchRoutingTableUsingSeedRouter(seenRouters, this._seedRouter, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 1:\n                        _a = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (!newRoutingTable) return [3 /*break*/, 2];\n                        this._useSeedRouter = false;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this._fetchRoutingTableUsingKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 3:\n                        _b = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable2 = _b[0], error2 = _b[1];\n                        newRoutingTable = newRoutingTable2;\n                        error = error2 || error;\n                        _c.label = 4;\n                    case 4: return [4 /*yield*/, this._applyRoutingTableIfPossible(currentRoutingTable, newRoutingTable, error)];\n                    case 5: return [2 /*return*/, _c.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, newRoutingTable, error;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, this._fetchRoutingTableUsingKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 1:\n                        _a = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (!!newRoutingTable) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._fetchRoutingTableUsingSeedRouter(knownRouters, this._seedRouter, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 2:\n                        // none of the known routers returned a valid routing table - try to use seed router address for rediscovery\n                        _b = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _b[0], error = _b[1];\n                        _c.label = 3;\n                    case 3: return [4 /*yield*/, this._applyRoutingTableIfPossible(currentRoutingTable, newRoutingTable, error)];\n                    case 4: return [2 /*return*/, _c.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableUsingKnownRouters = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, newRoutingTable, error, lastRouterIndex;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._fetchRoutingTable(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, auth)];\n                    case 1:\n                        _a = __read.apply(void 0, [_b.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (newRoutingTable) {\n                            // one of the known routers returned a valid routing table - use it\n                            return [2 /*return*/, [newRoutingTable, null]];\n                        }\n                        lastRouterIndex = knownRouters.length - 1;\n                        RoutingConnectionProvider._forgetRouter(currentRoutingTable, knownRouters, lastRouterIndex);\n                        return [2 /*return*/, [null, error]];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableUsingSeedRouter = function (seenRouters, seedRouter, routingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolvedAddresses, newAddresses;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._resolveSeedRouter(seedRouter)\n                        // filter out all addresses that we've already tried\n                    ];\n                    case 1:\n                        resolvedAddresses = _a.sent();\n                        newAddresses = resolvedAddresses.filter(function (address) { return seenRouters.indexOf(address) < 0; });\n                        return [4 /*yield*/, this._fetchRoutingTable(newAddresses, routingTable, bookmarks, impersonatedUser, auth)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._resolveSeedRouter = function (seedRouter) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolvedAddresses, dnsResolvedAddresses;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hostNameResolver.resolve(seedRouter)];\n                    case 1:\n                        resolvedAddresses = _a.sent();\n                        return [4 /*yield*/, Promise.all(resolvedAddresses.map(function (address) { return _this._dnsResolver.resolve(address); }))];\n                    case 2:\n                        dnsResolvedAddresses = _a.sent();\n                        return [2 /*return*/, [].concat.apply([], dnsResolvedAddresses)];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTable = function (routerAddresses, routingTable, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, routerAddresses.reduce(function (refreshedTablePromise, currentRouter, currentIndex) { return __awaiter(_this, void 0, void 0, function () {\n                        var _a, newRoutingTable, previousRouterIndex, _b, session, error, error_3;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0: return [4 /*yield*/, refreshedTablePromise];\n                                case 1:\n                                    _a = __read.apply(void 0, [_c.sent(), 1]), newRoutingTable = _a[0];\n                                    if (newRoutingTable) {\n                                        // valid routing table was fetched - just return it, try next router otherwise\n                                        return [2 /*return*/, [newRoutingTable, null]];\n                                    }\n                                    else {\n                                        previousRouterIndex = currentIndex - 1;\n                                        RoutingConnectionProvider._forgetRouter(routingTable, routerAddresses, previousRouterIndex);\n                                    }\n                                    return [4 /*yield*/, this._createSessionForRediscovery(currentRouter, bookmarks, impersonatedUser, auth)];\n                                case 2:\n                                    _b = __read.apply(void 0, [_c.sent(), 2]), session = _b[0], error = _b[1];\n                                    if (!session) return [3 /*break*/, 8];\n                                    _c.label = 3;\n                                case 3:\n                                    _c.trys.push([3, 5, 6, 7]);\n                                    return [4 /*yield*/, this._rediscovery.lookupRoutingTableOnRouter(session, routingTable.database, currentRouter, impersonatedUser)];\n                                case 4: return [2 /*return*/, [_c.sent(), null]];\n                                case 5:\n                                    error_3 = _c.sent();\n                                    return [2 /*return*/, this._handleRediscoveryError(error_3, currentRouter)];\n                                case 6:\n                                    session.close();\n                                    return [7 /*endfinally*/];\n                                case 7: return [3 /*break*/, 9];\n                                case 8: \n                                // unable to acquire connection and create session towards the current router\n                                // return null to signal that the next router should be tried\n                                return [2 /*return*/, [null, error]];\n                                case 9: return [2 /*return*/];\n                            }\n                        });\n                    }); }, Promise.resolve([null, null]))];\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._createSessionForRediscovery = function (routerAddress, bookmarks, impersonatedUser, auth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, databaseSpecificErrorHandler, delegateConnection, connectionProvider, protocolVersion, error_4;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 4, , 5]);\n                        return [4 /*yield*/, this._connectionPool.acquire({ auth: auth }, routerAddress)];\n                    case 1:\n                        connection = _a.sent();\n                        if (!auth) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._verifyStickyConnection({\n                                auth: auth,\n                                connection: connection,\n                                address: routerAddress\n                            })];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        databaseSpecificErrorHandler = connection_1.ConnectionErrorHandler.create({\n                            errorCode: SESSION_EXPIRED,\n                            handleSecurityError: function (error, address, conn) { return _this._handleSecurityError(error, address, conn); }\n                        });\n                        delegateConnection = !connection._sticky\n                            ? new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler)\n                            : new connection_1.DelegateConnection(connection);\n                        connectionProvider = new connection_provider_single_1.default(delegateConnection);\n                        protocolVersion = connection.protocol().version;\n                        if (protocolVersion < 4.0) {\n                            return [2 /*return*/, [new neo4j_driver_core_1.Session({\n                                        mode: WRITE,\n                                        bookmarks: Bookmarks.empty(),\n                                        connectionProvider: connectionProvider\n                                    }), null]];\n                        }\n                        return [2 /*return*/, [new neo4j_driver_core_1.Session({\n                                    mode: READ,\n                                    database: SYSTEM_DB_NAME,\n                                    bookmarks: bookmarks,\n                                    connectionProvider: connectionProvider,\n                                    impersonatedUser: impersonatedUser\n                                }), null]];\n                    case 4:\n                        error_4 = _a.sent();\n                        return [2 /*return*/, this._handleRediscoveryError(error_4, routerAddress)];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._handleRediscoveryError = function (error, routerAddress) {\n        if (_isFailFastError(error) || _isFailFastSecurityError(error)) {\n            throw error;\n        }\n        else if (error.code === PROCEDURE_NOT_FOUND_CODE) {\n            // throw when getServers procedure not found because this is clearly a configuration issue\n            throw (0, neo4j_driver_core_1.newError)(\"Server at \".concat(routerAddress.asHostPort(), \" can't perform routing. Make sure you are connecting to a causal cluster\"), SERVICE_UNAVAILABLE, error);\n        }\n        this._log.warn(\"unable to fetch routing table because of an error \".concat(error));\n        return [null, error];\n    };\n    RoutingConnectionProvider.prototype._applyRoutingTableIfPossible = function (currentRoutingTable, newRoutingTable, error) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!newRoutingTable) {\n                            // none of routing servers returned valid routing table, throw exception\n                            throw (0, neo4j_driver_core_1.newError)(\"Could not perform discovery. No routing servers available. Known routing table: \".concat(currentRoutingTable), SERVICE_UNAVAILABLE, error);\n                        }\n                        if (newRoutingTable.writers.length === 0) {\n                            // use seed router next time. this is important when cluster is partitioned. it tries to make sure driver\n                            // does not always get routing table without writers because it talks exclusively to a minority partition\n                            this._useSeedRouter = true;\n                        }\n                        return [4 /*yield*/, this._updateRoutingTable(newRoutingTable)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, newRoutingTable];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._updateRoutingTable = function (newRoutingTable) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // close old connections to servers not present in the new routing table\n                    return [4 /*yield*/, this._connectionPool.keepAll(newRoutingTable.allServers())];\n                    case 1:\n                        // close old connections to servers not present in the new routing table\n                        _a.sent();\n                        this._routingTableRegistry.removeExpired();\n                        this._routingTableRegistry.register(newRoutingTable);\n                        this._log.info(\"Updated routing table \".concat(newRoutingTable));\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider._forgetRouter = function (routingTable, routersArray, routerIndex) {\n        var address = routersArray[routerIndex];\n        if (routingTable && address) {\n            routingTable.forgetRouter(address);\n        }\n    };\n    return RoutingConnectionProvider;\n}(connection_provider_pooled_1.default));\nexports[\"default\"] = RoutingConnectionProvider;\n/**\n * Responsible for keeping track of the existing routing tables\n */\nvar RoutingTableRegistry = /** @class */ (function () {\n    /**\n     * Constructor\n     * @param {int} routingTablePurgeDelay The routing table purge delay\n     */\n    function RoutingTableRegistry(routingTablePurgeDelay) {\n        this._tables = new Map();\n        this._routingTablePurgeDelay = routingTablePurgeDelay;\n    }\n    /**\n     * Put a routing table in the registry\n     *\n     * @param {RoutingTable} table The routing table\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.register = function (table) {\n        this._tables.set(table.database, table);\n        return this;\n    };\n    /**\n     * Apply function in the routing table for an specific database. If the database name is not defined, the function will\n     * be applied for each element\n     *\n     * @param {string} database The database name\n     * @param {object} callbacks The actions\n     * @param {function (RoutingTable)} callbacks.applyWhenExists Call when the db exists or when the database property is not informed\n     * @param {function ()} callbacks.applyWhenDontExists Call when the database doesn't have the routing table registred\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.apply = function (database, _a) {\n        var _b = _a === void 0 ? {} : _a, applyWhenExists = _b.applyWhenExists, _c = _b.applyWhenDontExists, applyWhenDontExists = _c === void 0 ? function () { } : _c;\n        if (this._tables.has(database)) {\n            applyWhenExists(this._tables.get(database));\n        }\n        else if (typeof database === 'string' || database === null) {\n            applyWhenDontExists();\n        }\n        else {\n            this._forEach(applyWhenExists);\n        }\n        return this;\n    };\n    /**\n     * Retrieves a routing table from a given database name\n     *\n     * @param {string|impersonatedUser} impersonatedUser The impersonated User\n     * @param {string} database The database name\n     * @param {function()|RoutingTable} defaultSupplier The routing table supplier, if it's not a function or not exists, it will return itself as default value\n     * @returns {RoutingTable} The routing table for the respective database\n     */\n    RoutingTableRegistry.prototype.get = function (database, defaultSupplier) {\n        if (this._tables.has(database)) {\n            return this._tables.get(database);\n        }\n        return typeof defaultSupplier === 'function'\n            ? defaultSupplier()\n            : defaultSupplier;\n    };\n    /**\n     * Remove the routing table which is already expired\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.removeExpired = function () {\n        var _this = this;\n        return this._removeIf(function (value) {\n            return value.isExpiredFor(_this._routingTablePurgeDelay);\n        });\n    };\n    RoutingTableRegistry.prototype._forEach = function (apply) {\n        var e_3, _a;\n        try {\n            for (var _b = __values(this._tables), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), value = _d[1];\n                apply(value);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return this;\n    };\n    RoutingTableRegistry.prototype._remove = function (key) {\n        this._tables.delete(key);\n        return this;\n    };\n    RoutingTableRegistry.prototype._removeIf = function (predicate) {\n        var e_4, _a;\n        try {\n            for (var _b = __values(this._tables), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], value = _d[1];\n                if (predicate(value)) {\n                    this._remove(key);\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return this;\n    };\n    return RoutingTableRegistry;\n}());\nfunction _isFailFastError(error) {\n    return [\n        DATABASE_NOT_FOUND_CODE,\n        INVALID_BOOKMARK_CODE,\n        INVALID_BOOKMARK_MIXTURE_CODE,\n        INVALID_ARGUMENT_ERROR,\n        INVALID_REQUEST_ERROR,\n        STATEMENT_TYPE_ERROR,\n        NOT_AVAILABLE\n    ].includes(error.code);\n}\nfunction _isFailFastSecurityError(error) {\n    return error.code.startsWith('Neo.ClientError.Security.') &&\n        ![\n            AUTHORIZATION_EXPIRED_CODE\n        ].includes(error.code);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXJvdXRpbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRCxpQ0FBaUMsbUJBQU8sQ0FBQyxrR0FBZ0I7QUFDekQsZ0JBQWdCLG1CQUFPLENBQUMsMEZBQVk7QUFDcEMsbURBQW1ELG1CQUFPLENBQUMsNklBQThCO0FBQ3pGLG1EQUFtRCxtQkFBTyxDQUFDLDZJQUE4QjtBQUN6Rix1QkFBdUIsbUJBQU8sQ0FBQyx3R0FBbUI7QUFDbEQsbUJBQW1CLG1CQUFPLENBQUMsZ0dBQWU7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLG9GQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxvSUFBb0ksdUJBQXVCO0FBQ25NO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTLElBQUk7QUFDYixvREFBb0QscUJBQXFCLDZCQUE2QjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBCQUEwQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLDRJQUE0SSx1RUFBdUUsOEJBQThCLHFFQUFxRTtBQUN0VDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxZQUFZO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsdUNBQXVDO0FBQ3RJO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YscUNBQXFDO0FBQ3BJO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsdUNBQXVDO0FBQ3RJO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsdUNBQXVDO0FBQ3RJO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLGtCQUFrQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyx5RkFBeUYsd0NBQXdDLG9CQUFvQixJQUFJO0FBQ3pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRiwwQ0FBMEM7QUFDL0g7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyw2Q0FBNkM7QUFDako7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2SEFBNkg7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQixJQUFJO0FBQ3pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLFlBQVk7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GO0FBQ25GLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsY0FBYztBQUM3QixpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSx5QkFBeUI7QUFDeEMsZUFBZSxhQUFhO0FBQzVCLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBLG9DQUFvQywrSEFBK0g7QUFDbks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDLGVBQWUsUUFBUTtBQUN2QixlQUFlLHlCQUF5QjtBQUN4QyxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFVBQVU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxVQUFVO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uLXByb3ZpZGVyL2Nvbm5lY3Rpb24tcHJvdmlkZXItcm91dGluZy5qcz85YzY3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciByZWRpc2NvdmVyeV8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9yZWRpc2NvdmVyeVwiKSk7XG52YXIgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4uL2NoYW5uZWxcIik7XG52YXIgY29ubmVjdGlvbl9wcm92aWRlcl9zaW5nbGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb25uZWN0aW9uLXByb3ZpZGVyLXNpbmdsZVwiKSk7XG52YXIgY29ubmVjdGlvbl9wcm92aWRlcl9wb29sZWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb25uZWN0aW9uLXByb3ZpZGVyLXBvb2xlZFwiKSk7XG52YXIgbG9hZF9iYWxhbmNpbmdfMSA9IHJlcXVpcmUoXCIuLi9sb2FkLWJhbGFuY2luZ1wiKTtcbnZhciBjb25uZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vY29ubmVjdGlvblwiKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKFwiLi4vbGFuZ1wiKTtcbnZhciBTRVJWSUNFX1VOQVZBSUxBQkxFID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5lcnJvci5TRVJWSUNFX1VOQVZBSUxBQkxFLCBTRVNTSU9OX0VYUElSRUQgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlNFU1NJT05fRVhQSVJFRDtcbnZhciBCb29rbWFya3MgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmJvb2ttYXJrcy5Cb29rbWFya3MsIF9hID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5jb25zdGFudHMsIFJFQUQgPSBfYS5BQ0NFU1NfTU9ERV9SRUFELCBXUklURSA9IF9hLkFDQ0VTU19NT0RFX1dSSVRFLCBCT0xUX1BST1RPQ09MX1YzID0gX2EuQk9MVF9QUk9UT0NPTF9WMywgQk9MVF9QUk9UT0NPTF9WNF8wID0gX2EuQk9MVF9QUk9UT0NPTF9WNF8wLCBCT0xUX1BST1RPQ09MX1Y0XzQgPSBfYS5CT0xUX1BST1RPQ09MX1Y0XzQsIEJPTFRfUFJPVE9DT0xfVjVfMSA9IF9hLkJPTFRfUFJPVE9DT0xfVjVfMTtcbnZhciBQUk9DRURVUkVfTk9UX0ZPVU5EX0NPREUgPSAnTmVvLkNsaWVudEVycm9yLlByb2NlZHVyZS5Qcm9jZWR1cmVOb3RGb3VuZCc7XG52YXIgREFUQUJBU0VfTk9UX0ZPVU5EX0NPREUgPSAnTmVvLkNsaWVudEVycm9yLkRhdGFiYXNlLkRhdGFiYXNlTm90Rm91bmQnO1xudmFyIElOVkFMSURfQk9PS01BUktfQ09ERSA9ICdOZW8uQ2xpZW50RXJyb3IuVHJhbnNhY3Rpb24uSW52YWxpZEJvb2ttYXJrJztcbnZhciBJTlZBTElEX0JPT0tNQVJLX01JWFRVUkVfQ09ERSA9ICdOZW8uQ2xpZW50RXJyb3IuVHJhbnNhY3Rpb24uSW52YWxpZEJvb2ttYXJrTWl4dHVyZSc7XG52YXIgQVVUSE9SSVpBVElPTl9FWFBJUkVEX0NPREUgPSAnTmVvLkNsaWVudEVycm9yLlNlY3VyaXR5LkF1dGhvcml6YXRpb25FeHBpcmVkJztcbnZhciBJTlZBTElEX0FSR1VNRU5UX0VSUk9SID0gJ05lby5DbGllbnRFcnJvci5TdGF0ZW1lbnQuQXJndW1lbnRFcnJvcic7XG52YXIgSU5WQUxJRF9SRVFVRVNUX0VSUk9SID0gJ05lby5DbGllbnRFcnJvci5SZXF1ZXN0LkludmFsaWQnO1xudmFyIFNUQVRFTUVOVF9UWVBFX0VSUk9SID0gJ05lby5DbGllbnRFcnJvci5TdGF0ZW1lbnQuVHlwZUVycm9yJztcbnZhciBOT1RfQVZBSUxBQkxFID0gJ04vQSc7XG52YXIgU1lTVEVNX0RCX05BTUUgPSAnc3lzdGVtJztcbnZhciBERUZBVUxUX0RCX05BTUUgPSBudWxsO1xudmFyIERFRkFVTFRfUk9VVElOR19UQUJMRV9QVVJHRV9ERUxBWSA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoMzAwMDApO1xudmFyIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlcihfYSkge1xuICAgICAgICB2YXIgaWQgPSBfYS5pZCwgYWRkcmVzcyA9IF9hLmFkZHJlc3MsIHJvdXRpbmdDb250ZXh0ID0gX2Eucm91dGluZ0NvbnRleHQsIGhvc3ROYW1lUmVzb2x2ZXIgPSBfYS5ob3N0TmFtZVJlc29sdmVyLCBjb25maWcgPSBfYS5jb25maWcsIGxvZyA9IF9hLmxvZywgdXNlckFnZW50ID0gX2EudXNlckFnZW50LCBib2x0QWdlbnQgPSBfYS5ib2x0QWdlbnQsIGF1dGhUb2tlbk1hbmFnZXIgPSBfYS5hdXRoVG9rZW5NYW5hZ2VyLCByb3V0aW5nVGFibGVQdXJnZURlbGF5ID0gX2Eucm91dGluZ1RhYmxlUHVyZ2VEZWxheSwgbmV3UG9vbCA9IF9hLm5ld1Bvb2w7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHsgaWQ6IGlkLCBjb25maWc6IGNvbmZpZywgbG9nOiBsb2csIHVzZXJBZ2VudDogdXNlckFnZW50LCBib2x0QWdlbnQ6IGJvbHRBZ2VudCwgYXV0aFRva2VuTWFuYWdlcjogYXV0aFRva2VuTWFuYWdlciwgbmV3UG9vbDogbmV3UG9vbCB9LCBmdW5jdGlvbiAoYWRkcmVzcykgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gY29ubmVjdGlvbl8xLmNyZWF0ZUNoYW5uZWxDb25uZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSBbYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlQ29ubmVjdGlvbkVycm9ySGFuZGxlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZ107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jbGllbnRDZXJ0aWZpY2F0ZUhvbGRlci5nZXRDbGllbnRDZXJ0aWZpY2F0ZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2EuYXBwbHkodm9pZCAwLCBfYi5jb25jYXQoW19jLnNlbnQoKSwgdGhpcy5fcm91dGluZ0NvbnRleHRdKSldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3JvdXRpbmdDb250ZXh0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHJvdXRpbmdDb250ZXh0KSwgeyBhZGRyZXNzOiBhZGRyZXNzLnRvU3RyaW5nKCkgfSk7XG4gICAgICAgIF90aGlzLl9zZWVkUm91dGVyID0gYWRkcmVzcztcbiAgICAgICAgX3RoaXMuX3JlZGlzY292ZXJ5ID0gbmV3IHJlZGlzY292ZXJ5XzEuZGVmYXVsdChfdGhpcy5fcm91dGluZ0NvbnRleHQpO1xuICAgICAgICBfdGhpcy5fbG9hZEJhbGFuY2luZ1N0cmF0ZWd5ID0gbmV3IGxvYWRfYmFsYW5jaW5nXzEuTGVhc3RDb25uZWN0ZWRMb2FkQmFsYW5jaW5nU3RyYXRlZ3koX3RoaXMuX2Nvbm5lY3Rpb25Qb29sKTtcbiAgICAgICAgX3RoaXMuX2hvc3ROYW1lUmVzb2x2ZXIgPSBob3N0TmFtZVJlc29sdmVyO1xuICAgICAgICBfdGhpcy5fZG5zUmVzb2x2ZXIgPSBuZXcgY2hhbm5lbF8xLkhvc3ROYW1lUmVzb2x2ZXIoKTtcbiAgICAgICAgX3RoaXMuX2xvZyA9IGxvZztcbiAgICAgICAgX3RoaXMuX3VzZVNlZWRSb3V0ZXIgPSB0cnVlO1xuICAgICAgICBfdGhpcy5fcm91dGluZ1RhYmxlUmVnaXN0cnkgPSBuZXcgUm91dGluZ1RhYmxlUmVnaXN0cnkocm91dGluZ1RhYmxlUHVyZ2VEZWxheVxuICAgICAgICAgICAgPyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHJvdXRpbmdUYWJsZVB1cmdlRGVsYXkpXG4gICAgICAgICAgICA6IERFRkFVTFRfUk9VVElOR19UQUJMRV9QVVJHRV9ERUxBWSk7XG4gICAgICAgIF90aGlzLl9yZWZyZXNoUm91dGluZ1RhYmxlID0gbGFuZ18xLmZ1bmN0aW9uYWwucmV1c2VPbmdvaW5nUmVxdWVzdChfdGhpcy5fcmVmcmVzaFJvdXRpbmdUYWJsZSwgX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjb25uZWN0aW9uIGVycm9ycyBtZWFuIFNFUlZJQ0VfVU5BVkFJTEFCTEUgZm9yIGRpcmVjdCBkcml2ZXIgYnV0IGZvciByb3V0aW5nIGRyaXZlciB0aGV5IHNob3VsZCBvbmx5XG4gICAgICAgIC8vIHJlc3VsdCBpbiBTRVNTSU9OX0VYUElSRUQgYmVjYXVzZSB0aGVyZSBtaWdodCBzdGlsbCBleGlzdCBvdGhlciBzZXJ2ZXJzIGNhcGFibGUgb2Ygc2VydmluZyB0aGUgcmVxdWVzdFxuICAgICAgICByZXR1cm4gbmV3IGNvbm5lY3Rpb25fMS5Db25uZWN0aW9uRXJyb3JIYW5kbGVyKFNFU1NJT05fRVhQSVJFRCk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFuZGxlVW5hdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGRhdGFiYXNlKSB7XG4gICAgICAgIHRoaXMuX2xvZy53YXJuKFwiUm91dGluZyBkcml2ZXIgXCIuY29uY2F0KHRoaXMuX2lkLCBcIiB3aWxsIGZvcmdldCBcIikuY29uY2F0KGFkZHJlc3MsIFwiIGZvciBkYXRhYmFzZSAnXCIpLmNvbmNhdChkYXRhYmFzZSwgXCInIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIpLmNvbmNhdChlcnJvci5jb2RlLCBcIiAnXCIpLmNvbmNhdChlcnJvci5tZXNzYWdlLCBcIidcIikpO1xuICAgICAgICB0aGlzLmZvcmdldChhZGRyZXNzLCBkYXRhYmFzZSB8fCBERUZBVUxUX0RCX05BTUUpO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFuZGxlU2VjdXJpdHlFcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbiwgZGF0YWJhc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nLndhcm4oXCJSb3V0aW5nIGRyaXZlciBcIi5jb25jYXQodGhpcy5faWQsIFwiIHdpbGwgY2xvc2UgY29ubmVjdGlvbnMgdG8gXCIpLmNvbmNhdChhZGRyZXNzLCBcIiBmb3IgZGF0YWJhc2UgJ1wiKS5jb25jYXQoZGF0YWJhc2UsIFwiJyBiZWNhdXNlIG9mIGFuIGVycm9yIFwiKS5jb25jYXQoZXJyb3IuY29kZSwgXCIgJ1wiKS5jb25jYXQoZXJyb3IubWVzc2FnZSwgXCInXCIpKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX2hhbmRsZVNlY3VyaXR5RXJyb3IuY2FsbCh0aGlzLCBlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbiwgZGF0YWJhc2UpO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2hhbmRsZVdyaXRlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcywgZGF0YWJhc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nLndhcm4oXCJSb3V0aW5nIGRyaXZlciBcIi5jb25jYXQodGhpcy5faWQsIFwiIHdpbGwgZm9yZ2V0IHdyaXRlciBcIikuY29uY2F0KGFkZHJlc3MsIFwiIGZvciBkYXRhYmFzZSAnXCIpLmNvbmNhdChkYXRhYmFzZSwgXCInIGJlY2F1c2Ugb2YgYW4gZXJyb3IgXCIpLmNvbmNhdChlcnJvci5jb2RlLCBcIiAnXCIpLmNvbmNhdChlcnJvci5tZXNzYWdlLCBcIidcIikpO1xuICAgICAgICB0aGlzLmZvcmdldFdyaXRlcihhZGRyZXNzLCBkYXRhYmFzZSB8fCBERUZBVUxUX0RCX05BTUUpO1xuICAgICAgICByZXR1cm4gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdObyBsb25nZXIgcG9zc2libGUgdG8gd3JpdGUgdG8gc2VydmVyIGF0ICcgKyBhZGRyZXNzLCBTRVNTSU9OX0VYUElSRUQsIGVycm9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZSB7QGxpbmsgQ29ubmVjdGlvblByb3ZpZGVyfSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG1ldGhvZCBhbmRcbiAgICAgKiBpdHMgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLmFjcXVpcmVDb25uZWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBhY2Nlc3NNb2RlID0gX2IuYWNjZXNzTW9kZSwgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyID0gX2IuaW1wZXJzb25hdGVkVXNlciwgb25EYXRhYmFzZU5hbWVSZXNvbHZlZCA9IF9iLm9uRGF0YWJhc2VOYW1lUmVzb2x2ZWQsIGF1dGggPSBfYi5hdXRoO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSwgYWRkcmVzcywgY29udGV4dCwgZGF0YWJhc2VTcGVjaWZpY0Vycm9ySGFuZGxlciwgcm91dGluZ1RhYmxlLCBjb25uZWN0aW9uLCBlcnJvcl8xLCB0cmFuc2Zvcm1lZDtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0geyBkYXRhYmFzZTogZGF0YWJhc2UgfHwgREVGQVVMVF9EQl9OQU1FIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZVNwZWNpZmljRXJyb3JIYW5kbGVyID0gbmV3IGNvbm5lY3Rpb25fMS5Db25uZWN0aW9uRXJyb3JIYW5kbGVyKFNFU1NJT05fRVhQSVJFRCwgZnVuY3Rpb24gKGVycm9yLCBhZGRyZXNzKSB7IHJldHVybiBfdGhpcy5faGFuZGxlVW5hdmFpbGFiaWxpdHkoZXJyb3IsIGFkZHJlc3MsIGNvbnRleHQuZGF0YWJhc2UpOyB9LCBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MpIHsgcmV0dXJuIF90aGlzLl9oYW5kbGVXcml0ZUZhaWx1cmUoZXJyb3IsIGFkZHJlc3MsIGNvbnRleHQuZGF0YWJhc2UpOyB9LCBmdW5jdGlvbiAoZXJyb3IsIGFkZHJlc3MsIGNvbm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZVNlY3VyaXR5RXJyb3IoZXJyb3IsIGFkZHJlc3MsIGNvbm4sIGNvbnRleHQuZGF0YWJhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9mcmVzaFJvdXRpbmdUYWJsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc01vZGU6IGFjY2Vzc01vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBjb250ZXh0LmRhdGFiYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29rbWFya3M6IGJvb2ttYXJrcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wZXJzb25hdGVkVXNlcjogaW1wZXJzb25hdGVkVXNlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogYXV0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EYXRhYmFzZU5hbWVSZXNvbHZlZDogZnVuY3Rpb24gKGRhdGFiYXNlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kYXRhYmFzZSA9IGNvbnRleHQuZGF0YWJhc2UgfHwgZGF0YWJhc2VOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uRGF0YWJhc2VOYW1lUmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRhdGFiYXNlTmFtZVJlc29sdmVkKGRhdGFiYXNlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBhIHRhcmdldCBzZXJ2ZXIgYmFzZWQgb24gc3BlY2lmaWVkIGFjY2VzcyBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0aW5nVGFibGUgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3QgYSB0YXJnZXQgc2VydmVyIGJhc2VkIG9uIHNwZWNpZmllZCBhY2Nlc3MgbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjY2Vzc01vZGUgPT09IFJFQUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzID0gdGhpcy5fbG9hZEJhbGFuY2luZ1N0cmF0ZWd5LnNlbGVjdFJlYWRlcihyb3V0aW5nVGFibGUucmVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICdyZWFkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFjY2Vzc01vZGUgPT09IFdSSVRFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IHRoaXMuX2xvYWRCYWxhbmNpbmdTdHJhdGVneS5zZWxlY3RXcml0ZXIocm91dGluZ1RhYmxlLndyaXRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSAnd3JpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdJbGxlZ2FsIG1vZGUgJyArIGFjY2Vzc01vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgY291bGRuJ3Qgc2VsZWN0IGEgdGFyZ2V0IHNlcnZlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiRmFpbGVkIHRvIG9idGFpbiBjb25uZWN0aW9uIHRvd2FyZHMgXCIuY29uY2F0KG5hbWUsIFwiIHNlcnZlci4gS25vd24gcm91dGluZyB0YWJsZSBpczogXCIpLmNvbmNhdChyb3V0aW5nVGFibGUpLCBTRVNTSU9OX0VYUElSRUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy50cnlzLnB1c2goWzIsIDYsICwgN10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY29ubmVjdGlvblBvb2wuYWNxdWlyZSh7IGF1dGg6IGF1dGggfSwgYWRkcmVzcyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdXRoKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3ZlcmlmeVN0aWNreUNvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY29ubmVjdGlvbl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBjb25uZWN0aW9uXzEuRGVsZWdhdGVDb25uZWN0aW9uKGNvbm5lY3Rpb24sIGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkID0gZGF0YWJhc2VTcGVjaWZpY0Vycm9ySGFuZGxlci5oYW5kbGVBbmRUcmFuc2Zvcm1FcnJvcihlcnJvcl8xLCBhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHRyYW5zZm9ybWVkO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5faGFzUHJvdG9jb2xWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25QcmVkaWNhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFkZHJlc3NlcywgbGFzdEVycm9yLCBpLCBjb25uZWN0aW9uLCBwcm90b2NvbFZlcnNpb24sIGVycm9yXzI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3Jlc29sdmVTZWVkUm91dGVyKHRoaXMuX3NlZWRSb3V0ZXIpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc2VzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGkgPCBhZGRyZXNzZXMubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMywgNiwgLCA3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jcmVhdGVDaGFubmVsQ29ubmVjdGlvbihhZGRyZXNzZXNbaV0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sVmVyc2lvbiA9IGNvbm5lY3Rpb24ucHJvdG9jb2woKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29ubmVjdGlvbi5wcm90b2NvbCgpLnZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjb25uZWN0aW9uLmNsb3NlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG9jb2xWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHZlcnNpb25QcmVkaWNhdGUocHJvdG9jb2xWZXJzaW9uKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8yID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yID0gZXJyb3JfMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGxhc3RFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuc3VwcG9ydHNNdWx0aURiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hhc1Byb3RvY29sVmVyc2lvbihmdW5jdGlvbiAodmVyc2lvbikgeyByZXR1cm4gdmVyc2lvbiA+PSBCT0xUX1BST1RPQ09MX1Y0XzA7IH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5zdXBwb3J0c1RyYW5zYWN0aW9uQ29uZmlnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hhc1Byb3RvY29sVmVyc2lvbihmdW5jdGlvbiAodmVyc2lvbikgeyByZXR1cm4gdmVyc2lvbiA+PSBCT0xUX1BST1RPQ09MX1YzOyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuc3VwcG9ydHNVc2VySW1wZXJzb25hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9oYXNQcm90b2NvbFZlcnNpb24oZnVuY3Rpb24gKHZlcnNpb24pIHsgcmV0dXJuIHZlcnNpb24gPj0gQk9MVF9QUk9UT0NPTF9WNF80OyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuc3VwcG9ydHNTZXNzaW9uQXV0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9oYXNQcm90b2NvbFZlcnNpb24oZnVuY3Rpb24gKHZlcnNpb24pIHsgcmV0dXJuIHZlcnNpb24gPj0gQk9MVF9QUk9UT0NPTF9WNV8xOyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuZ2V0TmVnb3RpYXRlZFByb3RvY29sVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLl9oYXNQcm90b2NvbFZlcnNpb24ocmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS52ZXJpZnlBdXRoZW50aWNhdGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZGF0YWJhc2UgPSBfYS5kYXRhYmFzZSwgYWNjZXNzTW9kZSA9IF9hLmFjY2Vzc01vZGUsIGF1dGggPSBfYS5hdXRoO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLl92ZXJpZnlBdXRoZW50aWNhdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QWRkcmVzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0LCByb3V0aW5nVGFibGUsIHNlcnZlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IHsgZGF0YWJhc2U6IGRhdGFiYXNlIHx8IERFRkFVTFRfREJfTkFNRSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2ZyZXNoUm91dGluZ1RhYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc01vZGU6IGFjY2Vzc01vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZTogY29udGV4dC5kYXRhYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IGF1dGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRhdGFiYXNlTmFtZVJlc29sdmVkOiBmdW5jdGlvbiAoZGF0YWJhc2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kYXRhYmFzZSA9IGNvbnRleHQuZGF0YWJhc2UgfHwgZGF0YWJhc2VOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGluZ1RhYmxlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcnMgPSBhY2Nlc3NNb2RlID09PSBXUklURSA/IHJvdXRpbmdUYWJsZS53cml0ZXJzIDogcm91dGluZ1RhYmxlLnJlYWRlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIk5vIHNlcnZlcnMgYXZhaWxhYmxlIGZvciBkYXRhYmFzZSAnXCIuY29uY2F0KGNvbnRleHQuZGF0YWJhc2UsIFwiJyB3aXRoIGFjY2VzcyBtb2RlICdcIikuY29uY2F0KGFjY2Vzc01vZGUsIFwiJ1wiKSwgU0VSVklDRV9VTkFWQUlMQUJMRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBzZXJ2ZXJzWzBdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUudmVyaWZ5Q29ubmVjdGl2aXR5QW5kR2V0U2VydmVySW5mbyA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZGF0YWJhc2UgPSBfYS5kYXRhYmFzZSwgYWNjZXNzTW9kZSA9IF9hLmFjY2Vzc01vZGU7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0LCByb3V0aW5nVGFibGUsIHNlcnZlcnMsIGVycm9yLCBzZXJ2ZXJzXzEsIHNlcnZlcnNfMV8xLCBhZGRyZXNzLCBzZXJ2ZXJJbmZvLCBlXzEsIGVfMl8xO1xuICAgICAgICAgICAgdmFyIGVfMiwgX2I7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ID0geyBkYXRhYmFzZTogZGF0YWJhc2UgfHwgREVGQVVMVF9EQl9OQU1FIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9mcmVzaFJvdXRpbmdUYWJsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc01vZGU6IGFjY2Vzc01vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBjb250ZXh0LmRhdGFiYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRhdGFiYXNlTmFtZVJlc29sdmVkOiBmdW5jdGlvbiAoZGF0YWJhc2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRhdGFiYXNlID0gY29udGV4dC5kYXRhYmFzZSB8fCBkYXRhYmFzZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRpbmdUYWJsZSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcnMgPSBhY2Nlc3NNb2RlID09PSBXUklURSA/IHJvdXRpbmdUYWJsZS53cml0ZXJzIDogcm91dGluZ1RhYmxlLnJlYWRlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIk5vIHNlcnZlcnMgYXZhaWxhYmxlIGZvciBkYXRhYmFzZSAnXCIuY29uY2F0KGNvbnRleHQuZGF0YWJhc2UsIFwiJyB3aXRoIGFjY2VzcyBtb2RlICdcIikuY29uY2F0KGFjY2Vzc01vZGUsIFwiJ1wiKSwgU0VSVklDRV9VTkFWQUlMQUJMRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMiwgOSwgMTAsIDExXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJzXzEgPSBfX3ZhbHVlcyhzZXJ2ZXJzKSwgc2VydmVyc18xXzEgPSBzZXJ2ZXJzXzEubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFzZXJ2ZXJzXzFfMS5kb25lKSByZXR1cm4gWzMgLypicmVhayovLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBzZXJ2ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2MudHJ5cy5wdXNoKFs0LCA2LCAsIDddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3ZlcmlmeUNvbm5lY3Rpdml0eUFuZEdldFNlcnZlclZlcnNpb24oeyBhZGRyZXNzOiBhZGRyZXNzIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVySW5mbyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBzZXJ2ZXJJbmZvXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyc18xXzEgPSBzZXJ2ZXJzXzEubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszIC8qYnJlYWsqLywgMTFdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJzXzFfMSAmJiAhc2VydmVyc18xXzEuZG9uZSAmJiAoX2IgPSBzZXJ2ZXJzXzEucmV0dXJuKSkgX2IuY2FsbChzZXJ2ZXJzXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTogdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuZm9yZ2V0ID0gZnVuY3Rpb24gKGFkZHJlc3MsIGRhdGFiYXNlKSB7XG4gICAgICAgIHRoaXMuX3JvdXRpbmdUYWJsZVJlZ2lzdHJ5LmFwcGx5KGRhdGFiYXNlLCB7XG4gICAgICAgICAgICBhcHBseVdoZW5FeGlzdHM6IGZ1bmN0aW9uIChyb3V0aW5nVGFibGUpIHsgcmV0dXJuIHJvdXRpbmdUYWJsZS5mb3JnZXQoYWRkcmVzcyk7IH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdlJ3JlIGZpcmluZyBhbmQgZm9yZ2V0dGluZyB0aGlzIG9wZXJhdGlvbiBleHBsaWNpdGx5IGFuZCBsaXN0ZW5pbmcgZm9yIGFueVxuICAgICAgICAvLyBlcnJvcnMgdG8gYXZvaWQgdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25Qb29sLnB1cmdlKGFkZHJlc3MpLmNhdGNoKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5mb3JnZXRXcml0ZXIgPSBmdW5jdGlvbiAoYWRkcmVzcywgZGF0YWJhc2UpIHtcbiAgICAgICAgdGhpcy5fcm91dGluZ1RhYmxlUmVnaXN0cnkuYXBwbHkoZGF0YWJhc2UsIHtcbiAgICAgICAgICAgIGFwcGx5V2hlbkV4aXN0czogZnVuY3Rpb24gKHJvdXRpbmdUYWJsZSkgeyByZXR1cm4gcm91dGluZ1RhYmxlLmZvcmdldFdyaXRlcihhZGRyZXNzKTsgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9mcmVzaFJvdXRpbmdUYWJsZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYWNjZXNzTW9kZSA9IF9iLmFjY2Vzc01vZGUsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIGJvb2ttYXJrcyA9IF9iLmJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciA9IF9iLmltcGVyc29uYXRlZFVzZXIsIG9uRGF0YWJhc2VOYW1lUmVzb2x2ZWQgPSBfYi5vbkRhdGFiYXNlTmFtZVJlc29sdmVkLCBhdXRoID0gX2IuYXV0aDtcbiAgICAgICAgdmFyIGN1cnJlbnRSb3V0aW5nVGFibGUgPSB0aGlzLl9yb3V0aW5nVGFibGVSZWdpc3RyeS5nZXQoZGF0YWJhc2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyByZWRpc2NvdmVyeV8xLlJvdXRpbmdUYWJsZSh7IGRhdGFiYXNlOiBkYXRhYmFzZSB9KTsgfSk7XG4gICAgICAgIGlmICghY3VycmVudFJvdXRpbmdUYWJsZS5pc1N0YWxlRm9yKGFjY2Vzc01vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFJvdXRpbmdUYWJsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIlJvdXRpbmcgdGFibGUgaXMgc3RhbGUgZm9yIGRhdGFiYXNlOiBcXFwiXCIuY29uY2F0KGRhdGFiYXNlLCBcIlxcXCIgYW5kIGFjY2VzcyBtb2RlOiBcXFwiXCIpLmNvbmNhdChhY2Nlc3NNb2RlLCBcIlxcXCI6IFwiKS5jb25jYXQoY3VycmVudFJvdXRpbmdUYWJsZSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmcmVzaFJvdXRpbmdUYWJsZShjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobmV3Um91dGluZ1RhYmxlKSB7XG4gICAgICAgICAgICBvbkRhdGFiYXNlTmFtZVJlc29sdmVkKG5ld1JvdXRpbmdUYWJsZS5kYXRhYmFzZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3Um91dGluZ1RhYmxlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9yZWZyZXNoUm91dGluZ1RhYmxlID0gZnVuY3Rpb24gKGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCkge1xuICAgICAgICB2YXIga25vd25Sb3V0ZXJzID0gY3VycmVudFJvdXRpbmdUYWJsZS5yb3V0ZXJzO1xuICAgICAgICBpZiAodGhpcy5fdXNlU2VlZFJvdXRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZldGNoUm91dGluZ1RhYmxlRnJvbVNlZWRSb3V0ZXJGYWxsYmFja1RvS25vd25Sb3V0ZXJzKGtub3duUm91dGVycywgY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZmV0Y2hSb3V0aW5nVGFibGVGcm9tS25vd25Sb3V0ZXJzRmFsbGJhY2tUb1NlZWRSb3V0ZXIoa25vd25Sb3V0ZXJzLCBjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2ZldGNoUm91dGluZ1RhYmxlRnJvbVNlZWRSb3V0ZXJGYWxsYmFja1RvS25vd25Sb3V0ZXJzID0gZnVuY3Rpb24gKGtub3duUm91dGVycywgY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZWVuUm91dGVycywgX2EsIG5ld1JvdXRpbmdUYWJsZSwgZXJyb3IsIF9iLCBuZXdSb3V0aW5nVGFibGUyLCBlcnJvcjI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuUm91dGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZmV0Y2hSb3V0aW5nVGFibGVVc2luZ1NlZWRSb3V0ZXIoc2VlblJvdXRlcnMsIHRoaXMuX3NlZWRSb3V0ZXIsIGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9fcmVhZC5hcHBseSh2b2lkIDAsIFtfYy5zZW50KCksIDJdKSwgbmV3Um91dGluZ1RhYmxlID0gX2FbMF0sIGVycm9yID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1JvdXRpbmdUYWJsZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91c2VTZWVkUm91dGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9mZXRjaFJvdXRpbmdUYWJsZVVzaW5nS25vd25Sb3V0ZXJzKGtub3duUm91dGVycywgY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gX19yZWFkLmFwcGx5KHZvaWQgMCwgW19jLnNlbnQoKSwgMl0pLCBuZXdSb3V0aW5nVGFibGUyID0gX2JbMF0sIGVycm9yMiA9IF9iWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Um91dGluZ1RhYmxlID0gbmV3Um91dGluZ1RhYmxlMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gZXJyb3IyIHx8IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2FwcGx5Um91dGluZ1RhYmxlSWZQb3NzaWJsZShjdXJyZW50Um91dGluZ1RhYmxlLCBuZXdSb3V0aW5nVGFibGUsIGVycm9yKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9jLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2ZldGNoUm91dGluZ1RhYmxlRnJvbUtub3duUm91dGVyc0ZhbGxiYWNrVG9TZWVkUm91dGVyID0gZnVuY3Rpb24gKGtub3duUm91dGVycywgY3VycmVudFJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgbmV3Um91dGluZ1RhYmxlLCBlcnJvcjtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZmV0Y2hSb3V0aW5nVGFibGVVc2luZ0tub3duUm91dGVycyhrbm93blJvdXRlcnMsIGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9fcmVhZC5hcHBseSh2b2lkIDAsIFtfYy5zZW50KCksIDJdKSwgbmV3Um91dGluZ1RhYmxlID0gX2FbMF0sIGVycm9yID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFuZXdSb3V0aW5nVGFibGUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZmV0Y2hSb3V0aW5nVGFibGVVc2luZ1NlZWRSb3V0ZXIoa25vd25Sb3V0ZXJzLCB0aGlzLl9zZWVkUm91dGVyLCBjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uZSBvZiB0aGUga25vd24gcm91dGVycyByZXR1cm5lZCBhIHZhbGlkIHJvdXRpbmcgdGFibGUgLSB0cnkgdG8gdXNlIHNlZWQgcm91dGVyIGFkZHJlc3MgZm9yIHJlZGlzY292ZXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IF9fcmVhZC5hcHBseSh2b2lkIDAsIFtfYy5zZW50KCksIDJdKSwgbmV3Um91dGluZ1RhYmxlID0gX2JbMF0sIGVycm9yID0gX2JbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fYXBwbHlSb3V0aW5nVGFibGVJZlBvc3NpYmxlKGN1cnJlbnRSb3V0aW5nVGFibGUsIG5ld1JvdXRpbmdUYWJsZSwgZXJyb3IpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Muc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fZmV0Y2hSb3V0aW5nVGFibGVVc2luZ0tub3duUm91dGVycyA9IGZ1bmN0aW9uIChrbm93blJvdXRlcnMsIGN1cnJlbnRSb3V0aW5nVGFibGUsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIG5ld1JvdXRpbmdUYWJsZSwgZXJyb3IsIGxhc3RSb3V0ZXJJbmRleDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZmV0Y2hSb3V0aW5nVGFibGUoa25vd25Sb3V0ZXJzLCBjdXJyZW50Um91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBfX3JlYWQuYXBwbHkodm9pZCAwLCBbX2Iuc2VudCgpLCAyXSksIG5ld1JvdXRpbmdUYWJsZSA9IF9hWzBdLCBlcnJvciA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1JvdXRpbmdUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uZSBvZiB0aGUga25vd24gcm91dGVycyByZXR1cm5lZCBhIHZhbGlkIHJvdXRpbmcgdGFibGUgLSB1c2UgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgW25ld1JvdXRpbmdUYWJsZSwgbnVsbF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJvdXRlckluZGV4ID0ga25vd25Sb3V0ZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLl9mb3JnZXRSb3V0ZXIoY3VycmVudFJvdXRpbmdUYWJsZSwga25vd25Sb3V0ZXJzLCBsYXN0Um91dGVySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFtudWxsLCBlcnJvcl1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9mZXRjaFJvdXRpbmdUYWJsZVVzaW5nU2VlZFJvdXRlciA9IGZ1bmN0aW9uIChzZWVuUm91dGVycywgc2VlZFJvdXRlciwgcm91dGluZ1RhYmxlLCBib29rbWFya3MsIGltcGVyc29uYXRlZFVzZXIsIGF1dGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmVkQWRkcmVzc2VzLCBuZXdBZGRyZXNzZXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3Jlc29sdmVTZWVkUm91dGVyKHNlZWRSb3V0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGFsbCBhZGRyZXNzZXMgdGhhdCB3ZSd2ZSBhbHJlYWR5IHRyaWVkXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkQWRkcmVzc2VzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QWRkcmVzc2VzID0gcmVzb2x2ZWRBZGRyZXNzZXMuZmlsdGVyKGZ1bmN0aW9uIChhZGRyZXNzKSB7IHJldHVybiBzZWVuUm91dGVycy5pbmRleE9mKGFkZHJlc3MpIDwgMDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9mZXRjaFJvdXRpbmdUYWJsZShuZXdBZGRyZXNzZXMsIHJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX3Jlc29sdmVTZWVkUm91dGVyID0gZnVuY3Rpb24gKHNlZWRSb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmVkQWRkcmVzc2VzLCBkbnNSZXNvbHZlZEFkZHJlc3NlcztcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hvc3ROYW1lUmVzb2x2ZXIucmVzb2x2ZShzZWVkUm91dGVyKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkQWRkcmVzc2VzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwocmVzb2x2ZWRBZGRyZXNzZXMubWFwKGZ1bmN0aW9uIChhZGRyZXNzKSB7IHJldHVybiBfdGhpcy5fZG5zUmVzb2x2ZXIucmVzb2x2ZShhZGRyZXNzKTsgfSkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZG5zUmVzb2x2ZWRBZGRyZXNzZXMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgW10uY29uY2F0LmFwcGx5KFtdLCBkbnNSZXNvbHZlZEFkZHJlc3NlcyldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLl9mZXRjaFJvdXRpbmdUYWJsZSA9IGZ1bmN0aW9uIChyb3V0ZXJBZGRyZXNzZXMsIHJvdXRpbmdUYWJsZSwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJvdXRlckFkZHJlc3Nlcy5yZWR1Y2UoZnVuY3Rpb24gKHJlZnJlc2hlZFRhYmxlUHJvbWlzZSwgY3VycmVudFJvdXRlciwgY3VycmVudEluZGV4KSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIG5ld1JvdXRpbmdUYWJsZSwgcHJldmlvdXNSb3V0ZXJJbmRleCwgX2IsIHNlc3Npb24sIGVycm9yLCBlcnJvcl8zO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCByZWZyZXNoZWRUYWJsZVByb21pc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9fcmVhZC5hcHBseSh2b2lkIDAsIFtfYy5zZW50KCksIDFdKSwgbmV3Um91dGluZ1RhYmxlID0gX2FbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Um91dGluZ1RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFsaWQgcm91dGluZyB0YWJsZSB3YXMgZmV0Y2hlZCAtIGp1c3QgcmV0dXJuIGl0LCB0cnkgbmV4dCByb3V0ZXIgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFtuZXdSb3V0aW5nVGFibGUsIG51bGxdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUm91dGVySW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIuX2ZvcmdldFJvdXRlcihyb3V0aW5nVGFibGUsIHJvdXRlckFkZHJlc3NlcywgcHJldmlvdXNSb3V0ZXJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jcmVhdGVTZXNzaW9uRm9yUmVkaXNjb3ZlcnkoY3VycmVudFJvdXRlciwgYm9va21hcmtzLCBpbXBlcnNvbmF0ZWRVc2VyLCBhdXRoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gX19yZWFkLmFwcGx5KHZvaWQgMCwgW19jLnNlbnQoKSwgMl0pLCBzZXNzaW9uID0gX2JbMF0sIGVycm9yID0gX2JbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYy50cnlzLnB1c2goWzMsIDUsIDYsIDddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3JlZGlzY292ZXJ5Lmxvb2t1cFJvdXRpbmdUYWJsZU9uUm91dGVyKHNlc3Npb24sIHJvdXRpbmdUYWJsZS5kYXRhYmFzZSwgY3VycmVudFJvdXRlciwgaW1wZXJzb25hdGVkVXNlcildO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCBbX2Muc2VudCgpLCBudWxsXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzMgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5faGFuZGxlUmVkaXNjb3ZlcnlFcnJvcihlcnJvcl8zLCBjdXJyZW50Um91dGVyKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVuYWJsZSB0byBhY3F1aXJlIGNvbm5lY3Rpb24gYW5kIGNyZWF0ZSBzZXNzaW9uIHRvd2FyZHMgdGhlIGN1cnJlbnQgcm91dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBudWxsIHRvIHNpZ25hbCB0aGF0IHRoZSBuZXh0IHJvdXRlciBzaG91bGQgYmUgdHJpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFtudWxsLCBlcnJvcl1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7IH0sIFByb21pc2UucmVzb2x2ZShbbnVsbCwgbnVsbF0pKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fY3JlYXRlU2Vzc2lvbkZvclJlZGlzY292ZXJ5ID0gZnVuY3Rpb24gKHJvdXRlckFkZHJlc3MsIGJvb2ttYXJrcywgaW1wZXJzb25hdGVkVXNlciwgYXV0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29ubmVjdGlvbiwgZGF0YWJhc2VTcGVjaWZpY0Vycm9ySGFuZGxlciwgZGVsZWdhdGVDb25uZWN0aW9uLCBjb25uZWN0aW9uUHJvdmlkZXIsIHByb3RvY29sVmVyc2lvbiwgZXJyb3JfNDtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzAsIDQsICwgNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY29ubmVjdGlvblBvb2wuYWNxdWlyZSh7IGF1dGg6IGF1dGggfSwgcm91dGVyQWRkcmVzcyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdXRoKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3ZlcmlmeVN0aWNreUNvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiByb3V0ZXJBZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIgPSBjb25uZWN0aW9uXzEuQ29ubmVjdGlvbkVycm9ySGFuZGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZTogU0VTU0lPTl9FWFBJUkVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlY3VyaXR5RXJyb3I6IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcywgY29ubikgeyByZXR1cm4gX3RoaXMuX2hhbmRsZVNlY3VyaXR5RXJyb3IoZXJyb3IsIGFkZHJlc3MsIGNvbm4pOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlQ29ubmVjdGlvbiA9ICFjb25uZWN0aW9uLl9zdGlja3lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBjb25uZWN0aW9uXzEuRGVsZWdhdGVDb25uZWN0aW9uKGNvbm5lY3Rpb24sIGRhdGFiYXNlU3BlY2lmaWNFcnJvckhhbmRsZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgY29ubmVjdGlvbl8xLkRlbGVnYXRlQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25Qcm92aWRlciA9IG5ldyBjb25uZWN0aW9uX3Byb3ZpZGVyX3NpbmdsZV8xLmRlZmF1bHQoZGVsZWdhdGVDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sVmVyc2lvbiA9IGNvbm5lY3Rpb24ucHJvdG9jb2woKS52ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvY29sVmVyc2lvbiA8IDQuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBbbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogV1JJVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va21hcmtzOiBCb29rbWFya3MuZW1wdHkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uUHJvdmlkZXI6IGNvbm5lY3Rpb25Qcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIG51bGxdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBbbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBSRUFELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2U6IFNZU1RFTV9EQl9OQU1FLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va21hcmtzOiBib29rbWFya3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uUHJvdmlkZXI6IGNvbm5lY3Rpb25Qcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcGVyc29uYXRlZFVzZXI6IGltcGVyc29uYXRlZFVzZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIG51bGxdXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfNCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLl9oYW5kbGVSZWRpc2NvdmVyeUVycm9yKGVycm9yXzQsIHJvdXRlckFkZHJlc3MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlci5wcm90b3R5cGUuX2hhbmRsZVJlZGlzY292ZXJ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIHJvdXRlckFkZHJlc3MpIHtcbiAgICAgICAgaWYgKF9pc0ZhaWxGYXN0RXJyb3IoZXJyb3IpIHx8IF9pc0ZhaWxGYXN0U2VjdXJpdHlFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVycm9yLmNvZGUgPT09IFBST0NFRFVSRV9OT1RfRk9VTkRfQ09ERSkge1xuICAgICAgICAgICAgLy8gdGhyb3cgd2hlbiBnZXRTZXJ2ZXJzIHByb2NlZHVyZSBub3QgZm91bmQgYmVjYXVzZSB0aGlzIGlzIGNsZWFybHkgYSBjb25maWd1cmF0aW9uIGlzc3VlXG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJTZXJ2ZXIgYXQgXCIuY29uY2F0KHJvdXRlckFkZHJlc3MuYXNIb3N0UG9ydCgpLCBcIiBjYW4ndCBwZXJmb3JtIHJvdXRpbmcuIE1ha2Ugc3VyZSB5b3UgYXJlIGNvbm5lY3RpbmcgdG8gYSBjYXVzYWwgY2x1c3RlclwiKSwgU0VSVklDRV9VTkFWQUlMQUJMRSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvZy53YXJuKFwidW5hYmxlIHRvIGZldGNoIHJvdXRpbmcgdGFibGUgYmVjYXVzZSBvZiBhbiBlcnJvciBcIi5jb25jYXQoZXJyb3IpKTtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBlcnJvcl07XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fYXBwbHlSb3V0aW5nVGFibGVJZlBvc3NpYmxlID0gZnVuY3Rpb24gKGN1cnJlbnRSb3V0aW5nVGFibGUsIG5ld1JvdXRpbmdUYWJsZSwgZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdSb3V0aW5nVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub25lIG9mIHJvdXRpbmcgc2VydmVycyByZXR1cm5lZCB2YWxpZCByb3V0aW5nIHRhYmxlLCB0aHJvdyBleGNlcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJDb3VsZCBub3QgcGVyZm9ybSBkaXNjb3ZlcnkuIE5vIHJvdXRpbmcgc2VydmVycyBhdmFpbGFibGUuIEtub3duIHJvdXRpbmcgdGFibGU6IFwiLmNvbmNhdChjdXJyZW50Um91dGluZ1RhYmxlKSwgU0VSVklDRV9VTkFWQUlMQUJMRSwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1JvdXRpbmdUYWJsZS53cml0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSBzZWVkIHJvdXRlciBuZXh0IHRpbWUuIHRoaXMgaXMgaW1wb3J0YW50IHdoZW4gY2x1c3RlciBpcyBwYXJ0aXRpb25lZC4gaXQgdHJpZXMgdG8gbWFrZSBzdXJlIGRyaXZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvZXMgbm90IGFsd2F5cyBnZXQgcm91dGluZyB0YWJsZSB3aXRob3V0IHdyaXRlcnMgYmVjYXVzZSBpdCB0YWxrcyBleGNsdXNpdmVseSB0byBhIG1pbm9yaXR5IHBhcnRpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VzZVNlZWRSb3V0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fdXBkYXRlUm91dGluZ1RhYmxlKG5ld1JvdXRpbmdUYWJsZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3Um91dGluZ1RhYmxlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLnByb3RvdHlwZS5fdXBkYXRlUm91dGluZ1RhYmxlID0gZnVuY3Rpb24gKG5ld1JvdXRpbmdUYWJsZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IFxuICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZSBvbGQgY29ubmVjdGlvbnMgdG8gc2VydmVycyBub3QgcHJlc2VudCBpbiB0aGUgbmV3IHJvdXRpbmcgdGFibGVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY29ubmVjdGlvblBvb2wua2VlcEFsbChuZXdSb3V0aW5nVGFibGUuYWxsU2VydmVycygpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIG9sZCBjb25uZWN0aW9ucyB0byBzZXJ2ZXJzIG5vdCBwcmVzZW50IGluIHRoZSBuZXcgcm91dGluZyB0YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm91dGluZ1RhYmxlUmVnaXN0cnkucmVtb3ZlRXhwaXJlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm91dGluZ1RhYmxlUmVnaXN0cnkucmVnaXN0ZXIobmV3Um91dGluZ1RhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiVXBkYXRlZCByb3V0aW5nIHRhYmxlIFwiLmNvbmNhdChuZXdSb3V0aW5nVGFibGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyLl9mb3JnZXRSb3V0ZXIgPSBmdW5jdGlvbiAocm91dGluZ1RhYmxlLCByb3V0ZXJzQXJyYXksIHJvdXRlckluZGV4KSB7XG4gICAgICAgIHZhciBhZGRyZXNzID0gcm91dGVyc0FycmF5W3JvdXRlckluZGV4XTtcbiAgICAgICAgaWYgKHJvdXRpbmdUYWJsZSAmJiBhZGRyZXNzKSB7XG4gICAgICAgICAgICByb3V0aW5nVGFibGUuZm9yZ2V0Um91dGVyKGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlcjtcbn0oY29ubmVjdGlvbl9wcm92aWRlcl9wb29sZWRfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0aW5nQ29ubmVjdGlvblByb3ZpZGVyO1xuLyoqXG4gKiBSZXNwb25zaWJsZSBmb3Iga2VlcGluZyB0cmFjayBvZiB0aGUgZXhpc3Rpbmcgcm91dGluZyB0YWJsZXNcbiAqL1xudmFyIFJvdXRpbmdUYWJsZVJlZ2lzdHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtpbnR9IHJvdXRpbmdUYWJsZVB1cmdlRGVsYXkgVGhlIHJvdXRpbmcgdGFibGUgcHVyZ2UgZGVsYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3V0aW5nVGFibGVSZWdpc3RyeShyb3V0aW5nVGFibGVQdXJnZURlbGF5KSB7XG4gICAgICAgIHRoaXMuX3RhYmxlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcm91dGluZ1RhYmxlUHVyZ2VEZWxheSA9IHJvdXRpbmdUYWJsZVB1cmdlRGVsYXk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1dCBhIHJvdXRpbmcgdGFibGUgaW4gdGhlIHJlZ2lzdHJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JvdXRpbmdUYWJsZX0gdGFibGUgVGhlIHJvdXRpbmcgdGFibGVcbiAgICAgKiBAcmV0dXJucyB7Um91dGluZ1RhYmxlUmVnaXN0cnl9IHRoaXNcbiAgICAgKi9cbiAgICBSb3V0aW5nVGFibGVSZWdpc3RyeS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgdGhpcy5fdGFibGVzLnNldCh0YWJsZS5kYXRhYmFzZSwgdGFibGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGx5IGZ1bmN0aW9uIGluIHRoZSByb3V0aW5nIHRhYmxlIGZvciBhbiBzcGVjaWZpYyBkYXRhYmFzZS4gSWYgdGhlIGRhdGFiYXNlIG5hbWUgaXMgbm90IGRlZmluZWQsIHRoZSBmdW5jdGlvbiB3aWxsXG4gICAgICogYmUgYXBwbGllZCBmb3IgZWFjaCBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YWJhc2UgVGhlIGRhdGFiYXNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2tzIFRoZSBhY3Rpb25zXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbiAoUm91dGluZ1RhYmxlKX0gY2FsbGJhY2tzLmFwcGx5V2hlbkV4aXN0cyBDYWxsIHdoZW4gdGhlIGRiIGV4aXN0cyBvciB3aGVuIHRoZSBkYXRhYmFzZSBwcm9wZXJ0eSBpcyBub3QgaW5mb3JtZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uICgpfSBjYWxsYmFja3MuYXBwbHlXaGVuRG9udEV4aXN0cyBDYWxsIHdoZW4gdGhlIGRhdGFiYXNlIGRvZXNuJ3QgaGF2ZSB0aGUgcm91dGluZyB0YWJsZSByZWdpc3RyZWRcbiAgICAgKiBAcmV0dXJucyB7Um91dGluZ1RhYmxlUmVnaXN0cnl9IHRoaXNcbiAgICAgKi9cbiAgICBSb3V0aW5nVGFibGVSZWdpc3RyeS5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZGF0YWJhc2UsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBhcHBseVdoZW5FeGlzdHMgPSBfYi5hcHBseVdoZW5FeGlzdHMsIF9jID0gX2IuYXBwbHlXaGVuRG9udEV4aXN0cywgYXBwbHlXaGVuRG9udEV4aXN0cyA9IF9jID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7IH0gOiBfYztcbiAgICAgICAgaWYgKHRoaXMuX3RhYmxlcy5oYXMoZGF0YWJhc2UpKSB7XG4gICAgICAgICAgICBhcHBseVdoZW5FeGlzdHModGhpcy5fdGFibGVzLmdldChkYXRhYmFzZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRhYmFzZSA9PT0gJ3N0cmluZycgfHwgZGF0YWJhc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGFwcGx5V2hlbkRvbnRFeGlzdHMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvckVhY2goYXBwbHlXaGVuRXhpc3RzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHJvdXRpbmcgdGFibGUgZnJvbSBhIGdpdmVuIGRhdGFiYXNlIG5hbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGltcGVyc29uYXRlZFVzZXJ9IGltcGVyc29uYXRlZFVzZXIgVGhlIGltcGVyc29uYXRlZCBVc2VyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFiYXNlIFRoZSBkYXRhYmFzZSBuYW1lXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfFJvdXRpbmdUYWJsZX0gZGVmYXVsdFN1cHBsaWVyIFRoZSByb3V0aW5nIHRhYmxlIHN1cHBsaWVyLCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uIG9yIG5vdCBleGlzdHMsIGl0IHdpbGwgcmV0dXJuIGl0c2VsZiBhcyBkZWZhdWx0IHZhbHVlXG4gICAgICogQHJldHVybnMge1JvdXRpbmdUYWJsZX0gVGhlIHJvdXRpbmcgdGFibGUgZm9yIHRoZSByZXNwZWN0aXZlIGRhdGFiYXNlXG4gICAgICovXG4gICAgUm91dGluZ1RhYmxlUmVnaXN0cnkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChkYXRhYmFzZSwgZGVmYXVsdFN1cHBsaWVyKSB7XG4gICAgICAgIGlmICh0aGlzLl90YWJsZXMuaGFzKGRhdGFiYXNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhYmxlcy5nZXQoZGF0YWJhc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFN1cHBsaWVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGRlZmF1bHRTdXBwbGllcigpXG4gICAgICAgICAgICA6IGRlZmF1bHRTdXBwbGllcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgcm91dGluZyB0YWJsZSB3aGljaCBpcyBhbHJlYWR5IGV4cGlyZWRcbiAgICAgKiBAcmV0dXJucyB7Um91dGluZ1RhYmxlUmVnaXN0cnl9IHRoaXNcbiAgICAgKi9cbiAgICBSb3V0aW5nVGFibGVSZWdpc3RyeS5wcm90b3R5cGUucmVtb3ZlRXhwaXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZUlmKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmlzRXhwaXJlZEZvcihfdGhpcy5fcm91dGluZ1RhYmxlUHVyZ2VEZWxheSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUm91dGluZ1RhYmxlUmVnaXN0cnkucHJvdG90eXBlLl9mb3JFYWNoID0gZnVuY3Rpb24gKGFwcGx5KSB7XG4gICAgICAgIHZhciBlXzMsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLl90YWJsZXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9kID0gX19yZWFkKF9jLnZhbHVlLCAyKSwgdmFsdWUgPSBfZFsxXTtcbiAgICAgICAgICAgICAgICBhcHBseSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfM18xKSB7IGVfMyA9IHsgZXJyb3I6IGVfM18xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJvdXRpbmdUYWJsZVJlZ2lzdHJ5LnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLl90YWJsZXMuZGVsZXRlKGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUm91dGluZ1RhYmxlUmVnaXN0cnkucHJvdG90eXBlLl9yZW1vdmVJZiA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIGVfNCwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuX3RhYmxlcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCBrZXkgPSBfZFswXSwgdmFsdWUgPSBfZFsxXTtcbiAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmUoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBSb3V0aW5nVGFibGVSZWdpc3RyeTtcbn0oKSk7XG5mdW5jdGlvbiBfaXNGYWlsRmFzdEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgREFUQUJBU0VfTk9UX0ZPVU5EX0NPREUsXG4gICAgICAgIElOVkFMSURfQk9PS01BUktfQ09ERSxcbiAgICAgICAgSU5WQUxJRF9CT09LTUFSS19NSVhUVVJFX0NPREUsXG4gICAgICAgIElOVkFMSURfQVJHVU1FTlRfRVJST1IsXG4gICAgICAgIElOVkFMSURfUkVRVUVTVF9FUlJPUixcbiAgICAgICAgU1RBVEVNRU5UX1RZUEVfRVJST1IsXG4gICAgICAgIE5PVF9BVkFJTEFCTEVcbiAgICBdLmluY2x1ZGVzKGVycm9yLmNvZGUpO1xufVxuZnVuY3Rpb24gX2lzRmFpbEZhc3RTZWN1cml0eUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLmNvZGUuc3RhcnRzV2l0aCgnTmVvLkNsaWVudEVycm9yLlNlY3VyaXR5LicpICYmXG4gICAgICAgICFbXG4gICAgICAgICAgICBBVVRIT1JJWkFUSU9OX0VYUElSRURfQ09ERVxuICAgICAgICBdLmluY2x1ZGVzKGVycm9yLmNvZGUpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar SingleConnectionProvider = /** @class */ (function (_super) {\n    __extends(SingleConnectionProvider, _super);\n    function SingleConnectionProvider(connection) {\n        var _this = _super.call(this) || this;\n        _this._connection = connection;\n        return _this;\n    }\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    SingleConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks;\n        var connection = this._connection;\n        this._connection = null;\n        return Promise.resolve(connection);\n    };\n    return SingleConnectionProvider;\n}(neo4j_driver_core_1.ConnectionProvider));\nexports[\"default\"] = SingleConnectionProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9jb25uZWN0aW9uLXByb3ZpZGVyLXNpbmdsZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uLXByb3ZpZGVyL2Nvbm5lY3Rpb24tcHJvdmlkZXItc2luZ2xlLmpzPzM1NGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIFNpbmdsZUNvbm5lY3Rpb25Qcm92aWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2luZ2xlQ29ubmVjdGlvblByb3ZpZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbmdsZUNvbm5lY3Rpb25Qcm92aWRlcihjb25uZWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWUge0BsaW5rIENvbm5lY3Rpb25Qcm92aWRlcn0gZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBtZXRob2QgYW5kXG4gICAgICogaXRzIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBTaW5nbGVDb25uZWN0aW9uUHJvdmlkZXIucHJvdG90eXBlLmFjcXVpcmVDb25uZWN0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBhY2Nlc3NNb2RlID0gX2IuYWNjZXNzTW9kZSwgZGF0YWJhc2UgPSBfYi5kYXRhYmFzZSwgYm9va21hcmtzID0gX2IuYm9va21hcmtzO1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNvbm5lY3Rpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbmdsZUNvbm5lY3Rpb25Qcm92aWRlcjtcbn0obmVvNGpfZHJpdmVyX2NvcmVfMS5Db25uZWN0aW9uUHJvdmlkZXIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNpbmdsZUNvbm5lY3Rpb25Qcm92aWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RoutingConnectionProvider = exports.DirectConnectionProvider = exports.PooledConnectionProvider = exports.SingleConnectionProvider = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar connection_provider_single_1 = __webpack_require__(/*! ./connection-provider-single */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js\");\nObject.defineProperty(exports, \"SingleConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_single_1).default; } }));\nvar connection_provider_pooled_1 = __webpack_require__(/*! ./connection-provider-pooled */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js\");\nObject.defineProperty(exports, \"PooledConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_pooled_1).default; } }));\nvar connection_provider_direct_1 = __webpack_require__(/*! ./connection-provider-direct */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js\");\nObject.defineProperty(exports, \"DirectConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_direct_1).default; } }));\nvar connection_provider_routing_1 = __webpack_require__(/*! ./connection-provider-routing */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js\");\nObject.defineProperty(exports, \"RoutingConnectionProvider\", ({ enumerable: true, get: function () { return __importDefault(connection_provider_routing_1).default; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQyxHQUFHLGdDQUFnQyxHQUFHLGdDQUFnQyxHQUFHLGdDQUFnQztBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtQkFBTyxDQUFDLDZJQUE4QjtBQUN6RSw0REFBMkQsRUFBRSxxQ0FBcUMsaUVBQWlFLEVBQUM7QUFDcEssbUNBQW1DLG1CQUFPLENBQUMsNklBQThCO0FBQ3pFLDREQUEyRCxFQUFFLHFDQUFxQyxpRUFBaUUsRUFBQztBQUNwSyxtQ0FBbUMsbUJBQU8sQ0FBQyw2SUFBOEI7QUFDekUsNERBQTJELEVBQUUscUNBQXFDLGlFQUFpRSxFQUFDO0FBQ3BLLG9DQUFvQyxtQkFBTyxDQUFDLCtJQUErQjtBQUMzRSw2REFBNEQsRUFBRSxxQ0FBcUMsa0VBQWtFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uLXByb3ZpZGVyL2luZGV4LmpzPzYzZTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJvdXRpbmdDb25uZWN0aW9uUHJvdmlkZXIgPSBleHBvcnRzLkRpcmVjdENvbm5lY3Rpb25Qcm92aWRlciA9IGV4cG9ydHMuUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyID0gZXhwb3J0cy5TaW5nbGVDb25uZWN0aW9uUHJvdmlkZXIgPSB2b2lkIDA7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGNvbm5lY3Rpb25fcHJvdmlkZXJfc2luZ2xlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aW9uLXByb3ZpZGVyLXNpbmdsZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNpbmdsZUNvbm5lY3Rpb25Qcm92aWRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KGNvbm5lY3Rpb25fcHJvdmlkZXJfc2luZ2xlXzEpLmRlZmF1bHQ7IH0gfSk7XG52YXIgY29ubmVjdGlvbl9wcm92aWRlcl9wb29sZWRfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tcHJvdmlkZXItcG9vbGVkXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQoY29ubmVjdGlvbl9wcm92aWRlcl9wb29sZWRfMSkuZGVmYXVsdDsgfSB9KTtcbnZhciBjb25uZWN0aW9uX3Byb3ZpZGVyX2RpcmVjdF8xID0gcmVxdWlyZShcIi4vY29ubmVjdGlvbi1wcm92aWRlci1kaXJlY3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJEaXJlY3RDb25uZWN0aW9uUHJvdmlkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9faW1wb3J0RGVmYXVsdChjb25uZWN0aW9uX3Byb3ZpZGVyX2RpcmVjdF8xKS5kZWZhdWx0OyB9IH0pO1xudmFyIGNvbm5lY3Rpb25fcHJvdmlkZXJfcm91dGluZ18xID0gcmVxdWlyZShcIi4vY29ubmVjdGlvbi1wcm92aWRlci1yb3V0aW5nXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUm91dGluZ0Nvbm5lY3Rpb25Qcm92aWRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KGNvbm5lY3Rpb25fcHJvdmlkZXJfcm91dGluZ18xKS5kZWZhdWx0OyB9IH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar LivenessCheckProvider = /** @class */ (function () {\n    function LivenessCheckProvider(_a) {\n        var connectionLivenessCheckTimeout = _a.connectionLivenessCheckTimeout;\n        this._connectionLivenessCheckTimeout = connectionLivenessCheckTimeout;\n    }\n    /**\n     * Checks connection liveness with configured params.\n     *\n     * @param {Connection} connection\n     * @returns {Promise<true>} If liveness checks succeed, throws otherwise\n     */\n    LivenessCheckProvider.prototype.check = function (connection) {\n        return __awaiter(this, void 0, void 0, function () {\n            var idleFor;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._isCheckDisabled || this._isNewlyCreatedConnection(connection)) {\n                            return [2 /*return*/, true];\n                        }\n                        idleFor = Date.now() - connection.idleTimestamp;\n                        if (!(this._connectionLivenessCheckTimeout === 0 ||\n                            idleFor > this._connectionLivenessCheckTimeout)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, connection.resetAndFlush()\n                                .then(function () { return true; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                    case 2: return [2 /*return*/, true];\n                }\n            });\n        });\n    };\n    Object.defineProperty(LivenessCheckProvider.prototype, \"_isCheckDisabled\", {\n        get: function () {\n            return this._connectionLivenessCheckTimeout == null || this._connectionLivenessCheckTimeout < 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    LivenessCheckProvider.prototype._isNewlyCreatedConnection = function (connection) {\n        return connection.authToken == null;\n    };\n    return LivenessCheckProvider;\n}());\nexports[\"default\"] = LivenessCheckProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi1wcm92aWRlci9saXZlbmVzcy1jaGVjay1wcm92aWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxZQUFZO0FBQzNCLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsY0FBYztBQUNsRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uLXByb3ZpZGVyL2xpdmVuZXNzLWNoZWNrLXByb3ZpZGVyLmpzPzE4NjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIExpdmVuZXNzQ2hlY2tQcm92aWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaXZlbmVzc0NoZWNrUHJvdmlkZXIoX2EpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dCA9IF9hLmNvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dDtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0ID0gY29ubmVjdGlvbkxpdmVuZXNzQ2hlY2tUaW1lb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgY29ubmVjdGlvbiBsaXZlbmVzcyB3aXRoIGNvbmZpZ3VyZWQgcGFyYW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dHJ1ZT59IElmIGxpdmVuZXNzIGNoZWNrcyBzdWNjZWVkLCB0aHJvd3Mgb3RoZXJ3aXNlXG4gICAgICovXG4gICAgTGl2ZW5lc3NDaGVja1Byb3ZpZGVyLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZGxlRm9yO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQ2hlY2tEaXNhYmxlZCB8fCB0aGlzLl9pc05ld2x5Q3JlYXRlZENvbm5lY3Rpb24oY29ubmVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlRm9yID0gRGF0ZS5ub3coKSAtIGNvbm5lY3Rpb24uaWRsZVRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMuX2Nvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVGb3IgPiB0aGlzLl9jb25uZWN0aW9uTGl2ZW5lc3NDaGVja1RpbWVvdXQpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbm5lY3Rpb24ucmVzZXRBbmRGbHVzaCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpdmVuZXNzQ2hlY2tQcm92aWRlci5wcm90b3R5cGUsIFwiX2lzQ2hlY2tEaXNhYmxlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dCA9PSBudWxsIHx8IHRoaXMuX2Nvbm5lY3Rpb25MaXZlbmVzc0NoZWNrVGltZW91dCA8IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBMaXZlbmVzc0NoZWNrUHJvdmlkZXIucHJvdG90eXBlLl9pc05ld2x5Q3JlYXRlZENvbm5lY3Rpb24gPSBmdW5jdGlvbiAoY29ubmVjdGlvbikge1xuICAgICAgICByZXR1cm4gY29ubmVjdGlvbi5hdXRoVG9rZW4gPT0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBMaXZlbmVzc0NoZWNrUHJvdmlkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGl2ZW5lc3NDaGVja1Byb3ZpZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/liveness-check-provider.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createChannelConnection = void 0;\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar connection_1 = __importDefault(__webpack_require__(/*! ./connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\"));\nvar bolt_1 = __importDefault(__webpack_require__(/*! ../bolt */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\"));\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar Logger = neo4j_driver_core_1.internal.logger.Logger;\nvar idGenerator = 0;\n/**\n * Crete new connection to the provided address. Returned connection is not connected.\n * @param {ServerAddress} address - the Bolt endpoint to connect to.\n * @param {Object} config - the driver configuration.\n * @param {ConnectionErrorHandler} errorHandler - the error handler for connection errors.\n * @param {Logger} log - configured logger.\n * @param {clientCertificate} clientCertificate - configured client certificate\n * @return {Connection} - new connection.\n */\nfunction createChannelConnection(address, config, errorHandler, log, clientCertificate, serversideRouting, createChannel) {\n    if (serversideRouting === void 0) { serversideRouting = null; }\n    if (createChannel === void 0) { createChannel = function (channelConfig) { return new channel_1.Channel(channelConfig); }; }\n    var channelConfig = new channel_1.ChannelConfig(address, config, errorHandler.errorCode(), clientCertificate);\n    var channel = createChannel(channelConfig);\n    return bolt_1.default.handshake(channel, log)\n        .then(function (_a) {\n        var version = _a.protocolVersion, consumeRemainingBuffer = _a.consumeRemainingBuffer;\n        var chunker = new channel_1.Chunker(channel);\n        var dechunker = new channel_1.Dechunker();\n        var createProtocol = function (conn) {\n            return bolt_1.default.create({\n                version: version,\n                channel: channel,\n                chunker: chunker,\n                dechunker: dechunker,\n                disableLosslessIntegers: config.disableLosslessIntegers,\n                useBigInt: config.useBigInt,\n                serversideRouting: serversideRouting,\n                server: conn.server,\n                log: conn.logger,\n                observer: {\n                    onObserversCountChange: conn._handleOngoingRequestsNumberChange.bind(conn),\n                    onError: conn._handleFatalError.bind(conn),\n                    onFailure: conn._resetOnFailure.bind(conn),\n                    onProtocolError: conn._handleProtocolError.bind(conn),\n                    onErrorApplyTransformation: function (error) {\n                        return conn.handleAndTransformError(error, conn._address);\n                    }\n                }\n            });\n        };\n        var connection = new ChannelConnection(channel, errorHandler, address, log, config.disableLosslessIntegers, serversideRouting, chunker, config.notificationFilter, createProtocol, config.telemetryDisabled);\n        // forward all pending bytes to the dechunker\n        consumeRemainingBuffer(function (buffer) { return dechunker.write(buffer); });\n        return connection;\n    })\n        .catch(function (reason) {\n        return channel.close().then(function () {\n            throw reason;\n        });\n    });\n}\nexports.createChannelConnection = createChannelConnection;\nvar ChannelConnection = /** @class */ (function (_super) {\n    __extends(ChannelConnection, _super);\n    /**\n     * @constructor\n     * @param {Channel} channel - channel with a 'write' function and a 'onmessage' callback property.\n     * @param {ConnectionErrorHandler} errorHandler the error handler.\n     * @param {ServerAddress} address - the server address to connect to.\n     * @param {Logger} log - the configured logger.\n     * @param {boolean} disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {Chunker} chunker the chunker\n     * @param protocolSupplier Bolt protocol supplier\n     */\n    function ChannelConnection(channel, errorHandler, address, log, disableLosslessIntegers, serversideRouting, chunker, // to be removed,\n    notificationFilter, protocolSupplier, telemetryDisabled) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (serversideRouting === void 0) { serversideRouting = null; }\n        var _this = _super.call(this, errorHandler) || this;\n        _this._authToken = null;\n        _this._idle = false;\n        _this._reseting = false;\n        _this._resetObservers = [];\n        _this._id = idGenerator++;\n        _this._address = address;\n        _this._server = { address: address.asHostPort() };\n        _this._creationTimestamp = Date.now();\n        _this._disableLosslessIntegers = disableLosslessIntegers;\n        _this._ch = channel;\n        _this._chunker = chunker;\n        _this._log = createConnectionLogger(_this, log);\n        _this._serversideRouting = serversideRouting;\n        _this._notificationFilter = notificationFilter;\n        _this._telemetryDisabledDriverConfig = telemetryDisabled === true;\n        _this._telemetryDisabledConnection = true;\n        // connection from the database, returned in response for HELLO message and might not be available\n        _this._dbConnectionId = null;\n        // bolt protocol is initially not initialized\n        /**\n         * @private\n         * @type {BoltProtocol}\n         */\n        _this._protocol = protocolSupplier(_this);\n        // Set to true on fatal errors, to get this out of connection pool.\n        _this._isBroken = false;\n        if (_this._log.isDebugEnabled()) {\n            _this._log.debug(\"created towards \".concat(address));\n        }\n        return _this;\n    }\n    ChannelConnection.prototype.beginTransaction = function (config) {\n        this._sendTelemetryIfEnabled(config);\n        return this._protocol.beginTransaction(config);\n    };\n    ChannelConnection.prototype.run = function (query, parameters, config) {\n        this._sendTelemetryIfEnabled(config);\n        return this._protocol.run(query, parameters, config);\n    };\n    ChannelConnection.prototype._sendTelemetryIfEnabled = function (config) {\n        if (this._telemetryDisabledConnection ||\n            this._telemetryDisabledDriverConfig ||\n            config == null ||\n            config.apiTelemetryConfig == null) {\n            return;\n        }\n        this._protocol.telemetry({\n            api: config.apiTelemetryConfig.api\n        }, {\n            onCompleted: config.apiTelemetryConfig.onTelemetrySuccess,\n            onError: config.beforeError\n        });\n    };\n    ChannelConnection.prototype.commitTransaction = function (config) {\n        return this._protocol.commitTransaction(config);\n    };\n    ChannelConnection.prototype.rollbackTransaction = function (config) {\n        return this._protocol.rollbackTransaction(config);\n    };\n    ChannelConnection.prototype.getProtocolVersion = function () {\n        return this._protocol.version;\n    };\n    Object.defineProperty(ChannelConnection.prototype, \"authToken\", {\n        get: function () {\n            return this._authToken;\n        },\n        set: function (value) {\n            this._authToken = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"supportsReAuth\", {\n        get: function () {\n            return this._protocol.supportsReAuth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"databaseId\", {\n        get: function () {\n            return this._dbConnectionId;\n        },\n        set: function (value) {\n            this._dbConnectionId = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"idleTimestamp\", {\n        get: function () {\n            return this._idleTimestamp;\n        },\n        set: function (value) {\n            this._idleTimestamp = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"creationTimestamp\", {\n        get: function () {\n            return this._creationTimestamp;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send initialization message.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} boltAgent the bolt agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @param {boolean} waitReAuth whether ot not the connection will wait for re-authentication to happen\n     * @return {Promise<Connection>} promise resolved with the current connection if connection is successful. Rejected promise otherwise.\n     */\n    ChannelConnection.prototype.connect = function (userAgent, boltAgent, authToken, waitReAuth) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._protocol.initialized && !this._protocol.supportsReAuth) {\n                            throw (0, neo4j_driver_core_1.newError)('Connection does not support re-auth');\n                        }\n                        this._authToken = authToken;\n                        if (!!this._protocol.initialized) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._initialize(userAgent, boltAgent, authToken)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                    case 2:\n                        if (!waitReAuth) return [3 /*break*/, 4];\n                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                _this._protocol.logoff({\n                                    onError: reject\n                                });\n                                _this._protocol.logon({\n                                    authToken: authToken,\n                                    onError: reject,\n                                    onComplete: function () { return resolve(_this); },\n                                    flush: true\n                                });\n                            })];\n                    case 3: return [2 /*return*/, _a.sent()];\n                    case 4:\n                        this._protocol.logoff();\n                        this._protocol.logon({ authToken: authToken, flush: true });\n                        return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    /**\n     * Perform protocol-specific initialization which includes authentication.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {string} boltAgent the bolt agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @return {Promise<Connection>} promise resolved with the current connection if initialization is successful. Rejected promise otherwise.\n     */\n    ChannelConnection.prototype._initialize = function (userAgent, boltAgent, authToken) {\n        var _this = this;\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            _this._protocol.initialize({\n                userAgent: userAgent,\n                boltAgent: boltAgent,\n                authToken: authToken,\n                notificationFilter: _this._notificationFilter,\n                onError: function (err) { return reject(err); },\n                onComplete: function (metadata) {\n                    if (metadata) {\n                        // read server version from the response metadata, if it is available\n                        var serverVersion = metadata.server;\n                        if (!_this.version || serverVersion) {\n                            _this.version = serverVersion;\n                        }\n                        // read database connection id from the response metadata, if it is available\n                        var dbConnectionId = metadata.connection_id;\n                        if (!_this.databaseId) {\n                            _this.databaseId = dbConnectionId;\n                        }\n                        if (metadata.hints) {\n                            var receiveTimeoutRaw = metadata.hints['connection.recv_timeout_seconds'];\n                            if (receiveTimeoutRaw !== null &&\n                                receiveTimeoutRaw !== undefined) {\n                                var receiveTimeoutInSeconds = (0, neo4j_driver_core_1.toNumber)(receiveTimeoutRaw);\n                                if (Number.isInteger(receiveTimeoutInSeconds) &&\n                                    receiveTimeoutInSeconds > 0) {\n                                    _this._ch.setupReceiveTimeout(receiveTimeoutInSeconds * 1000);\n                                }\n                                else {\n                                    _this._log.info(\"Server located at \".concat(_this._address, \" supplied an invalid connection receive timeout value (\").concat(receiveTimeoutInSeconds, \"). \") +\n                                        'Please, verify the server configuration and status because this can be the symptom of a bigger issue.');\n                                }\n                            }\n                            var telemetryEnabledHint = metadata.hints['telemetry.enabled'];\n                            if (telemetryEnabledHint === true) {\n                                _this._telemetryDisabledConnection = false;\n                            }\n                        }\n                    }\n                    resolve(self);\n                }\n            });\n        });\n    };\n    /**\n     * Get the Bolt protocol for the connection.\n     * @return {BoltProtocol} the protocol.\n     */\n    ChannelConnection.prototype.protocol = function () {\n        return this._protocol;\n    };\n    Object.defineProperty(ChannelConnection.prototype, \"address\", {\n        get: function () {\n            return this._address;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"version\", {\n        /**\n         * Get the version of the connected server.\n         * Available only after initialization\n         *\n         * @returns {ServerVersion} version\n         */\n        get: function () {\n            return this._server.version;\n        },\n        set: function (value) {\n            this._server.version = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"server\", {\n        get: function () {\n            return this._server;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"logger\", {\n        get: function () {\n            return this._log;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * \"Fatal\" means the connection is dead. Only call this if something\n     * happens that cannot be recovered from. This will lead to all subscribers\n     * failing, and the connection getting ejected from the session pool.\n     *\n     * @param error an error object, forwarded to all current and future subscribers\n     */\n    ChannelConnection.prototype._handleFatalError = function (error) {\n        this._isBroken = true;\n        this._error = this.handleAndTransformError(this._protocol.currentFailure || error, this._address);\n        if (this._log.isErrorEnabled()) {\n            this._log.error(\"experienced a fatal error caused by \".concat(this._error, \" (\").concat(neo4j_driver_core_1.json.stringify(this._error), \")\"));\n        }\n        this._protocol.notifyFatalError(this._error);\n    };\n    /**\n     * This method is used by the {@link PooledConnectionProvider}\n     *\n     * @param {any} observer\n     */\n    ChannelConnection.prototype._setIdle = function (observer) {\n        this._idle = true;\n        this._ch.stopReceiveTimeout();\n        this._protocol.queueObserverIfProtocolIsNotBroken(observer);\n    };\n    /**\n     * This method is used by the {@link PooledConnectionProvider}\n     */\n    ChannelConnection.prototype._unsetIdle = function () {\n        this._idle = false;\n        this._updateCurrentObserver();\n    };\n    /**\n     * This method still here because of the connection-channel.tests.js\n     *\n     * @param {any} observer\n     */\n    ChannelConnection.prototype._queueObserver = function (observer) {\n        return this._protocol.queueObserverIfProtocolIsNotBroken(observer);\n    };\n    ChannelConnection.prototype.hasOngoingObservableRequests = function () {\n        return !this._idle && this._protocol.hasOngoingObservableRequests();\n    };\n    /**\n     * Send a RESET-message to the database. Message is immediately flushed to the network.\n     * @return {Promise<void>} promise resolved when SUCCESS-message response arrives, or failed when other response messages arrives.\n     */\n    ChannelConnection.prototype.resetAndFlush = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._reset({\n                onError: function (error) {\n                    if (_this._isBroken) {\n                        // handling a fatal error, no need to raise a protocol violation\n                        reject(error);\n                    }\n                    else {\n                        var neo4jError = _this._handleProtocolError('Received FAILURE as a response for RESET: ' + error);\n                        reject(neo4jError);\n                    }\n                },\n                onComplete: function () {\n                    resolve();\n                }\n            });\n        });\n    };\n    ChannelConnection.prototype._resetOnFailure = function () {\n        var _this = this;\n        if (!this.isOpen()) {\n            return;\n        }\n        this._reset({\n            onError: function () {\n                _this._protocol.resetFailure();\n            },\n            onComplete: function () {\n                _this._protocol.resetFailure();\n            }\n        });\n    };\n    ChannelConnection.prototype._reset = function (observer) {\n        var _this = this;\n        if (this._reseting) {\n            if (!this._protocol.isLastMessageReset()) {\n                this._protocol.reset({\n                    onError: function (error) {\n                        observer.onError(error);\n                    },\n                    onComplete: function () {\n                        observer.onComplete();\n                    }\n                });\n            }\n            else {\n                this._resetObservers.push(observer);\n            }\n            return;\n        }\n        this._resetObservers.push(observer);\n        this._reseting = true;\n        var notifyFinish = function (notify) {\n            _this._reseting = false;\n            var observers = _this._resetObservers;\n            _this._resetObservers = [];\n            observers.forEach(notify);\n        };\n        this._protocol.reset({\n            onError: function (error) {\n                notifyFinish(function (obs) { return obs.onError(error); });\n            },\n            onComplete: function () {\n                notifyFinish(function (obs) { return obs.onComplete(); });\n            }\n        });\n    };\n    /*\n     * Pop next pending observer form the list of observers and make it current observer.\n     * @protected\n     */\n    ChannelConnection.prototype._updateCurrentObserver = function () {\n        this._protocol.updateCurrentObserver();\n    };\n    /** Check if this connection is in working condition */\n    ChannelConnection.prototype.isOpen = function () {\n        return !this._isBroken && this._ch._open;\n    };\n    /**\n     * Starts and stops the receive timeout timer.\n     * @param {number} requestsNumber Ongoing requests number\n     */\n    ChannelConnection.prototype._handleOngoingRequestsNumberChange = function (requestsNumber) {\n        if (this._idle) {\n            return;\n        }\n        if (requestsNumber === 0) {\n            this._ch.stopReceiveTimeout();\n        }\n        else {\n            this._ch.startReceiveTimeout();\n        }\n    };\n    /**\n     * Call close on the channel.\n     * @returns {Promise<void>} - A promise that will be resolved when the underlying channel is closed.\n     */\n    ChannelConnection.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug('closing');\n                        }\n                        if (this._protocol && this.isOpen()) {\n                            // protocol has been initialized and this connection is healthy\n                            // notify the database about the upcoming close of the connection\n                            this._protocol.prepareToClose();\n                        }\n                        return [4 /*yield*/, this._ch.close()];\n                    case 1:\n                        _a.sent();\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug('closed');\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ChannelConnection.prototype.toString = function () {\n        return \"Connection [\".concat(this.id, \"][\").concat(this.databaseId || '', \"]\");\n    };\n    ChannelConnection.prototype._handleProtocolError = function (message) {\n        this._protocol.resetFailure();\n        this._updateCurrentObserver();\n        var error = (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n        this._handleFatalError(error);\n        return error;\n    };\n    return ChannelConnection;\n}(connection_1.default));\nexports[\"default\"] = ChannelConnection;\n/**\n * Creates a log with the connection info as prefix\n * @param {Connection} connection The connection\n * @param {Logger} logger The logger\n * @returns {Logger} The new logger with enriched messages\n */\nfunction createConnectionLogger(connection, logger) {\n    return new Logger(logger._level, function (level, message) {\n        return logger._loggerFunction(level, \"\".concat(connection, \" \").concat(message));\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLWNoYW5uZWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0IsZ0JBQWdCLG1CQUFPLENBQUMsMEZBQVk7QUFDcEMsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JELG1DQUFtQyxtQkFBTyxDQUFDLG9HQUFjO0FBQ3pELDZCQUE2QixtQkFBTyxDQUFDLG9GQUFTO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0JBQXdCO0FBQ25DLFdBQVcsUUFBUTtBQUNuQixXQUFXLG1CQUFtQjtBQUM5QixZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxvQ0FBb0MsMkNBQTJDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsaUNBQWlDO0FBQ3BGO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSx3QkFBd0I7QUFDdkMsZUFBZSxlQUFlO0FBQzlCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xELDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEIsZ0JBQWdCLHFCQUFxQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSw4REFBOEQsd0JBQXdCO0FBQ3RGO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUNBQW1DO0FBQ2xGO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUJBQXFCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsNEJBQTRCO0FBQzFFLGFBQWE7QUFDYjtBQUNBLDhDQUE4QywwQkFBMEI7QUFDeEU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi1jaGFubmVsLmpzPzdkNjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb24gPSB2b2lkIDA7XG52YXIgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4uL2NoYW5uZWxcIik7XG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBjb25uZWN0aW9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29ubmVjdGlvblwiKSk7XG52YXIgYm9sdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9ib2x0XCIpKTtcbnZhciBQUk9UT0NPTF9FUlJPUiA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuUFJPVE9DT0xfRVJST1I7XG52YXIgTG9nZ2VyID0gbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnRlcm5hbC5sb2dnZXIuTG9nZ2VyO1xudmFyIGlkR2VuZXJhdG9yID0gMDtcbi8qKlxuICogQ3JldGUgbmV3IGNvbm5lY3Rpb24gdG8gdGhlIHByb3ZpZGVkIGFkZHJlc3MuIFJldHVybmVkIGNvbm5lY3Rpb24gaXMgbm90IGNvbm5lY3RlZC5cbiAqIEBwYXJhbSB7U2VydmVyQWRkcmVzc30gYWRkcmVzcyAtIHRoZSBCb2x0IGVuZHBvaW50IHRvIGNvbm5lY3QgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIC0gdGhlIGRyaXZlciBjb25maWd1cmF0aW9uLlxuICogQHBhcmFtIHtDb25uZWN0aW9uRXJyb3JIYW5kbGVyfSBlcnJvckhhbmRsZXIgLSB0aGUgZXJyb3IgaGFuZGxlciBmb3IgY29ubmVjdGlvbiBlcnJvcnMuXG4gKiBAcGFyYW0ge0xvZ2dlcn0gbG9nIC0gY29uZmlndXJlZCBsb2dnZXIuXG4gKiBAcGFyYW0ge2NsaWVudENlcnRpZmljYXRlfSBjbGllbnRDZXJ0aWZpY2F0ZSAtIGNvbmZpZ3VyZWQgY2xpZW50IGNlcnRpZmljYXRlXG4gKiBAcmV0dXJuIHtDb25uZWN0aW9ufSAtIG5ldyBjb25uZWN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVDaGFubmVsQ29ubmVjdGlvbihhZGRyZXNzLCBjb25maWcsIGVycm9ySGFuZGxlciwgbG9nLCBjbGllbnRDZXJ0aWZpY2F0ZSwgc2VydmVyc2lkZVJvdXRpbmcsIGNyZWF0ZUNoYW5uZWwpIHtcbiAgICBpZiAoc2VydmVyc2lkZVJvdXRpbmcgPT09IHZvaWQgMCkgeyBzZXJ2ZXJzaWRlUm91dGluZyA9IG51bGw7IH1cbiAgICBpZiAoY3JlYXRlQ2hhbm5lbCA9PT0gdm9pZCAwKSB7IGNyZWF0ZUNoYW5uZWwgPSBmdW5jdGlvbiAoY2hhbm5lbENvbmZpZykgeyByZXR1cm4gbmV3IGNoYW5uZWxfMS5DaGFubmVsKGNoYW5uZWxDb25maWcpOyB9OyB9XG4gICAgdmFyIGNoYW5uZWxDb25maWcgPSBuZXcgY2hhbm5lbF8xLkNoYW5uZWxDb25maWcoYWRkcmVzcywgY29uZmlnLCBlcnJvckhhbmRsZXIuZXJyb3JDb2RlKCksIGNsaWVudENlcnRpZmljYXRlKTtcbiAgICB2YXIgY2hhbm5lbCA9IGNyZWF0ZUNoYW5uZWwoY2hhbm5lbENvbmZpZyk7XG4gICAgcmV0dXJuIGJvbHRfMS5kZWZhdWx0LmhhbmRzaGFrZShjaGFubmVsLCBsb2cpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdmVyc2lvbiA9IF9hLnByb3RvY29sVmVyc2lvbiwgY29uc3VtZVJlbWFpbmluZ0J1ZmZlciA9IF9hLmNvbnN1bWVSZW1haW5pbmdCdWZmZXI7XG4gICAgICAgIHZhciBjaHVua2VyID0gbmV3IGNoYW5uZWxfMS5DaHVua2VyKGNoYW5uZWwpO1xuICAgICAgICB2YXIgZGVjaHVua2VyID0gbmV3IGNoYW5uZWxfMS5EZWNodW5rZXIoKTtcbiAgICAgICAgdmFyIGNyZWF0ZVByb3RvY29sID0gZnVuY3Rpb24gKGNvbm4pIHtcbiAgICAgICAgICAgIHJldHVybiBib2x0XzEuZGVmYXVsdC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgICAgICAgY2hhbm5lbDogY2hhbm5lbCxcbiAgICAgICAgICAgICAgICBjaHVua2VyOiBjaHVua2VyLFxuICAgICAgICAgICAgICAgIGRlY2h1bmtlcjogZGVjaHVua2VyLFxuICAgICAgICAgICAgICAgIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzOiBjb25maWcuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsXG4gICAgICAgICAgICAgICAgdXNlQmlnSW50OiBjb25maWcudXNlQmlnSW50LFxuICAgICAgICAgICAgICAgIHNlcnZlcnNpZGVSb3V0aW5nOiBzZXJ2ZXJzaWRlUm91dGluZyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXI6IGNvbm4uc2VydmVyLFxuICAgICAgICAgICAgICAgIGxvZzogY29ubi5sb2dnZXIsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgb25PYnNlcnZlcnNDb3VudENoYW5nZTogY29ubi5faGFuZGxlT25nb2luZ1JlcXVlc3RzTnVtYmVyQ2hhbmdlLmJpbmQoY29ubiksXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IGNvbm4uX2hhbmRsZUZhdGFsRXJyb3IuYmluZChjb25uKSxcbiAgICAgICAgICAgICAgICAgICAgb25GYWlsdXJlOiBjb25uLl9yZXNldE9uRmFpbHVyZS5iaW5kKGNvbm4pLFxuICAgICAgICAgICAgICAgICAgICBvblByb3RvY29sRXJyb3I6IGNvbm4uX2hhbmRsZVByb3RvY29sRXJyb3IuYmluZChjb25uKSxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvckFwcGx5VHJhbnNmb3JtYXRpb246IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbm4uaGFuZGxlQW5kVHJhbnNmb3JtRXJyb3IoZXJyb3IsIGNvbm4uX2FkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gbmV3IENoYW5uZWxDb25uZWN0aW9uKGNoYW5uZWwsIGVycm9ySGFuZGxlciwgYWRkcmVzcywgbG9nLCBjb25maWcuZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHNlcnZlcnNpZGVSb3V0aW5nLCBjaHVua2VyLCBjb25maWcubm90aWZpY2F0aW9uRmlsdGVyLCBjcmVhdGVQcm90b2NvbCwgY29uZmlnLnRlbGVtZXRyeURpc2FibGVkKTtcbiAgICAgICAgLy8gZm9yd2FyZCBhbGwgcGVuZGluZyBieXRlcyB0byB0aGUgZGVjaHVua2VyXG4gICAgICAgIGNvbnN1bWVSZW1haW5pbmdCdWZmZXIoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gZGVjaHVua2VyLndyaXRlKGJ1ZmZlcik7IH0pO1xuICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gY2hhbm5lbC5jbG9zZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb24gPSBjcmVhdGVDaGFubmVsQ29ubmVjdGlvbjtcbnZhciBDaGFubmVsQ29ubmVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2hhbm5lbENvbm5lY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtDaGFubmVsfSBjaGFubmVsIC0gY2hhbm5lbCB3aXRoIGEgJ3dyaXRlJyBmdW5jdGlvbiBhbmQgYSAnb25tZXNzYWdlJyBjYWxsYmFjayBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge0Nvbm5lY3Rpb25FcnJvckhhbmRsZXJ9IGVycm9ySGFuZGxlciB0aGUgZXJyb3IgaGFuZGxlci5cbiAgICAgKiBAcGFyYW0ge1NlcnZlckFkZHJlc3N9IGFkZHJlc3MgLSB0aGUgc2VydmVyIGFkZHJlc3MgdG8gY29ubmVjdCB0by5cbiAgICAgKiBAcGFyYW0ge0xvZ2dlcn0gbG9nIC0gdGhlIGNvbmZpZ3VyZWQgbG9nZ2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgaWYgdGhpcyBjb25uZWN0aW9uIHNob3VsZCBjb252ZXJ0IGFsbCByZWNlaXZlZCBpbnRlZ2VycyB0byBuYXRpdmUgSlMgbnVtYmVycy5cbiAgICAgKiBAcGFyYW0ge0NodW5rZXJ9IGNodW5rZXIgdGhlIGNodW5rZXJcbiAgICAgKiBAcGFyYW0gcHJvdG9jb2xTdXBwbGllciBCb2x0IHByb3RvY29sIHN1cHBsaWVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2hhbm5lbENvbm5lY3Rpb24oY2hhbm5lbCwgZXJyb3JIYW5kbGVyLCBhZGRyZXNzLCBsb2csIGRpc2FibGVMb3NzbGVzc0ludGVnZXJzLCBzZXJ2ZXJzaWRlUm91dGluZywgY2h1bmtlciwgLy8gdG8gYmUgcmVtb3ZlZCxcbiAgICBub3RpZmljYXRpb25GaWx0ZXIsIHByb3RvY29sU3VwcGxpZXIsIHRlbGVtZXRyeURpc2FibGVkKSB7XG4gICAgICAgIGlmIChkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9PT0gdm9pZCAwKSB7IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHNlcnZlcnNpZGVSb3V0aW5nID09PSB2b2lkIDApIHsgc2VydmVyc2lkZVJvdXRpbmcgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9ySGFuZGxlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2F1dGhUb2tlbiA9IG51bGw7XG4gICAgICAgIF90aGlzLl9pZGxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9yZXNldGluZyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fcmVzZXRPYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2lkID0gaWRHZW5lcmF0b3IrKztcbiAgICAgICAgX3RoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICBfdGhpcy5fc2VydmVyID0geyBhZGRyZXNzOiBhZGRyZXNzLmFzSG9zdFBvcnQoKSB9O1xuICAgICAgICBfdGhpcy5fY3JlYXRpb25UaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBfdGhpcy5fZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPSBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycztcbiAgICAgICAgX3RoaXMuX2NoID0gY2hhbm5lbDtcbiAgICAgICAgX3RoaXMuX2NodW5rZXIgPSBjaHVua2VyO1xuICAgICAgICBfdGhpcy5fbG9nID0gY3JlYXRlQ29ubmVjdGlvbkxvZ2dlcihfdGhpcywgbG9nKTtcbiAgICAgICAgX3RoaXMuX3NlcnZlcnNpZGVSb3V0aW5nID0gc2VydmVyc2lkZVJvdXRpbmc7XG4gICAgICAgIF90aGlzLl9ub3RpZmljYXRpb25GaWx0ZXIgPSBub3RpZmljYXRpb25GaWx0ZXI7XG4gICAgICAgIF90aGlzLl90ZWxlbWV0cnlEaXNhYmxlZERyaXZlckNvbmZpZyA9IHRlbGVtZXRyeURpc2FibGVkID09PSB0cnVlO1xuICAgICAgICBfdGhpcy5fdGVsZW1ldHJ5RGlzYWJsZWRDb25uZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgLy8gY29ubmVjdGlvbiBmcm9tIHRoZSBkYXRhYmFzZSwgcmV0dXJuZWQgaW4gcmVzcG9uc2UgZm9yIEhFTExPIG1lc3NhZ2UgYW5kIG1pZ2h0IG5vdCBiZSBhdmFpbGFibGVcbiAgICAgICAgX3RoaXMuX2RiQ29ubmVjdGlvbklkID0gbnVsbDtcbiAgICAgICAgLy8gYm9sdCBwcm90b2NvbCBpcyBpbml0aWFsbHkgbm90IGluaXRpYWxpemVkXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Qm9sdFByb3RvY29sfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3RvY29sID0gcHJvdG9jb2xTdXBwbGllcihfdGhpcyk7XG4gICAgICAgIC8vIFNldCB0byB0cnVlIG9uIGZhdGFsIGVycm9ycywgdG8gZ2V0IHRoaXMgb3V0IG9mIGNvbm5lY3Rpb24gcG9vbC5cbiAgICAgICAgX3RoaXMuX2lzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGlmIChfdGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIF90aGlzLl9sb2cuZGVidWcoXCJjcmVhdGVkIHRvd2FyZHMgXCIuY29uY2F0KGFkZHJlc3MpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5iZWdpblRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9zZW5kVGVsZW1ldHJ5SWZFbmFibGVkKGNvbmZpZyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm90b2NvbC5iZWdpblRyYW5zYWN0aW9uKGNvbmZpZyk7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5fc2VuZFRlbGVtZXRyeUlmRW5hYmxlZChjb25maWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wucnVuKHF1ZXJ5LCBwYXJhbWV0ZXJzLCBjb25maWcpO1xuICAgIH07XG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLl9zZW5kVGVsZW1ldHJ5SWZFbmFibGVkID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBpZiAodGhpcy5fdGVsZW1ldHJ5RGlzYWJsZWRDb25uZWN0aW9uIHx8XG4gICAgICAgICAgICB0aGlzLl90ZWxlbWV0cnlEaXNhYmxlZERyaXZlckNvbmZpZyB8fFxuICAgICAgICAgICAgY29uZmlnID09IG51bGwgfHxcbiAgICAgICAgICAgIGNvbmZpZy5hcGlUZWxlbWV0cnlDb25maWcgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb3RvY29sLnRlbGVtZXRyeSh7XG4gICAgICAgICAgICBhcGk6IGNvbmZpZy5hcGlUZWxlbWV0cnlDb25maWcuYXBpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBjb25maWcuYXBpVGVsZW1ldHJ5Q29uZmlnLm9uVGVsZW1ldHJ5U3VjY2VzcyxcbiAgICAgICAgICAgIG9uRXJyb3I6IGNvbmZpZy5iZWZvcmVFcnJvclxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5jb21taXRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sLmNvbW1pdFRyYW5zYWN0aW9uKGNvbmZpZyk7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUucm9sbGJhY2tUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sLnJvbGxiYWNrVHJhbnNhY3Rpb24oY29uZmlnKTtcbiAgICB9O1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRQcm90b2NvbFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm90b2NvbC52ZXJzaW9uO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJhdXRoVG9rZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRoVG9rZW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRoVG9rZW4gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwic3VwcG9ydHNSZUF1dGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm90b2NvbC5zdXBwb3J0c1JlQXV0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiaWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiZGF0YWJhc2VJZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RiQ29ubmVjdGlvbklkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGJDb25uZWN0aW9uSWQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiaWRsZVRpbWVzdGFtcFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lkbGVUaW1lc3RhbXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGxlVGltZXN0YW1wID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImNyZWF0aW9uVGltZXN0YW1wXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRpb25UaW1lc3RhbXA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGluaXRpYWxpemF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudCBmb3IgdGhpcyBkcml2ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGJvbHRBZ2VudCB0aGUgYm9sdCBhZ2VudCBmb3IgdGhpcyBkcml2ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF1dGhUb2tlbiB0aGUgb2JqZWN0IGNvbnRhaW5pbmcgYXV0aCBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdhaXRSZUF1dGggd2hldGhlciBvdCBub3QgdGhlIGNvbm5lY3Rpb24gd2lsbCB3YWl0IGZvciByZS1hdXRoZW50aWNhdGlvbiB0byBoYXBwZW5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPENvbm5lY3Rpb24+fSBwcm9taXNlIHJlc29sdmVkIHdpdGggdGhlIGN1cnJlbnQgY29ubmVjdGlvbiBpZiBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWwuIFJlamVjdGVkIHByb21pc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHVzZXJBZ2VudCwgYm9sdEFnZW50LCBhdXRoVG9rZW4sIHdhaXRSZUF1dGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wcm90b2NvbC5pbml0aWFsaXplZCAmJiAhdGhpcy5fcHJvdG9jb2wuc3VwcG9ydHNSZUF1dGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0Nvbm5lY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCByZS1hdXRoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRoVG9rZW4gPSBhdXRoVG9rZW47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLl9wcm90b2NvbC5pbml0aWFsaXplZCkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9pbml0aWFsaXplKHVzZXJBZ2VudCwgYm9sdEFnZW50LCBhdXRoVG9rZW4pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YWl0UmVBdXRoKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Byb3RvY29sLmxvZ29mZih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wcm90b2NvbC5sb2dvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoVG9rZW46IGF1dGhUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoX3RoaXMpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2g6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm90b2NvbC5sb2dvZmYoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb3RvY29sLmxvZ29uKHsgYXV0aFRva2VuOiBhdXRoVG9rZW4sIGZsdXNoOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gcHJvdG9jb2wtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gd2hpY2ggaW5jbHVkZXMgYXV0aGVudGljYXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCB0aGUgdXNlciBhZ2VudCBmb3IgdGhpcyBkcml2ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJvbHRBZ2VudCB0aGUgYm9sdCBhZ2VudCBmb3IgdGhpcyBkcml2ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF1dGhUb2tlbiB0aGUgb2JqZWN0IGNvbnRhaW5pbmcgYXV0aCBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPENvbm5lY3Rpb24+fSBwcm9taXNlIHJlc29sdmVkIHdpdGggdGhlIGN1cnJlbnQgY29ubmVjdGlvbiBpZiBpbml0aWFsaXphdGlvbiBpcyBzdWNjZXNzZnVsLiBSZWplY3RlZCBwcm9taXNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX2luaXRpYWxpemUgPSBmdW5jdGlvbiAodXNlckFnZW50LCBib2x0QWdlbnQsIGF1dGhUb2tlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5fcHJvdG9jb2wuaW5pdGlhbGl6ZSh7XG4gICAgICAgICAgICAgICAgdXNlckFnZW50OiB1c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgYm9sdEFnZW50OiBib2x0QWdlbnQsXG4gICAgICAgICAgICAgICAgYXV0aFRva2VuOiBhdXRoVG9rZW4sXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRmlsdGVyOiBfdGhpcy5fbm90aWZpY2F0aW9uRmlsdGVyLFxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWQgc2VydmVyIHZlcnNpb24gZnJvbSB0aGUgcmVzcG9uc2UgbWV0YWRhdGEsIGlmIGl0IGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcnZlclZlcnNpb24gPSBtZXRhZGF0YS5zZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZlcnNpb24gfHwgc2VydmVyVmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnZlcnNpb24gPSBzZXJ2ZXJWZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhZCBkYXRhYmFzZSBjb25uZWN0aW9uIGlkIGZyb20gdGhlIHJlc3BvbnNlIG1ldGFkYXRhLCBpZiBpdCBpcyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYkNvbm5lY3Rpb25JZCA9IG1ldGFkYXRhLmNvbm5lY3Rpb25faWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRhdGFiYXNlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhYmFzZUlkID0gZGJDb25uZWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEuaGludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjZWl2ZVRpbWVvdXRSYXcgPSBtZXRhZGF0YS5oaW50c1snY29ubmVjdGlvbi5yZWN2X3RpbWVvdXRfc2Vjb25kcyddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlVGltZW91dFJhdyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlVGltZW91dFJhdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNlaXZlVGltZW91dEluU2Vjb25kcyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLnRvTnVtYmVyKShyZWNlaXZlVGltZW91dFJhdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHJlY2VpdmVUaW1lb3V0SW5TZWNvbmRzKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZVRpbWVvdXRJblNlY29uZHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2guc2V0dXBSZWNlaXZlVGltZW91dChyZWNlaXZlVGltZW91dEluU2Vjb25kcyAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xvZy5pbmZvKFwiU2VydmVyIGxvY2F0ZWQgYXQgXCIuY29uY2F0KF90aGlzLl9hZGRyZXNzLCBcIiBzdXBwbGllZCBhbiBpbnZhbGlkIGNvbm5lY3Rpb24gcmVjZWl2ZSB0aW1lb3V0IHZhbHVlIChcIikuY29uY2F0KHJlY2VpdmVUaW1lb3V0SW5TZWNvbmRzLCBcIikuIFwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1BsZWFzZSwgdmVyaWZ5IHRoZSBzZXJ2ZXIgY29uZmlndXJhdGlvbiBhbmQgc3RhdHVzIGJlY2F1c2UgdGhpcyBjYW4gYmUgdGhlIHN5bXB0b20gb2YgYSBiaWdnZXIgaXNzdWUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbGVtZXRyeUVuYWJsZWRIaW50ID0gbWV0YWRhdGEuaGludHNbJ3RlbGVtZXRyeS5lbmFibGVkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbGVtZXRyeUVuYWJsZWRIaW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90ZWxlbWV0cnlEaXNhYmxlZENvbm5lY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzZWxmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEJvbHQgcHJvdG9jb2wgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge0JvbHRQcm90b2NvbH0gdGhlIHByb3RvY29sLlxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5wcm90b2NvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJhZGRyZXNzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkcmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIGNvbm5lY3RlZCBzZXJ2ZXIuXG4gICAgICAgICAqIEF2YWlsYWJsZSBvbmx5IGFmdGVyIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtTZXJ2ZXJWZXJzaW9ufSB2ZXJzaW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXIudmVyc2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlcnZlci52ZXJzaW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLCBcInNlcnZlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwibG9nZ2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogXCJGYXRhbFwiIG1lYW5zIHRoZSBjb25uZWN0aW9uIGlzIGRlYWQuIE9ubHkgY2FsbCB0aGlzIGlmIHNvbWV0aGluZ1xuICAgICAqIGhhcHBlbnMgdGhhdCBjYW5ub3QgYmUgcmVjb3ZlcmVkIGZyb20uIFRoaXMgd2lsbCBsZWFkIHRvIGFsbCBzdWJzY3JpYmVyc1xuICAgICAqIGZhaWxpbmcsIGFuZCB0aGUgY29ubmVjdGlvbiBnZXR0aW5nIGVqZWN0ZWQgZnJvbSB0aGUgc2Vzc2lvbiBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVycm9yIGFuIGVycm9yIG9iamVjdCwgZm9yd2FyZGVkIHRvIGFsbCBjdXJyZW50IGFuZCBmdXR1cmUgc3Vic2NyaWJlcnNcbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX2hhbmRsZUZhdGFsRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5faXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLl9lcnJvciA9IHRoaXMuaGFuZGxlQW5kVHJhbnNmb3JtRXJyb3IodGhpcy5fcHJvdG9jb2wuY3VycmVudEZhaWx1cmUgfHwgZXJyb3IsIHRoaXMuX2FkZHJlc3MpO1xuICAgICAgICBpZiAodGhpcy5fbG9nLmlzRXJyb3JFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcihcImV4cGVyaWVuY2VkIGEgZmF0YWwgZXJyb3IgY2F1c2VkIGJ5IFwiLmNvbmNhdCh0aGlzLl9lcnJvciwgXCIgKFwiKS5jb25jYXQobmVvNGpfZHJpdmVyX2NvcmVfMS5qc29uLnN0cmluZ2lmeSh0aGlzLl9lcnJvciksIFwiKVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvdG9jb2wubm90aWZ5RmF0YWxFcnJvcih0aGlzLl9lcnJvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyfVxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IG9ic2VydmVyXG4gICAgICovXG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLl9zZXRJZGxlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuX2lkbGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jaC5zdG9wUmVjZWl2ZVRpbWVvdXQoKTtcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wucXVldWVPYnNlcnZlcklmUHJvdG9jb2xJc05vdEJyb2tlbihvYnNlcnZlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUG9vbGVkQ29ubmVjdGlvblByb3ZpZGVyfVxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5fdW5zZXRJZGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9pZGxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUN1cnJlbnRPYnNlcnZlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc3RpbGwgaGVyZSBiZWNhdXNlIG9mIHRoZSBjb25uZWN0aW9uLWNoYW5uZWwudGVzdHMuanNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBvYnNlcnZlclxuICAgICAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5fcXVldWVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wucXVldWVPYnNlcnZlcklmUHJvdG9jb2xJc05vdEJyb2tlbihvYnNlcnZlcik7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuaGFzT25nb2luZ09ic2VydmFibGVSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9pZGxlICYmIHRoaXMuX3Byb3RvY29sLmhhc09uZ29pbmdPYnNlcnZhYmxlUmVxdWVzdHMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBSRVNFVC1tZXNzYWdlIHRvIHRoZSBkYXRhYmFzZS4gTWVzc2FnZSBpcyBpbW1lZGlhdGVseSBmbHVzaGVkIHRvIHRoZSBuZXR3b3JrLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IHByb21pc2UgcmVzb2x2ZWQgd2hlbiBTVUNDRVNTLW1lc3NhZ2UgcmVzcG9uc2UgYXJyaXZlcywgb3IgZmFpbGVkIHdoZW4gb3RoZXIgcmVzcG9uc2UgbWVzc2FnZXMgYXJyaXZlcy5cbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUucmVzZXRBbmRGbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXNldCh7XG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faXNCcm9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nIGEgZmF0YWwgZXJyb3IsIG5vIG5lZWQgdG8gcmFpc2UgYSBwcm90b2NvbCB2aW9sYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVvNGpFcnJvciA9IF90aGlzLl9oYW5kbGVQcm90b2NvbEVycm9yKCdSZWNlaXZlZCBGQUlMVVJFIGFzIGEgcmVzcG9uc2UgZm9yIFJFU0VUOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5lbzRqRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuX3Jlc2V0T25GYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNldCh7XG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb3RvY29sLnJlc2V0RmFpbHVyZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcHJvdG9jb2wucmVzZXRGYWlsdXJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcmVzZXRpbmcpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fcHJvdG9jb2wuaXNMYXN0TWVzc2FnZVJlc2V0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm90b2NvbC5yZXNldCh7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRPYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzZXRPYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgIHRoaXMuX3Jlc2V0aW5nID0gdHJ1ZTtcbiAgICAgICAgdmFyIG5vdGlmeUZpbmlzaCA9IGZ1bmN0aW9uIChub3RpZnkpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXNldGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IF90aGlzLl9yZXNldE9ic2VydmVycztcbiAgICAgICAgICAgIF90aGlzLl9yZXNldE9ic2VydmVycyA9IFtdO1xuICAgICAgICAgICAgb2JzZXJ2ZXJzLmZvckVhY2gobm90aWZ5KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wucmVzZXQoe1xuICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgbm90aWZ5RmluaXNoKGZ1bmN0aW9uIChvYnMpIHsgcmV0dXJuIG9icy5vbkVycm9yKGVycm9yKTsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5vdGlmeUZpbmlzaChmdW5jdGlvbiAob2JzKSB7IHJldHVybiBvYnMub25Db21wbGV0ZSgpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKlxuICAgICAqIFBvcCBuZXh0IHBlbmRpbmcgb2JzZXJ2ZXIgZm9ybSB0aGUgbGlzdCBvZiBvYnNlcnZlcnMgYW5kIG1ha2UgaXQgY3VycmVudCBvYnNlcnZlci5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLl91cGRhdGVDdXJyZW50T2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sLnVwZGF0ZUN1cnJlbnRPYnNlcnZlcigpO1xuICAgIH07XG4gICAgLyoqIENoZWNrIGlmIHRoaXMgY29ubmVjdGlvbiBpcyBpbiB3b3JraW5nIGNvbmRpdGlvbiAqL1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5faXNCcm9rZW4gJiYgdGhpcy5fY2guX29wZW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydHMgYW5kIHN0b3BzIHRoZSByZWNlaXZlIHRpbWVvdXQgdGltZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlcXVlc3RzTnVtYmVyIE9uZ29pbmcgcmVxdWVzdHMgbnVtYmVyXG4gICAgICovXG4gICAgQ2hhbm5lbENvbm5lY3Rpb24ucHJvdG90eXBlLl9oYW5kbGVPbmdvaW5nUmVxdWVzdHNOdW1iZXJDaGFuZ2UgPSBmdW5jdGlvbiAocmVxdWVzdHNOdW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lkbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWVzdHNOdW1iZXIgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLnN0b3BSZWNlaXZlVGltZW91dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2guc3RhcnRSZWNlaXZlVGltZW91dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsIGNsb3NlIG9uIHRoZSBjaGFubmVsLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAtIEEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGUgdW5kZXJseWluZyBjaGFubmVsIGlzIGNsb3NlZC5cbiAgICAgKi9cbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb2cuaXNEZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5kZWJ1ZygnY2xvc2luZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb3RvY29sICYmIHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm90b2NvbCBoYXMgYmVlbiBpbml0aWFsaXplZCBhbmQgdGhpcyBjb25uZWN0aW9uIGlzIGhlYWx0aHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RpZnkgdGhlIGRhdGFiYXNlIGFib3V0IHRoZSB1cGNvbWluZyBjbG9zZSBvZiB0aGUgY29ubmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb3RvY29sLnByZXBhcmVUb0Nsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jaC5jbG9zZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvZy5pc0RlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKCdjbG9zZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDaGFubmVsQ29ubmVjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIkNvbm5lY3Rpb24gW1wiLmNvbmNhdCh0aGlzLmlkLCBcIl1bXCIpLmNvbmNhdCh0aGlzLmRhdGFiYXNlSWQgfHwgJycsIFwiXVwiKTtcbiAgICB9O1xuICAgIENoYW5uZWxDb25uZWN0aW9uLnByb3RvdHlwZS5faGFuZGxlUHJvdG9jb2xFcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sLnJlc2V0RmFpbHVyZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50T2JzZXJ2ZXIoKTtcbiAgICAgICAgdmFyIGVycm9yID0gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKG1lc3NhZ2UsIFBST1RPQ09MX0VSUk9SKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRmF0YWxFcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9O1xuICAgIHJldHVybiBDaGFubmVsQ29ubmVjdGlvbjtcbn0oY29ubmVjdGlvbl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IENoYW5uZWxDb25uZWN0aW9uO1xuLyoqXG4gKiBDcmVhdGVzIGEgbG9nIHdpdGggdGhlIGNvbm5lY3Rpb24gaW5mbyBhcyBwcmVmaXhcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvblxuICogQHBhcmFtIHtMb2dnZXJ9IGxvZ2dlciBUaGUgbG9nZ2VyXG4gKiBAcmV0dXJucyB7TG9nZ2VyfSBUaGUgbmV3IGxvZ2dlciB3aXRoIGVucmljaGVkIG1lc3NhZ2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbm5lY3Rpb25Mb2dnZXIoY29ubmVjdGlvbiwgbG9nZ2VyKSB7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIobG9nZ2VyLl9sZXZlbCwgZnVuY3Rpb24gKGxldmVsLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBsb2dnZXIuX2xvZ2dlckZ1bmN0aW9uKGxldmVsLCBcIlwiLmNvbmNhdChjb25uZWN0aW9uLCBcIiBcIikuY29uY2F0KG1lc3NhZ2UpKTtcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar connection_1 = __importDefault(__webpack_require__(/*! ./connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\"));\nvar DelegateConnection = /** @class */ (function (_super) {\n    __extends(DelegateConnection, _super);\n    /**\n     * @param delegate {Connection} the delegated connection\n     * @param errorHandler {ConnectionErrorHandler} the error handler\n     */\n    function DelegateConnection(delegate, errorHandler) {\n        var _this = _super.call(this, errorHandler) || this;\n        if (errorHandler) {\n            _this._originalErrorHandler = delegate._errorHandler;\n            delegate._errorHandler = _this._errorHandler;\n        }\n        _this._delegate = delegate;\n        return _this;\n    }\n    DelegateConnection.prototype.beginTransaction = function (config) {\n        return this._delegate.beginTransaction(config);\n    };\n    DelegateConnection.prototype.run = function (query, param, config) {\n        return this._delegate.run(query, param, config);\n    };\n    DelegateConnection.prototype.commitTransaction = function (config) {\n        return this._delegate.commitTransaction(config);\n    };\n    DelegateConnection.prototype.rollbackTransaction = function (config) {\n        return this._delegate.rollbackTransaction(config);\n    };\n    DelegateConnection.prototype.getProtocolVersion = function () {\n        return this._delegate.getProtocolVersion();\n    };\n    Object.defineProperty(DelegateConnection.prototype, \"id\", {\n        get: function () {\n            return this._delegate.id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"databaseId\", {\n        get: function () {\n            return this._delegate.databaseId;\n        },\n        set: function (value) {\n            this._delegate.databaseId = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"server\", {\n        get: function () {\n            return this._delegate.server;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"authToken\", {\n        get: function () {\n            return this._delegate.authToken;\n        },\n        set: function (value) {\n            this._delegate.authToken = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"supportsReAuth\", {\n        get: function () {\n            return this._delegate.supportsReAuth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"address\", {\n        get: function () {\n            return this._delegate.address;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"version\", {\n        get: function () {\n            return this._delegate.version;\n        },\n        set: function (value) {\n            this._delegate.version = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"creationTimestamp\", {\n        get: function () {\n            return this._delegate.creationTimestamp;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"idleTimestamp\", {\n        get: function () {\n            return this._delegate.idleTimestamp;\n        },\n        set: function (value) {\n            this._delegate.idleTimestamp = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DelegateConnection.prototype.isOpen = function () {\n        return this._delegate.isOpen();\n    };\n    DelegateConnection.prototype.protocol = function () {\n        return this._delegate.protocol();\n    };\n    DelegateConnection.prototype.connect = function (userAgent, boltAgent, authToken, waitReAuth) {\n        return this._delegate.connect(userAgent, boltAgent, authToken, waitReAuth);\n    };\n    DelegateConnection.prototype.write = function (message, observer, flush) {\n        return this._delegate.write(message, observer, flush);\n    };\n    DelegateConnection.prototype.resetAndFlush = function () {\n        return this._delegate.resetAndFlush();\n    };\n    DelegateConnection.prototype.hasOngoingObservableRequests = function () {\n        return this._delegate.hasOngoingObservableRequests();\n    };\n    DelegateConnection.prototype.close = function () {\n        return this._delegate.close();\n    };\n    DelegateConnection.prototype.release = function () {\n        if (this._originalErrorHandler) {\n            this._delegate._errorHandler = this._originalErrorHandler;\n        }\n        return this._delegate.release();\n    };\n    return DelegateConnection;\n}(connection_1.default));\nexports[\"default\"] = DelegateConnection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLWRlbGVnYXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQ0FBbUMsbUJBQU8sQ0FBQyxvR0FBYztBQUN6RDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQyw0QkFBNEIsd0JBQXdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi1kZWxlZ2F0ZS5qcz8zMDdlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29ubmVjdGlvbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb25cIikpO1xudmFyIERlbGVnYXRlQ29ubmVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGVsZWdhdGVDb25uZWN0aW9uLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkZWxlZ2F0ZSB7Q29ubmVjdGlvbn0gdGhlIGRlbGVnYXRlZCBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIGVycm9ySGFuZGxlciB7Q29ubmVjdGlvbkVycm9ySGFuZGxlcn0gdGhlIGVycm9yIGhhbmRsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEZWxlZ2F0ZUNvbm5lY3Rpb24oZGVsZWdhdGUsIGVycm9ySGFuZGxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBlcnJvckhhbmRsZXIpIHx8IHRoaXM7XG4gICAgICAgIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICAgIF90aGlzLl9vcmlnaW5hbEVycm9ySGFuZGxlciA9IGRlbGVnYXRlLl9lcnJvckhhbmRsZXI7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5fZXJyb3JIYW5kbGVyID0gX3RoaXMuX2Vycm9ySGFuZGxlcjtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLmJlZ2luVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5iZWdpblRyYW5zYWN0aW9uKGNvbmZpZyk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChxdWVyeSwgcGFyYW0sIGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUucnVuKHF1ZXJ5LCBwYXJhbSwgY29uZmlnKTtcbiAgICB9O1xuICAgIERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUuY29tbWl0VHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5jb21taXRUcmFuc2FjdGlvbihjb25maWcpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS5yb2xsYmFja1RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUucm9sbGJhY2tUcmFuc2FjdGlvbihjb25maWcpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRQcm90b2NvbFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5nZXRQcm90b2NvbFZlcnNpb24oKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJkYXRhYmFzZUlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuZGF0YWJhc2VJZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGVnYXRlLmRhdGFiYXNlSWQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLCBcInNlcnZlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLnNlcnZlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImF1dGhUb2tlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmF1dGhUb2tlbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGVnYXRlLmF1dGhUb2tlbiA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwic3VwcG9ydHNSZUF1dGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5zdXBwb3J0c1JlQXV0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImFkZHJlc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5hZGRyZXNzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLnZlcnNpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWxlZ2F0ZS52ZXJzaW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJjcmVhdGlvblRpbWVzdGFtcFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmNyZWF0aW9uVGltZXN0YW1wO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiaWRsZVRpbWVzdGFtcFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlkbGVUaW1lc3RhbXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWxlZ2F0ZS5pZGxlVGltZXN0YW1wID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlzT3BlbigpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS5wcm90b2NvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLnByb3RvY29sKCk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAodXNlckFnZW50LCBib2x0QWdlbnQsIGF1dGhUb2tlbiwgd2FpdFJlQXV0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuY29ubmVjdCh1c2VyQWdlbnQsIGJvbHRBZ2VudCwgYXV0aFRva2VuLCB3YWl0UmVBdXRoKTtcbiAgICB9O1xuICAgIERlbGVnYXRlQ29ubmVjdGlvbi5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb2JzZXJ2ZXIsIGZsdXNoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS53cml0ZShtZXNzYWdlLCBvYnNlcnZlciwgZmx1c2gpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS5yZXNldEFuZEZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUucmVzZXRBbmRGbHVzaCgpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS5oYXNPbmdvaW5nT2JzZXJ2YWJsZVJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUuaGFzT25nb2luZ09ic2VydmFibGVSZXF1ZXN0cygpO1xuICAgIH07XG4gICAgRGVsZWdhdGVDb25uZWN0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmNsb3NlKCk7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZUNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcmlnaW5hbEVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5fZGVsZWdhdGUuX2Vycm9ySGFuZGxlciA9IHRoaXMuX29yaWdpbmFsRXJyb3JIYW5kbGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5yZWxlYXNlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsZWdhdGVDb25uZWN0aW9uO1xufShjb25uZWN0aW9uXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRGVsZWdhdGVDb25uZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE, SESSION_EXPIRED = neo4j_driver_core_1.error.SESSION_EXPIRED;\nvar ConnectionErrorHandler = /** @class */ (function () {\n    function ConnectionErrorHandler(errorCode, handleUnavailability, handleWriteFailure, handleSecurityError) {\n        this._errorCode = errorCode;\n        this._handleUnavailability = handleUnavailability || noOpHandler;\n        this._handleWriteFailure = handleWriteFailure || noOpHandler;\n        this._handleSecurityError = handleSecurityError || noOpHandler;\n    }\n    ConnectionErrorHandler.create = function (_a) {\n        var errorCode = _a.errorCode, handleUnavailability = _a.handleUnavailability, handleWriteFailure = _a.handleWriteFailure, handleSecurityError = _a.handleSecurityError;\n        return new ConnectionErrorHandler(errorCode, handleUnavailability, handleWriteFailure, handleSecurityError);\n    };\n    /**\n     * Error code to use for network errors.\n     * @return {string} the error code.\n     */\n    ConnectionErrorHandler.prototype.errorCode = function () {\n        return this._errorCode;\n    };\n    /**\n     * Handle and transform the error.\n     * @param {Neo4jError} error the original error.\n     * @param {ServerAddress} address the address of the connection where the error happened.\n     * @return {Neo4jError} new error that should be propagated to the user.\n     */\n    ConnectionErrorHandler.prototype.handleAndTransformError = function (error, address, connection) {\n        if (isSecurityError(error)) {\n            return this._handleSecurityError(error, address, connection);\n        }\n        if (isAvailabilityError(error)) {\n            return this._handleUnavailability(error, address, connection);\n        }\n        if (isFailureToWrite(error)) {\n            return this._handleWriteFailure(error, address, connection);\n        }\n        return error;\n    };\n    return ConnectionErrorHandler;\n}());\nexports[\"default\"] = ConnectionErrorHandler;\nfunction isSecurityError(error) {\n    return error != null &&\n        error.code != null &&\n        error.code.startsWith('Neo.ClientError.Security.');\n}\nfunction isAvailabilityError(error) {\n    if (error) {\n        return (error.code === SESSION_EXPIRED ||\n            error.code === SERVICE_UNAVAILABLE ||\n            error.code === 'Neo.TransientError.General.DatabaseUnavailable');\n    }\n    return false;\n}\nfunction isFailureToWrite(error) {\n    if (error) {\n        return (error.code === 'Neo.ClientError.Cluster.NotALeader' ||\n            error.code === 'Neo.ClientError.General.ForbiddenOnReadOnlyDatabase');\n    }\n    return false;\n}\nfunction noOpHandler(error) {\n    return error;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLWVycm9yLWhhbmRsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQixlQUFlLGVBQWU7QUFDOUIsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9jb25uZWN0aW9uL2Nvbm5lY3Rpb24tZXJyb3ItaGFuZGxlci5qcz9lOWNlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIFNFUlZJQ0VfVU5BVkFJTEFCTEUgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlNFUlZJQ0VfVU5BVkFJTEFCTEUsIFNFU1NJT05fRVhQSVJFRCA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuU0VTU0lPTl9FWFBJUkVEO1xudmFyIENvbm5lY3Rpb25FcnJvckhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGlvbkVycm9ySGFuZGxlcihlcnJvckNvZGUsIGhhbmRsZVVuYXZhaWxhYmlsaXR5LCBoYW5kbGVXcml0ZUZhaWx1cmUsIGhhbmRsZVNlY3VyaXR5RXJyb3IpIHtcbiAgICAgICAgdGhpcy5fZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xuICAgICAgICB0aGlzLl9oYW5kbGVVbmF2YWlsYWJpbGl0eSA9IGhhbmRsZVVuYXZhaWxhYmlsaXR5IHx8IG5vT3BIYW5kbGVyO1xuICAgICAgICB0aGlzLl9oYW5kbGVXcml0ZUZhaWx1cmUgPSBoYW5kbGVXcml0ZUZhaWx1cmUgfHwgbm9PcEhhbmRsZXI7XG4gICAgICAgIHRoaXMuX2hhbmRsZVNlY3VyaXR5RXJyb3IgPSBoYW5kbGVTZWN1cml0eUVycm9yIHx8IG5vT3BIYW5kbGVyO1xuICAgIH1cbiAgICBDb25uZWN0aW9uRXJyb3JIYW5kbGVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZXJyb3JDb2RlID0gX2EuZXJyb3JDb2RlLCBoYW5kbGVVbmF2YWlsYWJpbGl0eSA9IF9hLmhhbmRsZVVuYXZhaWxhYmlsaXR5LCBoYW5kbGVXcml0ZUZhaWx1cmUgPSBfYS5oYW5kbGVXcml0ZUZhaWx1cmUsIGhhbmRsZVNlY3VyaXR5RXJyb3IgPSBfYS5oYW5kbGVTZWN1cml0eUVycm9yO1xuICAgICAgICByZXR1cm4gbmV3IENvbm5lY3Rpb25FcnJvckhhbmRsZXIoZXJyb3JDb2RlLCBoYW5kbGVVbmF2YWlsYWJpbGl0eSwgaGFuZGxlV3JpdGVGYWlsdXJlLCBoYW5kbGVTZWN1cml0eUVycm9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgdG8gdXNlIGZvciBuZXR3b3JrIGVycm9ycy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlcnJvciBjb2RlLlxuICAgICAqL1xuICAgIENvbm5lY3Rpb25FcnJvckhhbmRsZXIucHJvdG90eXBlLmVycm9yQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yQ29kZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbmQgdHJhbnNmb3JtIHRoZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge05lbzRqRXJyb3J9IGVycm9yIHRoZSBvcmlnaW5hbCBlcnJvci5cbiAgICAgKiBAcGFyYW0ge1NlcnZlckFkZHJlc3N9IGFkZHJlc3MgdGhlIGFkZHJlc3Mgb2YgdGhlIGNvbm5lY3Rpb24gd2hlcmUgdGhlIGVycm9yIGhhcHBlbmVkLlxuICAgICAqIEByZXR1cm4ge05lbzRqRXJyb3J9IG5ldyBlcnJvciB0aGF0IHNob3VsZCBiZSBwcm9wYWdhdGVkIHRvIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIENvbm5lY3Rpb25FcnJvckhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUFuZFRyYW5zZm9ybUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBhZGRyZXNzLCBjb25uZWN0aW9uKSB7XG4gICAgICAgIGlmIChpc1NlY3VyaXR5RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlU2VjdXJpdHlFcnJvcihlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXZhaWxhYmlsaXR5RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlVW5hdmFpbGFiaWxpdHkoZXJyb3IsIGFkZHJlc3MsIGNvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0ZhaWx1cmVUb1dyaXRlKGVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVdyaXRlRmFpbHVyZShlcnJvciwgYWRkcmVzcywgY29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3Rpb25FcnJvckhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ29ubmVjdGlvbkVycm9ySGFuZGxlcjtcbmZ1bmN0aW9uIGlzU2VjdXJpdHlFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvciAhPSBudWxsICYmXG4gICAgICAgIGVycm9yLmNvZGUgIT0gbnVsbCAmJlxuICAgICAgICBlcnJvci5jb2RlLnN0YXJ0c1dpdGgoJ05lby5DbGllbnRFcnJvci5TZWN1cml0eS4nKTtcbn1cbmZ1bmN0aW9uIGlzQXZhaWxhYmlsaXR5RXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIChlcnJvci5jb2RlID09PSBTRVNTSU9OX0VYUElSRUQgfHxcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPT09IFNFUlZJQ0VfVU5BVkFJTEFCTEUgfHxcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPT09ICdOZW8uVHJhbnNpZW50RXJyb3IuR2VuZXJhbC5EYXRhYmFzZVVuYXZhaWxhYmxlJyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzRmFpbHVyZVRvV3JpdGUoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIChlcnJvci5jb2RlID09PSAnTmVvLkNsaWVudEVycm9yLkNsdXN0ZXIuTm90QUxlYWRlcicgfHxcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPT09ICdOZW8uQ2xpZW50RXJyb3IuR2VuZXJhbC5Gb3JiaWRkZW5PblJlYWRPbmx5RGF0YWJhc2UnKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gbm9PcEhhbmRsZXIoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js":
/*!********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\nvar bolt_1 = __webpack_require__(/*! ../bolt */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Connection = /** @class */ (function (_super) {\n    __extends(Connection, _super);\n    /**\n     * @param {ConnectionErrorHandler} errorHandler the error handler\n     */\n    function Connection(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this._errorHandler = errorHandler;\n        return _this;\n    }\n    Object.defineProperty(Connection.prototype, \"id\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"databaseId\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"authToken\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"supportsReAuth\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"creationTimestamp\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"idleTimestamp\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @returns {BoltProtocol} the underlying bolt protocol assigned to this connection\n     */\n    Connection.prototype.protocol = function () {\n        throw new Error('not implemented');\n    };\n    Object.defineProperty(Connection.prototype, \"address\", {\n        /**\n         * @returns {ServerAddress} the server address this connection is opened against\n         */\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"version\", {\n        /**\n         * @returns {ServerVersion} the version of the server this connection is connected to\n         */\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"server\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Connect to the target address, negotiate Bolt protocol and send initialization message.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} boltAgent the bolt agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @param {boolean} shouldWaitReAuth whether ot not the connection will wait for re-authentication to happen\n     * @return {Promise<Connection>} promise resolved with the current connection if connection is successful. Rejected promise otherwise.\n     */\n    Connection.prototype.connect = function (userAgent, boltAgent, authToken, shouldWaitReAuth) {\n        throw new Error('not implemented');\n    };\n    /**\n     * Write a message to the network channel.\n     * @param {RequestMessage} message the message to write.\n     * @param {ResultStreamObserver} observer the response observer.\n     * @param {boolean} flush `true` if flush should happen after the message is written to the buffer.\n     */\n    Connection.prototype.write = function (message, observer, flush) {\n        throw new Error('not implemented');\n    };\n    /**\n     * Call close on the channel.\n     * @returns {Promise<void>} - A promise that will be resolved when the connection is closed.\n     *\n     */\n    Connection.prototype.close = function () {\n        throw new Error('not implemented');\n    };\n    /**\n     *\n     * @param error\n     * @param address\n     * @returns {Neo4jError|*}\n     */\n    Connection.prototype.handleAndTransformError = function (error, address) {\n        if (this._errorHandler) {\n            return this._errorHandler.handleAndTransformError(error, address, this);\n        }\n        return error;\n    };\n    return Connection;\n}(neo4j_driver_core_1.Connection));\nexports[\"default\"] = Connection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9jb25uZWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1CQUFPLENBQUMsb0ZBQVM7QUFDOUIsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0JBQXdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHFCQUFxQixlQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QixnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5qcz82NmIyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnZhciBib2x0XzEgPSByZXF1aXJlKFwiLi4vYm9sdFwiKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIENvbm5lY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbm5lY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDb25uZWN0aW9uRXJyb3JIYW5kbGVyfSBlcnJvckhhbmRsZXIgdGhlIGVycm9yIGhhbmRsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb25uZWN0aW9uKGVycm9ySGFuZGxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fZXJyb3JIYW5kbGVyID0gZXJyb3JIYW5kbGVyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJpZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJkYXRhYmFzZUlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJhdXRoVG9rZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcInN1cHBvcnRzUmVBdXRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImNyZWF0aW9uVGltZXN0YW1wXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcImlkbGVUaW1lc3RhbXBcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0JvbHRQcm90b2NvbH0gdGhlIHVuZGVybHlpbmcgYm9sdCBwcm90b2NvbCBhc3NpZ25lZCB0byB0aGlzIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBDb25uZWN0aW9uLnByb3RvdHlwZS5wcm90b2NvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJhZGRyZXNzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtTZXJ2ZXJBZGRyZXNzfSB0aGUgc2VydmVyIGFkZHJlc3MgdGhpcyBjb25uZWN0aW9uIGlzIG9wZW5lZCBhZ2FpbnN0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7U2VydmVyVmVyc2lvbn0gdGhlIHZlcnNpb24gb2YgdGhlIHNlcnZlciB0aGlzIGNvbm5lY3Rpb24gaXMgY29ubmVjdGVkIHRvXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbm5lY3Rpb24ucHJvdG90eXBlLCBcInNlcnZlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIHRhcmdldCBhZGRyZXNzLCBuZWdvdGlhdGUgQm9sdCBwcm90b2NvbCBhbmQgc2VuZCBpbml0aWFsaXphdGlvbiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWdlbnQgdGhlIHVzZXIgYWdlbnQgZm9yIHRoaXMgZHJpdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBib2x0QWdlbnQgdGhlIGJvbHQgYWdlbnQgZm9yIHRoaXMgZHJpdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoVG9rZW4gdGhlIG9iamVjdCBjb250YWluaW5nIGF1dGggaW5mb3JtYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzaG91bGRXYWl0UmVBdXRoIHdoZXRoZXIgb3Qgbm90IHRoZSBjb25uZWN0aW9uIHdpbGwgd2FpdCBmb3IgcmUtYXV0aGVudGljYXRpb24gdG8gaGFwcGVuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxDb25uZWN0aW9uPn0gcHJvbWlzZSByZXNvbHZlZCB3aXRoIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gaWYgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsLiBSZWplY3RlZCBwcm9taXNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBDb25uZWN0aW9uLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHVzZXJBZ2VudCwgYm9sdEFnZW50LCBhdXRoVG9rZW4sIHNob3VsZFdhaXRSZUF1dGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgbWVzc2FnZSB0byB0aGUgbmV0d29yayBjaGFubmVsLlxuICAgICAqIEBwYXJhbSB7UmVxdWVzdE1lc3NhZ2V9IG1lc3NhZ2UgdGhlIG1lc3NhZ2UgdG8gd3JpdGUuXG4gICAgICogQHBhcmFtIHtSZXN1bHRTdHJlYW1PYnNlcnZlcn0gb2JzZXJ2ZXIgdGhlIHJlc3BvbnNlIG9ic2VydmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmx1c2ggYHRydWVgIGlmIGZsdXNoIHNob3VsZCBoYXBwZW4gYWZ0ZXIgdGhlIG1lc3NhZ2UgaXMgd3JpdHRlbiB0byB0aGUgYnVmZmVyLlxuICAgICAqL1xuICAgIENvbm5lY3Rpb24ucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9ic2VydmVyLCBmbHVzaCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCBjbG9zZSBvbiB0aGUgY2hhbm5lbC5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gLSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuICAgICAqXG4gICAgICovXG4gICAgQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlcnJvclxuICAgICAqIEBwYXJhbSBhZGRyZXNzXG4gICAgICogQHJldHVybnMge05lbzRqRXJyb3J8Kn1cbiAgICAgKi9cbiAgICBDb25uZWN0aW9uLnByb3RvdHlwZS5oYW5kbGVBbmRUcmFuc2Zvcm1FcnJvciA9IGZ1bmN0aW9uIChlcnJvciwgYWRkcmVzcykge1xuICAgICAgICBpZiAodGhpcy5fZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3JIYW5kbGVyLmhhbmRsZUFuZFRyYW5zZm9ybUVycm9yKGVycm9yLCBhZGRyZXNzLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfTtcbiAgICByZXR1cm4gQ29ubmVjdGlvbjtcbn0obmVvNGpfZHJpdmVyX2NvcmVfMS5Db25uZWN0aW9uKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBDb25uZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createChannelConnection = exports.ConnectionErrorHandler = exports.DelegateConnection = exports.ChannelConnection = exports.Connection = void 0;\nvar connection_1 = __importDefault(__webpack_require__(/*! ./connection */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js\"));\nexports.Connection = connection_1.default;\nvar connection_channel_1 = __importStar(__webpack_require__(/*! ./connection-channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js\"));\nexports.ChannelConnection = connection_channel_1.default;\nObject.defineProperty(exports, \"createChannelConnection\", ({ enumerable: true, get: function () { return connection_channel_1.createChannelConnection; } }));\nvar connection_delegate_1 = __importDefault(__webpack_require__(/*! ./connection-delegate */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js\"));\nexports.DelegateConnection = connection_delegate_1.default;\nvar connection_error_handler_1 = __importDefault(__webpack_require__(/*! ./connection-error-handler */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js\"));\nexports.ConnectionErrorHandler = connection_error_handler_1.default;\nexports[\"default\"] = connection_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQixHQUFHLDhCQUE4QixHQUFHLDBCQUEwQixHQUFHLHlCQUF5QixHQUFHLGtCQUFrQjtBQUM5SSxtQ0FBbUMsbUJBQU8sQ0FBQyxvR0FBYztBQUN6RCxrQkFBa0I7QUFDbEIsd0NBQXdDLG1CQUFPLENBQUMsb0hBQXNCO0FBQ3RFLHlCQUF5QjtBQUN6QiwyREFBMEQsRUFBRSxxQ0FBcUMsd0RBQXdELEVBQUM7QUFDMUosNENBQTRDLG1CQUFPLENBQUMsc0hBQXVCO0FBQzNFLDBCQUEwQjtBQUMxQixpREFBaUQsbUJBQU8sQ0FBQyxnSUFBNEI7QUFDckYsOEJBQThCO0FBQzlCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvY29ubmVjdGlvbi9pbmRleC5qcz84ZTY4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVDaGFubmVsQ29ubmVjdGlvbiA9IGV4cG9ydHMuQ29ubmVjdGlvbkVycm9ySGFuZGxlciA9IGV4cG9ydHMuRGVsZWdhdGVDb25uZWN0aW9uID0gZXhwb3J0cy5DaGFubmVsQ29ubmVjdGlvbiA9IGV4cG9ydHMuQ29ubmVjdGlvbiA9IHZvaWQgMDtcbnZhciBjb25uZWN0aW9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29ubmVjdGlvblwiKSk7XG5leHBvcnRzLkNvbm5lY3Rpb24gPSBjb25uZWN0aW9uXzEuZGVmYXVsdDtcbnZhciBjb25uZWN0aW9uX2NoYW5uZWxfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9jb25uZWN0aW9uLWNoYW5uZWxcIikpO1xuZXhwb3J0cy5DaGFubmVsQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb25fY2hhbm5lbF8xLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVDaGFubmVsQ29ubmVjdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdGlvbl9jaGFubmVsXzEuY3JlYXRlQ2hhbm5lbENvbm5lY3Rpb247IH0gfSk7XG52YXIgY29ubmVjdGlvbl9kZWxlZ2F0ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2Nvbm5lY3Rpb24tZGVsZWdhdGVcIikpO1xuZXhwb3J0cy5EZWxlZ2F0ZUNvbm5lY3Rpb24gPSBjb25uZWN0aW9uX2RlbGVnYXRlXzEuZGVmYXVsdDtcbnZhciBjb25uZWN0aW9uX2Vycm9yX2hhbmRsZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb25uZWN0aW9uLWVycm9yLWhhbmRsZXJcIikpO1xuZXhwb3J0cy5Db25uZWN0aW9uRXJyb3JIYW5kbGVyID0gY29ubmVjdGlvbl9lcnJvcl9oYW5kbGVyXzEuZGVmYXVsdDtcbmV4cG9ydHMuZGVmYXVsdCA9IGNvbm5lY3Rpb25fMS5kZWZhdWx0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/index.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.pool = exports.packstream = exports.channel = exports.buf = exports.bolt = exports.loadBalancing = void 0;\nexports.loadBalancing = __importStar(__webpack_require__(/*! ./load-balancing */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js\"));\nexports.bolt = __importStar(__webpack_require__(/*! ./bolt */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js\"));\nexports.buf = __importStar(__webpack_require__(/*! ./buf */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js\"));\nexports.channel = __importStar(__webpack_require__(/*! ./channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\"));\nexports.packstream = __importStar(__webpack_require__(/*! ./packstream */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\"));\nexports.pool = __importStar(__webpack_require__(/*! ./pool */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/index.js\"));\n__exportStar(__webpack_require__(/*! ./connection-provider */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWSxHQUFHLGtCQUFrQixHQUFHLGVBQWUsR0FBRyxXQUFXLEdBQUcsWUFBWSxHQUFHLHFCQUFxQjtBQUN4RyxxQkFBcUIsZ0JBQWdCLG1CQUFPLENBQUMsdUdBQWtCO0FBQy9ELFlBQVksZ0JBQWdCLG1CQUFPLENBQUMsbUZBQVE7QUFDNUMsV0FBVyxnQkFBZ0IsbUJBQU8sQ0FBQyxpRkFBTztBQUMxQyxlQUFlLGdCQUFnQixtQkFBTyxDQUFDLHlGQUFXO0FBQ2xELGtCQUFrQixnQkFBZ0IsbUJBQU8sQ0FBQywrRkFBYztBQUN4RCxZQUFZLGdCQUFnQixtQkFBTyxDQUFDLG1GQUFRO0FBQzVDLGFBQWEsbUJBQU8sQ0FBQyxpSEFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9pbmRleC5qcz85Y2M0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucG9vbCA9IGV4cG9ydHMucGFja3N0cmVhbSA9IGV4cG9ydHMuY2hhbm5lbCA9IGV4cG9ydHMuYnVmID0gZXhwb3J0cy5ib2x0ID0gZXhwb3J0cy5sb2FkQmFsYW5jaW5nID0gdm9pZCAwO1xuZXhwb3J0cy5sb2FkQmFsYW5jaW5nID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jaW5nXCIpKTtcbmV4cG9ydHMuYm9sdCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9ib2x0XCIpKTtcbmV4cG9ydHMuYnVmID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2J1ZlwiKSk7XG5leHBvcnRzLmNoYW5uZWwgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vY2hhbm5lbFwiKSk7XG5leHBvcnRzLnBhY2tzdHJlYW0gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vcGFja3N0cmVhbVwiKSk7XG5leHBvcnRzLnBvb2wgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vcG9vbFwiKSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY29ubmVjdGlvbi1wcm92aWRlclwiKSwgZXhwb3J0cyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js":
/*!**************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.reuseOngoingRequest = exports.identity = void 0;\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\n/**\n * Identity function.\n *\n * Identity functions are function which returns the input as output.\n *\n * @param {any} x\n * @returns {any} the x\n */\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n/**\n * Makes the function able to share ongoing requests\n *\n * @param {function(...args): Promise} func The function to be decorated\n * @param {any} thisArg The `this` which should be used in the function call\n * @return {function(...args): Promise} The decorated function\n */\nfunction reuseOngoingRequest(func, thisArg) {\n    if (thisArg === void 0) { thisArg = null; }\n    var ongoingRequests = new Map();\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = neo4j_driver_core_1.json.stringify(args);\n        if (ongoingRequests.has(key)) {\n            return ongoingRequests.get(key);\n        }\n        var promise = func.apply(thisArg, args);\n        ongoingRequests.set(key, promise);\n        return promise.finally(function () {\n            ongoingRequests.delete(key);\n        });\n    };\n}\nexports.reuseOngoingRequest = reuseOngoingRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9mdW5jdGlvbmFsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCLEdBQUcsZ0JBQWdCO0FBQzlDLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QyxXQUFXLEtBQUs7QUFDaEIsWUFBWSw0QkFBNEI7QUFDeEM7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUJBQXVCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9sYW5nL2Z1bmN0aW9uYWwuanM/NjQyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJldXNlT25nb2luZ1JlcXVlc3QgPSBleHBvcnRzLmlkZW50aXR5ID0gdm9pZCAwO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG4vKipcbiAqIElkZW50aXR5IGZ1bmN0aW9uLlxuICpcbiAqIElkZW50aXR5IGZ1bmN0aW9ucyBhcmUgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGUgaW5wdXQgYXMgb3V0cHV0LlxuICpcbiAqIEBwYXJhbSB7YW55fSB4XG4gKiBAcmV0dXJucyB7YW55fSB0aGUgeFxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG5leHBvcnRzLmlkZW50aXR5ID0gaWRlbnRpdHk7XG4vKipcbiAqIE1ha2VzIHRoZSBmdW5jdGlvbiBhYmxlIHRvIHNoYXJlIG9uZ29pbmcgcmVxdWVzdHNcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLmFyZ3MpOiBQcm9taXNlfSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiZSBkZWNvcmF0ZWRcbiAqIEBwYXJhbSB7YW55fSB0aGlzQXJnIFRoZSBgdGhpc2Agd2hpY2ggc2hvdWxkIGJlIHVzZWQgaW4gdGhlIGZ1bmN0aW9uIGNhbGxcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLmFyZ3MpOiBQcm9taXNlfSBUaGUgZGVjb3JhdGVkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIHJldXNlT25nb2luZ1JlcXVlc3QoZnVuYywgdGhpc0FyZykge1xuICAgIGlmICh0aGlzQXJnID09PSB2b2lkIDApIHsgdGhpc0FyZyA9IG51bGw7IH1cbiAgICB2YXIgb25nb2luZ1JlcXVlc3RzID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkoYXJncyk7XG4gICAgICAgIGlmIChvbmdvaW5nUmVxdWVzdHMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvbmdvaW5nUmVxdWVzdHMuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb21pc2UgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICBvbmdvaW5nUmVxdWVzdHMuc2V0KGtleSwgcHJvbWlzZSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb25nb2luZ1JlcXVlc3RzLmRlbGV0ZShrZXkpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuZXhwb3J0cy5yZXVzZU9uZ29pbmdSZXF1ZXN0ID0gcmV1c2VPbmdvaW5nUmVxdWVzdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.object = exports.functional = void 0;\nexports.functional = __importStar(__webpack_require__(/*! ./functional */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js\"));\nexports.object = __importStar(__webpack_require__(/*! ./object */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjLEdBQUcsa0JBQWtCO0FBQ25DLGtCQUFrQixnQkFBZ0IsbUJBQU8sQ0FBQyw4RkFBYztBQUN4RCxjQUFjLGdCQUFnQixtQkFBTyxDQUFDLHNGQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9pbmRleC5qcz8yOGU4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vYmplY3QgPSBleHBvcnRzLmZ1bmN0aW9uYWwgPSB2b2lkIDA7XG5leHBvcnRzLmZ1bmN0aW9uYWwgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vZnVuY3Rpb25hbFwiKSk7XG5leHBvcnRzLm9iamVjdCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9vYmplY3RcIikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js":
/*!**********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.equals = void 0;\nfunction equals(a, b) {\n    var e_1, _a;\n    if (a === b) {\n        return true;\n    }\n    if (a === null || b === null) {\n        return false;\n    }\n    if (typeof a === 'object' && typeof b === 'object') {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        if (keysA.length !== keysB.length) {\n            return false;\n        }\n        try {\n            for (var keysA_1 = __values(keysA), keysA_1_1 = keysA_1.next(); !keysA_1_1.done; keysA_1_1 = keysA_1.next()) {\n                var key = keysA_1_1.value;\n                if (a[key] !== b[key]) {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (keysA_1_1 && !keysA_1_1.done && (_a = keysA_1.return)) _a.call(keysA_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return true;\n    }\n    return false;\n}\nexports.equals = equals;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbGFuZy9vYmplY3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLGlCQUFpQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL2xhbmcvb2JqZWN0LmpzPzVlOGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lcXVhbHMgPSB2b2lkIDA7XG5mdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICAgIHZhciBlXzEsIF9hO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoYSA9PT0gbnVsbCB8fCBiID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKGIpO1xuICAgICAgICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5c0FfMSA9IF9fdmFsdWVzKGtleXNBKSwga2V5c0FfMV8xID0ga2V5c0FfMS5uZXh0KCk7ICFrZXlzQV8xXzEuZG9uZTsga2V5c0FfMV8xID0ga2V5c0FfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c0FfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChhW2tleV0gIT09IGJba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5c0FfMV8xICYmICFrZXlzQV8xXzEuZG9uZSAmJiAoX2EgPSBrZXlzQV8xLnJldHVybikpIF9hLmNhbGwoa2V5c0FfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuZXF1YWxzID0gZXF1YWxzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/object.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LeastConnectedLoadBalancingStrategy = exports.LoadBalancingStrategy = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar load_balancing_strategy_1 = __importDefault(__webpack_require__(/*! ./load-balancing-strategy */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js\"));\nexports.LoadBalancingStrategy = load_balancing_strategy_1.default;\nvar least_connected_load_balancing_strategy_1 = __importDefault(__webpack_require__(/*! ./least-connected-load-balancing-strategy */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js\"));\nexports.LeastConnectedLoadBalancingStrategy = least_connected_load_balancing_strategy_1.default;\nexports[\"default\"] = least_connected_load_balancing_strategy_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQ0FBMkMsR0FBRyw2QkFBNkI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsbUJBQU8sQ0FBQyxrSUFBMkI7QUFDbkYsNkJBQTZCO0FBQzdCLGdFQUFnRSxtQkFBTyxDQUFDLGtLQUEyQztBQUNuSCwyQ0FBMkM7QUFDM0Msa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9sb2FkLWJhbGFuY2luZy9pbmRleC5qcz83OWUzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneSA9IGV4cG9ydHMuTG9hZEJhbGFuY2luZ1N0cmF0ZWd5ID0gdm9pZCAwO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBsb2FkX2JhbGFuY2luZ19zdHJhdGVneV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jaW5nLXN0cmF0ZWd5XCIpKTtcbmV4cG9ydHMuTG9hZEJhbGFuY2luZ1N0cmF0ZWd5ID0gbG9hZF9iYWxhbmNpbmdfc3RyYXRlZ3lfMS5kZWZhdWx0O1xudmFyIGxlYXN0X2Nvbm5lY3RlZF9sb2FkX2JhbGFuY2luZ19zdHJhdGVneV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xlYXN0LWNvbm5lY3RlZC1sb2FkLWJhbGFuY2luZy1zdHJhdGVneVwiKSk7XG5leHBvcnRzLkxlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5ID0gbGVhc3RfY29ubmVjdGVkX2xvYWRfYmFsYW5jaW5nX3N0cmF0ZWd5XzEuZGVmYXVsdDtcbmV4cG9ydHMuZGVmYXVsdCA9IGxlYXN0X2Nvbm5lY3RlZF9sb2FkX2JhbGFuY2luZ19zdHJhdGVneV8xLmRlZmF1bHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar round_robin_array_index_1 = __importDefault(__webpack_require__(/*! ./round-robin-array-index */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js\"));\nvar load_balancing_strategy_1 = __importDefault(__webpack_require__(/*! ./load-balancing-strategy */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js\"));\nvar LeastConnectedLoadBalancingStrategy = /** @class */ (function (_super) {\n    __extends(LeastConnectedLoadBalancingStrategy, _super);\n    /**\n     * @constructor\n     * @param {Pool} connectionPool the connection pool of this driver.\n     */\n    function LeastConnectedLoadBalancingStrategy(connectionPool) {\n        var _this = _super.call(this) || this;\n        _this._readersIndex = new round_robin_array_index_1.default();\n        _this._writersIndex = new round_robin_array_index_1.default();\n        _this._connectionPool = connectionPool;\n        return _this;\n    }\n    /**\n     * @inheritDoc\n     */\n    LeastConnectedLoadBalancingStrategy.prototype.selectReader = function (knownReaders) {\n        return this._select(knownReaders, this._readersIndex);\n    };\n    /**\n     * @inheritDoc\n     */\n    LeastConnectedLoadBalancingStrategy.prototype.selectWriter = function (knownWriters) {\n        return this._select(knownWriters, this._writersIndex);\n    };\n    LeastConnectedLoadBalancingStrategy.prototype._select = function (addresses, roundRobinIndex) {\n        var length = addresses.length;\n        if (length === 0) {\n            return null;\n        }\n        // choose start index for iteration in round-robin fashion\n        var startIndex = roundRobinIndex.next(length);\n        var index = startIndex;\n        var leastConnectedAddress = null;\n        var leastActiveConnections = Number.MAX_SAFE_INTEGER;\n        // iterate over the array to find least connected address\n        do {\n            var address = addresses[index];\n            var activeConnections = this._connectionPool.activeResourceCount(address);\n            if (activeConnections < leastActiveConnections) {\n                leastConnectedAddress = address;\n                leastActiveConnections = activeConnections;\n            }\n            // loop over to the start of the array when end is reached\n            if (index === length - 1) {\n                index = 0;\n            }\n            else {\n                index++;\n            }\n        } while (index !== startIndex);\n        return leastConnectedAddress;\n    };\n    return LeastConnectedLoadBalancingStrategy;\n}(load_balancing_strategy_1.default));\nexports[\"default\"] = LeastConnectedLoadBalancingStrategy;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvbGVhc3QtY29ubmVjdGVkLWxvYWQtYmFsYW5jaW5nLXN0cmF0ZWd5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0Isc0NBQXNDLGtCQUFrQjtBQUN2Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsbUJBQU8sQ0FBQyxrSUFBMkI7QUFDbkYsZ0RBQWdELG1CQUFPLENBQUMsa0lBQTJCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9sb2FkLWJhbGFuY2luZy9sZWFzdC1jb25uZWN0ZWQtbG9hZC1iYWxhbmNpbmctc3RyYXRlZ3kuanM/ZTlkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIHJvdW5kX3JvYmluX2FycmF5X2luZGV4XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcm91bmQtcm9iaW4tYXJyYXktaW5kZXhcIikpO1xudmFyIGxvYWRfYmFsYW5jaW5nX3N0cmF0ZWd5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbG9hZC1iYWxhbmNpbmctc3RyYXRlZ3lcIikpO1xudmFyIExlYXN0Q29ubmVjdGVkTG9hZEJhbGFuY2luZ1N0cmF0ZWd5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1Bvb2x9IGNvbm5lY3Rpb25Qb29sIHRoZSBjb25uZWN0aW9uIHBvb2wgb2YgdGhpcyBkcml2ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGVhc3RDb25uZWN0ZWRMb2FkQmFsYW5jaW5nU3RyYXRlZ3koY29ubmVjdGlvblBvb2wpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3JlYWRlcnNJbmRleCA9IG5ldyByb3VuZF9yb2Jpbl9hcnJheV9pbmRleF8xLmRlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMuX3dyaXRlcnNJbmRleCA9IG5ldyByb3VuZF9yb2Jpbl9hcnJheV9pbmRleF8xLmRlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMuX2Nvbm5lY3Rpb25Qb29sID0gY29ubmVjdGlvblBvb2w7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBMZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneS5wcm90b3R5cGUuc2VsZWN0UmVhZGVyID0gZnVuY3Rpb24gKGtub3duUmVhZGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0KGtub3duUmVhZGVycywgdGhpcy5fcmVhZGVyc0luZGV4KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgTGVhc3RDb25uZWN0ZWRMb2FkQmFsYW5jaW5nU3RyYXRlZ3kucHJvdG90eXBlLnNlbGVjdFdyaXRlciA9IGZ1bmN0aW9uIChrbm93bldyaXRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdChrbm93bldyaXRlcnMsIHRoaXMuX3dyaXRlcnNJbmRleCk7XG4gICAgfTtcbiAgICBMZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneS5wcm90b3R5cGUuX3NlbGVjdCA9IGZ1bmN0aW9uIChhZGRyZXNzZXMsIHJvdW5kUm9iaW5JbmRleCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYWRkcmVzc2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hvb3NlIHN0YXJ0IGluZGV4IGZvciBpdGVyYXRpb24gaW4gcm91bmQtcm9iaW4gZmFzaGlvblxuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHJvdW5kUm9iaW5JbmRleC5uZXh0KGxlbmd0aCk7XG4gICAgICAgIHZhciBpbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgICAgIHZhciBsZWFzdENvbm5lY3RlZEFkZHJlc3MgPSBudWxsO1xuICAgICAgICB2YXIgbGVhc3RBY3RpdmVDb25uZWN0aW9ucyA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGFycmF5IHRvIGZpbmQgbGVhc3QgY29ubmVjdGVkIGFkZHJlc3NcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGFkZHJlc3MgPSBhZGRyZXNzZXNbaW5kZXhdO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZUNvbm5lY3Rpb25zID0gdGhpcy5fY29ubmVjdGlvblBvb2wuYWN0aXZlUmVzb3VyY2VDb3VudChhZGRyZXNzKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVDb25uZWN0aW9ucyA8IGxlYXN0QWN0aXZlQ29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBsZWFzdENvbm5lY3RlZEFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICAgICAgICAgIGxlYXN0QWN0aXZlQ29ubmVjdGlvbnMgPSBhY3RpdmVDb25uZWN0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxvb3Agb3ZlciB0byB0aGUgc3RhcnQgb2YgdGhlIGFycmF5IHdoZW4gZW5kIGlzIHJlYWNoZWRcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGluZGV4ICE9PSBzdGFydEluZGV4KTtcbiAgICAgICAgcmV0dXJuIGxlYXN0Q29ubmVjdGVkQWRkcmVzcztcbiAgICB9O1xuICAgIHJldHVybiBMZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneTtcbn0obG9hZF9iYWxhbmNpbmdfc3RyYXRlZ3lfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFzdENvbm5lY3RlZExvYWRCYWxhbmNpbmdTdHJhdGVneTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * A facility to select most appropriate reader or writer among the given addresses for request processing.\n */\nvar LoadBalancingStrategy = /** @class */ (function () {\n    function LoadBalancingStrategy() {\n    }\n    /**\n     * Select next most appropriate reader from the list of given readers.\n     * @param {string[]} knownReaders an array of currently known readers to select from.\n     * @return {string} most appropriate reader or `null` if given array is empty.\n     */\n    LoadBalancingStrategy.prototype.selectReader = function (knownReaders) {\n        throw new Error('Abstract function');\n    };\n    /**\n     * Select next most appropriate writer from the list of given writers.\n     * @param {string[]} knownWriters an array of currently known writers to select from.\n     * @return {string} most appropriate writer or `null` if given array is empty.\n     */\n    LoadBalancingStrategy.prototype.selectWriter = function (knownWriters) {\n        throw new Error('Abstract function');\n    };\n    return LoadBalancingStrategy;\n}());\nexports[\"default\"] = LoadBalancingStrategy;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvbG9hZC1iYWxhbmNpbmctc3RyYXRlZ3kuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvbG9hZC1iYWxhbmNpbmctc3RyYXRlZ3kuanM/ZTA1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgZmFjaWxpdHkgdG8gc2VsZWN0IG1vc3QgYXBwcm9wcmlhdGUgcmVhZGVyIG9yIHdyaXRlciBhbW9uZyB0aGUgZ2l2ZW4gYWRkcmVzc2VzIGZvciByZXF1ZXN0IHByb2Nlc3NpbmcuXG4gKi9cbnZhciBMb2FkQmFsYW5jaW5nU3RyYXRlZ3kgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9hZEJhbGFuY2luZ1N0cmF0ZWd5KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWxlY3QgbmV4dCBtb3N0IGFwcHJvcHJpYXRlIHJlYWRlciBmcm9tIHRoZSBsaXN0IG9mIGdpdmVuIHJlYWRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0ga25vd25SZWFkZXJzIGFuIGFycmF5IG9mIGN1cnJlbnRseSBrbm93biByZWFkZXJzIHRvIHNlbGVjdCBmcm9tLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gbW9zdCBhcHByb3ByaWF0ZSByZWFkZXIgb3IgYG51bGxgIGlmIGdpdmVuIGFycmF5IGlzIGVtcHR5LlxuICAgICAqL1xuICAgIExvYWRCYWxhbmNpbmdTdHJhdGVneS5wcm90b3R5cGUuc2VsZWN0UmVhZGVyID0gZnVuY3Rpb24gKGtub3duUmVhZGVycykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fic3RyYWN0IGZ1bmN0aW9uJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWxlY3QgbmV4dCBtb3N0IGFwcHJvcHJpYXRlIHdyaXRlciBmcm9tIHRoZSBsaXN0IG9mIGdpdmVuIHdyaXRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0ga25vd25Xcml0ZXJzIGFuIGFycmF5IG9mIGN1cnJlbnRseSBrbm93biB3cml0ZXJzIHRvIHNlbGVjdCBmcm9tLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gbW9zdCBhcHByb3ByaWF0ZSB3cml0ZXIgb3IgYG51bGxgIGlmIGdpdmVuIGFycmF5IGlzIGVtcHR5LlxuICAgICAqL1xuICAgIExvYWRCYWxhbmNpbmdTdHJhdGVneS5wcm90b3R5cGUuc2VsZWN0V3JpdGVyID0gZnVuY3Rpb24gKGtub3duV3JpdGVycykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fic3RyYWN0IGZ1bmN0aW9uJyk7XG4gICAgfTtcbiAgICByZXR1cm4gTG9hZEJhbGFuY2luZ1N0cmF0ZWd5O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRCYWxhbmNpbmdTdHJhdGVneTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar RoundRobinArrayIndex = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {number} [initialOffset=0] the initial offset for round robin.\n     */\n    function RoundRobinArrayIndex(initialOffset) {\n        this._offset = initialOffset || 0;\n    }\n    /**\n     * Get next index for an array with given length.\n     * @param {number} arrayLength the array length.\n     * @return {number} index in the array.\n     */\n    RoundRobinArrayIndex.prototype.next = function (arrayLength) {\n        if (arrayLength === 0) {\n            return -1;\n        }\n        var nextOffset = this._offset;\n        this._offset += 1;\n        if (this._offset === Number.MAX_SAFE_INTEGER) {\n            this._offset = 0;\n        }\n        return nextOffset % arrayLength;\n    };\n    return RoundRobinArrayIndex;\n}());\nexports[\"default\"] = RoundRobinArrayIndex;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvcm91bmQtcm9iaW4tYXJyYXktaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvbG9hZC1iYWxhbmNpbmcvcm91bmQtcm9iaW4tYXJyYXktaW5kZXguanM/YzAwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUm91bmRSb2JpbkFycmF5SW5kZXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbml0aWFsT2Zmc2V0PTBdIHRoZSBpbml0aWFsIG9mZnNldCBmb3Igcm91bmQgcm9iaW4uXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm91bmRSb2JpbkFycmF5SW5kZXgoaW5pdGlhbE9mZnNldCkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbml0aWFsT2Zmc2V0IHx8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBuZXh0IGluZGV4IGZvciBhbiBhcnJheSB3aXRoIGdpdmVuIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJyYXlMZW5ndGggdGhlIGFycmF5IGxlbmd0aC5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGluZGV4IGluIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICBSb3VuZFJvYmluQXJyYXlJbmRleC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCkge1xuICAgICAgICBpZiAoYXJyYXlMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV4dE9mZnNldCA9IHRoaXMuX29mZnNldDtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ICs9IDE7XG4gICAgICAgIGlmICh0aGlzLl9vZmZzZXQgPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0T2Zmc2V0ICUgYXJyYXlMZW5ndGg7XG4gICAgfTtcbiAgICByZXR1cm4gUm91bmRSb2JpbkFycmF5SW5kZXg7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUm91bmRSb2JpbkFycmF5SW5kZXg7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.structure = exports.v2 = exports.v1 = void 0;\nvar v1 = __importStar(__webpack_require__(/*! ./packstream-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js\"));\nexports.v1 = v1;\nvar v2 = __importStar(__webpack_require__(/*! ./packstream-v2 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js\"));\nexports.v2 = v2;\nvar structure = __importStar(__webpack_require__(/*! ./structure */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js\"));\nexports.structure = structure;\nexports[\"default\"] = v2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsR0FBRyxVQUFVLEdBQUcsVUFBVTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQywwR0FBaUI7QUFDL0MsVUFBVTtBQUNWLHNCQUFzQixtQkFBTyxDQUFDLDBHQUFpQjtBQUMvQyxVQUFVO0FBQ1YsNkJBQTZCLG1CQUFPLENBQUMsa0dBQWE7QUFDbEQsaUJBQWlCO0FBQ2pCLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9pbmRleC5qcz8wZGRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdHJ1Y3R1cmUgPSBleHBvcnRzLnYyID0gZXhwb3J0cy52MSA9IHZvaWQgMDtcbnZhciB2MSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9wYWNrc3RyZWFtLXYxXCIpKTtcbmV4cG9ydHMudjEgPSB2MTtcbnZhciB2MiA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9wYWNrc3RyZWFtLXYyXCIpKTtcbmV4cG9ydHMudjIgPSB2MjtcbnZhciBzdHJ1Y3R1cmUgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vc3RydWN0dXJlXCIpKTtcbmV4cG9ydHMuc3RydWN0dXJlID0gc3RydWN0dXJlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdjI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Unpacker = exports.Packer = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar channel_1 = __webpack_require__(/*! ../channel */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js\");\nvar lang_1 = __webpack_require__(/*! ../lang */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js\");\nvar structure_1 = __webpack_require__(/*! ./structure */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js\");\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar TINY_STRING = 0x80;\nvar TINY_LIST = 0x90;\nvar TINY_MAP = 0xa0;\nvar TINY_STRUCT = 0xb0;\nvar NULL = 0xc0;\nvar FLOAT_64 = 0xc1;\nvar FALSE = 0xc2;\nvar TRUE = 0xc3;\nvar INT_8 = 0xc8;\nvar INT_16 = 0xc9;\nvar INT_32 = 0xca;\nvar INT_64 = 0xcb;\nvar STRING_8 = 0xd0;\nvar STRING_16 = 0xd1;\nvar STRING_32 = 0xd2;\nvar LIST_8 = 0xd4;\nvar LIST_16 = 0xd5;\nvar LIST_32 = 0xd6;\nvar BYTES_8 = 0xcc;\nvar BYTES_16 = 0xcd;\nvar BYTES_32 = 0xce;\nvar MAP_8 = 0xd8;\nvar MAP_16 = 0xd9;\nvar MAP_32 = 0xda;\nvar STRUCT_8 = 0xdc;\nvar STRUCT_16 = 0xdd;\n/**\n * Class to pack\n * @access private\n */\nvar Packer = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {Chunker} channel the chunker backed by a network channel.\n     */\n    function Packer(channel) {\n        this._ch = channel;\n        this._byteArraysSupported = true;\n    }\n    /**\n     * Creates a packable function out of the provided value\n     * @param x the value to pack\n     * @returns Function\n     */\n    Packer.prototype.packable = function (x, dehydrateStruct) {\n        var _this = this;\n        if (dehydrateStruct === void 0) { dehydrateStruct = lang_1.functional.identity; }\n        try {\n            x = dehydrateStruct(x);\n        }\n        catch (ex) {\n            return function () { throw ex; };\n        }\n        if (x === null) {\n            return function () { return _this._ch.writeUInt8(NULL); };\n        }\n        else if (x === true) {\n            return function () { return _this._ch.writeUInt8(TRUE); };\n        }\n        else if (x === false) {\n            return function () { return _this._ch.writeUInt8(FALSE); };\n        }\n        else if (typeof x === 'number') {\n            return function () { return _this.packFloat(x); };\n        }\n        else if (typeof x === 'string') {\n            return function () { return _this.packString(x); };\n        }\n        else if (typeof x === 'bigint') {\n            return function () { return _this.packInteger((0, neo4j_driver_core_1.int)(x)); };\n        }\n        else if ((0, neo4j_driver_core_1.isInt)(x)) {\n            return function () { return _this.packInteger(x); };\n        }\n        else if (x instanceof Int8Array) {\n            return function () { return _this.packBytes(x); };\n        }\n        else if (x instanceof Array) {\n            return function () {\n                _this.packListHeader(x.length);\n                for (var i = 0; i < x.length; i++) {\n                    _this.packable(x[i] === undefined ? null : x[i], dehydrateStruct)();\n                }\n            };\n        }\n        else if (isIterable(x)) {\n            return this.packableIterable(x, dehydrateStruct);\n        }\n        else if (x instanceof structure_1.Structure) {\n            var packableFields_1 = [];\n            for (var i = 0; i < x.fields.length; i++) {\n                packableFields_1[i] = this.packable(x.fields[i], dehydrateStruct);\n            }\n            return function () { return _this.packStruct(x.signature, packableFields_1); };\n        }\n        else if (typeof x === 'object') {\n            return function () {\n                var keys = Object.keys(x);\n                var count = 0;\n                for (var i = 0; i < keys.length; i++) {\n                    if (x[keys[i]] !== undefined) {\n                        count++;\n                    }\n                }\n                _this.packMapHeader(count);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = keys[i];\n                    if (x[key] !== undefined) {\n                        _this.packString(key);\n                        _this.packable(x[key], dehydrateStruct)();\n                    }\n                }\n            };\n        }\n        else {\n            return this._nonPackableValue(\"Unable to pack the given value: \".concat(x));\n        }\n    };\n    Packer.prototype.packableIterable = function (iterable, dehydrateStruct) {\n        try {\n            var array = Array.from(iterable);\n            return this.packable(array, dehydrateStruct);\n        }\n        catch (e) {\n            // handle errors from iterable to array conversion\n            throw (0, neo4j_driver_core_1.newError)(\"Cannot pack given iterable, \".concat(e.message, \": \").concat(iterable));\n        }\n    };\n    /**\n     * Packs a struct\n     * @param signature the signature of the struct\n     * @param packableFields the fields of the struct, make sure you call `packable on all fields`\n     */\n    Packer.prototype.packStruct = function (signature, packableFields) {\n        packableFields = packableFields || [];\n        this.packStructHeader(packableFields.length, signature);\n        for (var i = 0; i < packableFields.length; i++) {\n            packableFields[i]();\n        }\n    };\n    Packer.prototype.packInteger = function (x) {\n        var high = x.high;\n        var low = x.low;\n        if (x.greaterThanOrEqual(-0x10) && x.lessThan(0x80)) {\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80) && x.lessThan(-0x10)) {\n            this._ch.writeUInt8(INT_8);\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x8000) && x.lessThan(0x8000)) {\n            this._ch.writeUInt8(INT_16);\n            this._ch.writeInt16(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80000000) && x.lessThan(0x80000000)) {\n            this._ch.writeUInt8(INT_32);\n            this._ch.writeInt32(low);\n        }\n        else {\n            this._ch.writeUInt8(INT_64);\n            this._ch.writeInt32(high);\n            this._ch.writeInt32(low);\n        }\n    };\n    Packer.prototype.packFloat = function (x) {\n        this._ch.writeUInt8(FLOAT_64);\n        this._ch.writeFloat64(x);\n    };\n    Packer.prototype.packString = function (x) {\n        var bytes = channel_1.utf8.encode(x);\n        var size = bytes.length;\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRING | size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRING_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRING_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(STRING_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('UTF-8 strings of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packListHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_LIST | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(LIST_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(LIST_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(LIST_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Lists of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packBytes = function (array) {\n        if (this._byteArraysSupported) {\n            this.packBytesHeader(array.length);\n            for (var i = 0; i < array.length; i++) {\n                this._ch.writeInt8(array[i]);\n            }\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays are not supported by the database this driver is connected to');\n        }\n    };\n    Packer.prototype.packBytesHeader = function (size) {\n        if (size < 0x100) {\n            this._ch.writeUInt8(BYTES_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(BYTES_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(BYTES_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packMapHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_MAP | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(MAP_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(MAP_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(MAP_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Maps of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packStructHeader = function (size, signature) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRUCT | size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRUCT_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRUCT_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Structures of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.disableByteArrays = function () {\n        this._byteArraysSupported = false;\n    };\n    Packer.prototype._nonPackableValue = function (message) {\n        return function () {\n            throw (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n        };\n    };\n    return Packer;\n}());\nexports.Packer = Packer;\n/**\n * Class to unpack\n * @access private\n */\nvar Unpacker = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n     * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n     */\n    function Unpacker(disableLosslessIntegers, useBigInt) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (useBigInt === void 0) { useBigInt = false; }\n        this._disableLosslessIntegers = disableLosslessIntegers;\n        this._useBigInt = useBigInt;\n    }\n    Unpacker.prototype.unpack = function (buffer, hydrateStructure) {\n        if (hydrateStructure === void 0) { hydrateStructure = lang_1.functional.identity; }\n        var marker = buffer.readUInt8();\n        var markerHigh = marker & 0xf0;\n        var markerLow = marker & 0x0f;\n        if (marker === NULL) {\n            return null;\n        }\n        var boolean = this._unpackBoolean(marker);\n        if (boolean !== null) {\n            return boolean;\n        }\n        var numberOrInteger = this._unpackNumberOrInteger(marker, buffer);\n        if (numberOrInteger !== null) {\n            if ((0, neo4j_driver_core_1.isInt)(numberOrInteger)) {\n                if (this._useBigInt) {\n                    return numberOrInteger.toBigInt();\n                }\n                else if (this._disableLosslessIntegers) {\n                    return numberOrInteger.toNumberOrInfinity();\n                }\n            }\n            return numberOrInteger;\n        }\n        var string = this._unpackString(marker, markerHigh, markerLow, buffer);\n        if (string !== null) {\n            return string;\n        }\n        var list = this._unpackList(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (list !== null) {\n            return list;\n        }\n        var byteArray = this._unpackByteArray(marker, buffer);\n        if (byteArray !== null) {\n            return byteArray;\n        }\n        var map = this._unpackMap(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (map !== null) {\n            return map;\n        }\n        var struct = this._unpackStruct(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (struct !== null) {\n            return struct;\n        }\n        throw (0, neo4j_driver_core_1.newError)('Unknown packed value with marker ' + marker.toString(16));\n    };\n    Unpacker.prototype.unpackInteger = function (buffer) {\n        var marker = buffer.readUInt8();\n        var result = this._unpackInteger(marker, buffer);\n        if (result == null) {\n            throw (0, neo4j_driver_core_1.newError)('Unable to unpack integer value with marker ' + marker.toString(16));\n        }\n        return result;\n    };\n    Unpacker.prototype._unpackBoolean = function (marker) {\n        if (marker === TRUE) {\n            return true;\n        }\n        else if (marker === FALSE) {\n            return false;\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackNumberOrInteger = function (marker, buffer) {\n        if (marker === FLOAT_64) {\n            return buffer.readFloat64();\n        }\n        else {\n            return this._unpackInteger(marker, buffer);\n        }\n    };\n    Unpacker.prototype._unpackInteger = function (marker, buffer) {\n        if (marker >= 0 && marker < 128) {\n            return (0, neo4j_driver_core_1.int)(marker);\n        }\n        else if (marker >= 240 && marker < 256) {\n            return (0, neo4j_driver_core_1.int)(marker - 256);\n        }\n        else if (marker === INT_8) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt8());\n        }\n        else if (marker === INT_16) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt16());\n        }\n        else if (marker === INT_32) {\n            var b = buffer.readInt32();\n            return (0, neo4j_driver_core_1.int)(b);\n        }\n        else if (marker === INT_64) {\n            var high = buffer.readInt32();\n            var low = buffer.readInt32();\n            return new neo4j_driver_core_1.Integer(low, high);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackString = function (marker, markerHigh, markerLow, buffer) {\n        if (markerHigh === TINY_STRING) {\n            return channel_1.utf8.decode(buffer, markerLow);\n        }\n        else if (marker === STRING_8) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt8());\n        }\n        else if (marker === STRING_16) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt16());\n        }\n        else if (marker === STRING_32) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt32());\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackList = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_LIST) {\n            return this._unpackListWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === LIST_8) {\n            return this._unpackListWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_16) {\n            return this._unpackListWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_32) {\n            return this._unpackListWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackListWithSize = function (size, buffer, hydrateStructure) {\n        var value = [];\n        for (var i = 0; i < size; i++) {\n            value.push(this.unpack(buffer, hydrateStructure));\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackByteArray = function (marker, buffer) {\n        if (marker === BYTES_8) {\n            return this._unpackByteArrayWithSize(buffer.readUInt8(), buffer);\n        }\n        else if (marker === BYTES_16) {\n            return this._unpackByteArrayWithSize(buffer.readUInt16(), buffer);\n        }\n        else if (marker === BYTES_32) {\n            return this._unpackByteArrayWithSize(buffer.readUInt32(), buffer);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackByteArrayWithSize = function (size, buffer) {\n        var value = new Int8Array(size);\n        for (var i = 0; i < size; i++) {\n            value[i] = buffer.readInt8();\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackMap = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_MAP) {\n            return this._unpackMapWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === MAP_8) {\n            return this._unpackMapWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_16) {\n            return this._unpackMapWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_32) {\n            return this._unpackMapWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackMapWithSize = function (size, buffer, hydrateStructure) {\n        var value = {};\n        for (var i = 0; i < size; i++) {\n            var key = this.unpack(buffer, hydrateStructure);\n            value[key] = this.unpack(buffer, hydrateStructure);\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackStruct = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_STRUCT) {\n            return this._unpackStructWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_8) {\n            return this._unpackStructWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_16) {\n            return this._unpackStructWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackStructWithSize = function (structSize, buffer, hydrateStructure) {\n        var signature = buffer.readUInt8();\n        var structure = new structure_1.Structure(signature, []);\n        for (var i = 0; i < structSize; i++) {\n            structure.fields.push(this.unpack(buffer, hydrateStructure));\n        }\n        return hydrateStructure(structure);\n    };\n    return Unpacker;\n}());\nexports.Unpacker = Unpacker;\nfunction isIterable(obj) {\n    if (obj == null) {\n        return false;\n    }\n    return typeof obj[Symbol.iterator] === 'function';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9wYWNrc3RyZWFtLXYxLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQywwRkFBWTtBQUNwQyxhQUFhLG1CQUFPLENBQUMsb0ZBQVM7QUFDOUIsa0JBQWtCLG1CQUFPLENBQUMsa0dBQWE7QUFDdkMsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsY0FBYztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pEO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJCQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9wYWNrc3RyZWFtLXYxLmpzP2RlNjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlVucGFja2VyID0gZXhwb3J0cy5QYWNrZXIgPSB2b2lkIDA7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGNoYW5uZWxfMSA9IHJlcXVpcmUoXCIuLi9jaGFubmVsXCIpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoXCIuLi9sYW5nXCIpO1xudmFyIHN0cnVjdHVyZV8xID0gcmVxdWlyZShcIi4vc3RydWN0dXJlXCIpO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgUFJPVE9DT0xfRVJST1IgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlBST1RPQ09MX0VSUk9SO1xudmFyIFRJTllfU1RSSU5HID0gMHg4MDtcbnZhciBUSU5ZX0xJU1QgPSAweDkwO1xudmFyIFRJTllfTUFQID0gMHhhMDtcbnZhciBUSU5ZX1NUUlVDVCA9IDB4YjA7XG52YXIgTlVMTCA9IDB4YzA7XG52YXIgRkxPQVRfNjQgPSAweGMxO1xudmFyIEZBTFNFID0gMHhjMjtcbnZhciBUUlVFID0gMHhjMztcbnZhciBJTlRfOCA9IDB4Yzg7XG52YXIgSU5UXzE2ID0gMHhjOTtcbnZhciBJTlRfMzIgPSAweGNhO1xudmFyIElOVF82NCA9IDB4Y2I7XG52YXIgU1RSSU5HXzggPSAweGQwO1xudmFyIFNUUklOR18xNiA9IDB4ZDE7XG52YXIgU1RSSU5HXzMyID0gMHhkMjtcbnZhciBMSVNUXzggPSAweGQ0O1xudmFyIExJU1RfMTYgPSAweGQ1O1xudmFyIExJU1RfMzIgPSAweGQ2O1xudmFyIEJZVEVTXzggPSAweGNjO1xudmFyIEJZVEVTXzE2ID0gMHhjZDtcbnZhciBCWVRFU18zMiA9IDB4Y2U7XG52YXIgTUFQXzggPSAweGQ4O1xudmFyIE1BUF8xNiA9IDB4ZDk7XG52YXIgTUFQXzMyID0gMHhkYTtcbnZhciBTVFJVQ1RfOCA9IDB4ZGM7XG52YXIgU1RSVUNUXzE2ID0gMHhkZDtcbi8qKlxuICogQ2xhc3MgdG8gcGFja1xuICogQGFjY2VzcyBwcml2YXRlXG4gKi9cbnZhciBQYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtDaHVua2VyfSBjaGFubmVsIHRoZSBjaHVua2VyIGJhY2tlZCBieSBhIG5ldHdvcmsgY2hhbm5lbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYWNrZXIoY2hhbm5lbCkge1xuICAgICAgICB0aGlzLl9jaCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMuX2J5dGVBcnJheXNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGFja2FibGUgZnVuY3Rpb24gb3V0IG9mIHRoZSBwcm92aWRlZCB2YWx1ZVxuICAgICAqIEBwYXJhbSB4IHRoZSB2YWx1ZSB0byBwYWNrXG4gICAgICogQHJldHVybnMgRnVuY3Rpb25cbiAgICAgKi9cbiAgICBQYWNrZXIucHJvdG90eXBlLnBhY2thYmxlID0gZnVuY3Rpb24gKHgsIGRlaHlkcmF0ZVN0cnVjdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGVoeWRyYXRlU3RydWN0ID09PSB2b2lkIDApIHsgZGVoeWRyYXRlU3RydWN0ID0gbGFuZ18xLmZ1bmN0aW9uYWwuaWRlbnRpdHk7IH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHggPSBkZWh5ZHJhdGVTdHJ1Y3QoeCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyB0aHJvdyBleDsgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaC53cml0ZVVJbnQ4KE5VTEwpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHggPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY2gud3JpdGVVSW50OChUUlVFKTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaC53cml0ZVVJbnQ4KEZBTFNFKTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wYWNrRmxvYXQoeCk7IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGFja1N0cmluZyh4KTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wYWNrSW50ZWdlcigoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKHgpKTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pc0ludCkoeCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wYWNrSW50ZWdlcih4KTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4IGluc3RhbmNlb2YgSW50OEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGFja0J5dGVzKHgpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHggaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYWNrTGlzdEhlYWRlcih4Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhY2thYmxlKHhbaV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiB4W2ldLCBkZWh5ZHJhdGVTdHJ1Y3QpKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYWNrYWJsZUl0ZXJhYmxlKHgsIGRlaHlkcmF0ZVN0cnVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeCBpbnN0YW5jZW9mIHN0cnVjdHVyZV8xLlN0cnVjdHVyZSkge1xuICAgICAgICAgICAgdmFyIHBhY2thYmxlRmllbGRzXzEgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeC5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYWNrYWJsZUZpZWxkc18xW2ldID0gdGhpcy5wYWNrYWJsZSh4LmZpZWxkc1tpXSwgZGVoeWRyYXRlU3RydWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wYWNrU3RydWN0KHguc2lnbmF0dXJlLCBwYWNrYWJsZUZpZWxkc18xKTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh4KTtcbiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeFtrZXlzW2ldXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnBhY2tNYXBIZWFkZXIoY291bnQpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYWNrU3RyaW5nKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYWNrYWJsZSh4W2tleV0sIGRlaHlkcmF0ZVN0cnVjdCkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9uUGFja2FibGVWYWx1ZShcIlVuYWJsZSB0byBwYWNrIHRoZSBnaXZlbiB2YWx1ZTogXCIuY29uY2F0KHgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5wYWNrYWJsZUl0ZXJhYmxlID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBkZWh5ZHJhdGVTdHJ1Y3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhcnJheSA9IEFycmF5LmZyb20oaXRlcmFibGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFja2FibGUoYXJyYXksIGRlaHlkcmF0ZVN0cnVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBlcnJvcnMgZnJvbSBpdGVyYWJsZSB0byBhcnJheSBjb252ZXJzaW9uXG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJDYW5ub3QgcGFjayBnaXZlbiBpdGVyYWJsZSwgXCIuY29uY2F0KGUubWVzc2FnZSwgXCI6IFwiKS5jb25jYXQoaXRlcmFibGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFja3MgYSBzdHJ1Y3RcbiAgICAgKiBAcGFyYW0gc2lnbmF0dXJlIHRoZSBzaWduYXR1cmUgb2YgdGhlIHN0cnVjdFxuICAgICAqIEBwYXJhbSBwYWNrYWJsZUZpZWxkcyB0aGUgZmllbGRzIG9mIHRoZSBzdHJ1Y3QsIG1ha2Ugc3VyZSB5b3UgY2FsbCBgcGFja2FibGUgb24gYWxsIGZpZWxkc2BcbiAgICAgKi9cbiAgICBQYWNrZXIucHJvdG90eXBlLnBhY2tTdHJ1Y3QgPSBmdW5jdGlvbiAoc2lnbmF0dXJlLCBwYWNrYWJsZUZpZWxkcykge1xuICAgICAgICBwYWNrYWJsZUZpZWxkcyA9IHBhY2thYmxlRmllbGRzIHx8IFtdO1xuICAgICAgICB0aGlzLnBhY2tTdHJ1Y3RIZWFkZXIocGFja2FibGVGaWVsZHMubGVuZ3RoLCBzaWduYXR1cmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhY2thYmxlRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWNrYWJsZUZpZWxkc1tpXSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYWNrZXIucHJvdG90eXBlLnBhY2tJbnRlZ2VyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIGhpZ2ggPSB4LmhpZ2g7XG4gICAgICAgIHZhciBsb3cgPSB4LmxvdztcbiAgICAgICAgaWYgKHguZ3JlYXRlclRoYW5PckVxdWFsKC0weDEwKSAmJiB4Lmxlc3NUaGFuKDB4ODApKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZUludDgobG93KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LmdyZWF0ZXJUaGFuT3JFcXVhbCgtMHg4MCkgJiYgeC5sZXNzVGhhbigtMHgxMCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoSU5UXzgpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVJbnQ4KGxvdyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeC5ncmVhdGVyVGhhbk9yRXF1YWwoLTB4ODAwMCkgJiYgeC5sZXNzVGhhbigweDgwMDApKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KElOVF8xNik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZUludDE2KGxvdyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeC5ncmVhdGVyVGhhbk9yRXF1YWwoLTB4ODAwMDAwMDApICYmIHgubGVzc1RoYW4oMHg4MDAwMDAwMCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoSU5UXzMyKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlSW50MzIobG93KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoSU5UXzY0KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlSW50MzIoaGlnaCk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZUludDMyKGxvdyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja0Zsb2F0ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChGTE9BVF82NCk7XG4gICAgICAgIHRoaXMuX2NoLndyaXRlRmxvYXQ2NCh4KTtcbiAgICB9O1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja1N0cmluZyA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBieXRlcyA9IGNoYW5uZWxfMS51dGY4LmVuY29kZSh4KTtcbiAgICAgICAgdmFyIHNpemUgPSBieXRlcy5sZW5ndGg7XG4gICAgICAgIGlmIChzaXplIDwgMHgxMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChUSU5ZX1NUUklORyB8IHNpemUpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVCeXRlcyhieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFNUUklOR184KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZUJ5dGVzKGJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChTVFJJTkdfMTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoc2l6ZSAvIDI1NikgPj4gMCk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVCeXRlcyhieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFNUUklOR18zMik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDE2Nzc3MjE2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDY1NTM2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDI1NikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlQnl0ZXMoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdVVEYtOCBzdHJpbmdzIG9mIHNpemUgJyArIHNpemUgKyAnIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja0xpc3RIZWFkZXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICBpZiAoc2l6ZSA8IDB4MTApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoVElOWV9MSVNUIHwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KExJU1RfOCk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KExJU1RfMTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoKHNpemUgLyAyNTYpID4+IDApICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSAlIDI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KExJU1RfMzIpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoKHNpemUgLyAxNjc3NzIxNikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoKHNpemUgLyA2NTUzNikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoKHNpemUgLyAyNTYpID4+IDApICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSAlIDI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0xpc3RzIG9mIHNpemUgJyArIHNpemUgKyAnIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja0J5dGVzID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIGlmICh0aGlzLl9ieXRlQXJyYXlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhY2tCeXRlc0hlYWRlcihhcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlSW50OChhcnJheVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0J5dGUgYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBkYXRhYmFzZSB0aGlzIGRyaXZlciBpcyBjb25uZWN0ZWQgdG8nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5wYWNrQnl0ZXNIZWFkZXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICBpZiAoc2l6ZSA8IDB4MTAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KEJZVEVTXzgpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChCWVRFU18xNik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDI1NikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoQllURVNfMzIpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoKHNpemUgLyAxNjc3NzIxNikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoKHNpemUgLyA2NTUzNikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OCgoKHNpemUgLyAyNTYpID4+IDApICUgMjU2KTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSAlIDI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ0J5dGUgYXJyYXlzIG9mIHNpemUgJyArIHNpemUgKyAnIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhY2tlci5wcm90b3R5cGUucGFja01hcEhlYWRlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplIDwgMHgxMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChUSU5ZX01BUCB8IHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChNQVBfOCk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KE1BUF8xNik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KChzaXplIC8gMjU2KSA+PiAwKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSAlIDI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2l6ZSA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KE1BUF8zMik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDE2Nzc3MjE2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDY1NTM2KSA+PiAwKSAlIDI1Nik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KCgoc2l6ZSAvIDI1NikgPj4gMCkgJSAyNTYpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaXplICUgMjU2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnTWFwcyBvZiBzaXplICcgKyBzaXplICsgJyBhcmUgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQYWNrZXIucHJvdG90eXBlLnBhY2tTdHJ1Y3RIZWFkZXIgPSBmdW5jdGlvbiAoc2l6ZSwgc2lnbmF0dXJlKSB7XG4gICAgICAgIGlmIChzaXplIDwgMHgxMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChUSU5ZX1NUUlVDVCB8IHNpemUpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMCkge1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChTVFJVQ1RfOCk7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KHNpemUpO1xuICAgICAgICAgICAgdGhpcy5fY2gud3JpdGVVSW50OChzaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KFNUUlVDVF8xNik7XG4gICAgICAgICAgICB0aGlzLl9jaC53cml0ZVVJbnQ4KChzaXplIC8gMjU2KSA+PiAwKTtcbiAgICAgICAgICAgIHRoaXMuX2NoLndyaXRlVUludDgoc2l6ZSAlIDI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoJ1N0cnVjdHVyZXMgb2Ygc2l6ZSAnICsgc2l6ZSArICcgYXJlIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5kaXNhYmxlQnl0ZUFycmF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnl0ZUFycmF5c1N1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgUGFja2VyLnByb3RvdHlwZS5fbm9uUGFja2FibGVWYWx1ZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikobWVzc2FnZSwgUFJPVE9DT0xfRVJST1IpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFBhY2tlcjtcbn0oKSk7XG5leHBvcnRzLlBhY2tlciA9IFBhY2tlcjtcbi8qKlxuICogQ2xhc3MgdG8gdW5wYWNrXG4gKiBAYWNjZXNzIHByaXZhdGVcbiAqL1xudmFyIFVucGFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgaWYgdGhpcyB1bnBhY2tlciBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEpTIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1c2VCaWdJbnQgaWYgdGhpcyB1bnBhY2tlciBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gQmlnaW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gVW5wYWNrZXIoZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCkge1xuICAgICAgICBpZiAoZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPT09IHZvaWQgMCkgeyBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh1c2VCaWdJbnQgPT09IHZvaWQgMCkgeyB1c2VCaWdJbnQgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9kaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IGRpc2FibGVMb3NzbGVzc0ludGVnZXJzO1xuICAgICAgICB0aGlzLl91c2VCaWdJbnQgPSB1c2VCaWdJbnQ7XG4gICAgfVxuICAgIFVucGFja2VyLnByb3RvdHlwZS51bnBhY2sgPSBmdW5jdGlvbiAoYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKSB7XG4gICAgICAgIGlmIChoeWRyYXRlU3RydWN0dXJlID09PSB2b2lkIDApIHsgaHlkcmF0ZVN0cnVjdHVyZSA9IGxhbmdfMS5mdW5jdGlvbmFsLmlkZW50aXR5OyB9XG4gICAgICAgIHZhciBtYXJrZXIgPSBidWZmZXIucmVhZFVJbnQ4KCk7XG4gICAgICAgIHZhciBtYXJrZXJIaWdoID0gbWFya2VyICYgMHhmMDtcbiAgICAgICAgdmFyIG1hcmtlckxvdyA9IG1hcmtlciAmIDB4MGY7XG4gICAgICAgIGlmIChtYXJrZXIgPT09IE5VTEwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib29sZWFuID0gdGhpcy5fdW5wYWNrQm9vbGVhbihtYXJrZXIpO1xuICAgICAgICBpZiAoYm9vbGVhbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG51bWJlck9ySW50ZWdlciA9IHRoaXMuX3VucGFja051bWJlck9ySW50ZWdlcihtYXJrZXIsIGJ1ZmZlcik7XG4gICAgICAgIGlmIChudW1iZXJPckludGVnZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pc0ludCkobnVtYmVyT3JJbnRlZ2VyKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl91c2VCaWdJbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlck9ySW50ZWdlci50b0JpZ0ludCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9kaXNhYmxlTG9zc2xlc3NJbnRlZ2Vycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyT3JJbnRlZ2VyLnRvTnVtYmVyT3JJbmZpbml0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudW1iZXJPckludGVnZXI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0cmluZyA9IHRoaXMuX3VucGFja1N0cmluZyhtYXJrZXIsIG1hcmtlckhpZ2gsIG1hcmtlckxvdywgYnVmZmVyKTtcbiAgICAgICAgaWYgKHN0cmluZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdCA9IHRoaXMuX3VucGFja0xpc3QobWFya2VyLCBtYXJrZXJIaWdoLCBtYXJrZXJMb3csIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIGlmIChsaXN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnl0ZUFycmF5ID0gdGhpcy5fdW5wYWNrQnl0ZUFycmF5KG1hcmtlciwgYnVmZmVyKTtcbiAgICAgICAgaWYgKGJ5dGVBcnJheSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ5dGVBcnJheTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFwID0gdGhpcy5fdW5wYWNrTWFwKG1hcmtlciwgbWFya2VySGlnaCwgbWFya2VyTG93LCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICBpZiAobWFwICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJ1Y3QgPSB0aGlzLl91bnBhY2tTdHJ1Y3QobWFya2VyLCBtYXJrZXJIaWdoLCBtYXJrZXJMb3csIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIGlmIChzdHJ1Y3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdVbmtub3duIHBhY2tlZCB2YWx1ZSB3aXRoIG1hcmtlciAnICsgbWFya2VyLnRvU3RyaW5nKDE2KSk7XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUudW5wYWNrSW50ZWdlciA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgdmFyIG1hcmtlciA9IGJ1ZmZlci5yZWFkVUludDgoKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3VucGFja0ludGVnZXIobWFya2VyLCBidWZmZXIpO1xuICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKSgnVW5hYmxlIHRvIHVucGFjayBpbnRlZ2VyIHZhbHVlIHdpdGggbWFya2VyICcgKyBtYXJrZXIudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tCb29sZWFuID0gZnVuY3Rpb24gKG1hcmtlcikge1xuICAgICAgICBpZiAobWFya2VyID09PSBUUlVFKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IEZBTFNFKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tOdW1iZXJPckludGVnZXIgPSBmdW5jdGlvbiAobWFya2VyLCBidWZmZXIpIHtcbiAgICAgICAgaWYgKG1hcmtlciA9PT0gRkxPQVRfNjQpIHtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIucmVhZEZsb2F0NjQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tJbnRlZ2VyKG1hcmtlciwgYnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tJbnRlZ2VyID0gZnVuY3Rpb24gKG1hcmtlciwgYnVmZmVyKSB7XG4gICAgICAgIGlmIChtYXJrZXIgPj0gMCAmJiBtYXJrZXIgPCAxMjgpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKG1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID49IDI0MCAmJiBtYXJrZXIgPCAyNTYpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKG1hcmtlciAtIDI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBJTlRfOCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkoYnVmZmVyLnJlYWRJbnQ4KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gSU5UXzE2KSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KShidWZmZXIucmVhZEludDE2KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gSU5UXzMyKSB7XG4gICAgICAgICAgICB2YXIgYiA9IGJ1ZmZlci5yZWFkSW50MzIoKTtcbiAgICAgICAgICAgIHJldHVybiAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gSU5UXzY0KSB7XG4gICAgICAgICAgICB2YXIgaGlnaCA9IGJ1ZmZlci5yZWFkSW50MzIoKTtcbiAgICAgICAgICAgIHZhciBsb3cgPSBidWZmZXIucmVhZEludDMyKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG5lbzRqX2RyaXZlcl9jb3JlXzEuSW50ZWdlcihsb3csIGhpZ2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVucGFja2VyLnByb3RvdHlwZS5fdW5wYWNrU3RyaW5nID0gZnVuY3Rpb24gKG1hcmtlciwgbWFya2VySGlnaCwgbWFya2VyTG93LCBidWZmZXIpIHtcbiAgICAgICAgaWYgKG1hcmtlckhpZ2ggPT09IFRJTllfU1RSSU5HKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbm5lbF8xLnV0ZjguZGVjb2RlKGJ1ZmZlciwgbWFya2VyTG93KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IFNUUklOR184KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbm5lbF8xLnV0ZjguZGVjb2RlKGJ1ZmZlciwgYnVmZmVyLnJlYWRVSW50OCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IFNUUklOR18xNikge1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWxfMS51dGY4LmRlY29kZShidWZmZXIsIGJ1ZmZlci5yZWFkVUludDE2KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gU1RSSU5HXzMyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbm5lbF8xLnV0ZjguZGVjb2RlKGJ1ZmZlciwgYnVmZmVyLnJlYWRVSW50MzIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tMaXN0ID0gZnVuY3Rpb24gKG1hcmtlciwgbWFya2VySGlnaCwgbWFya2VyTG93LCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpIHtcbiAgICAgICAgaWYgKG1hcmtlckhpZ2ggPT09IFRJTllfTElTVCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja0xpc3RXaXRoU2l6ZShtYXJrZXJMb3csIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBMSVNUXzgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tMaXN0V2l0aFNpemUoYnVmZmVyLnJlYWRVSW50OCgpLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gTElTVF8xNikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja0xpc3RXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQxNigpLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gTElTVF8zMikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja0xpc3RXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQzMigpLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVucGFja2VyLnByb3RvdHlwZS5fdW5wYWNrTGlzdFdpdGhTaXplID0gZnVuY3Rpb24gKHNpemUsIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHZhbHVlLnB1c2godGhpcy51bnBhY2soYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tCeXRlQXJyYXkgPSBmdW5jdGlvbiAobWFya2VyLCBidWZmZXIpIHtcbiAgICAgICAgaWYgKG1hcmtlciA9PT0gQllURVNfOCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja0J5dGVBcnJheVdpdGhTaXplKGJ1ZmZlci5yZWFkVUludDgoKSwgYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IEJZVEVTXzE2KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrQnl0ZUFycmF5V2l0aFNpemUoYnVmZmVyLnJlYWRVSW50MTYoKSwgYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IEJZVEVTXzMyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrQnl0ZUFycmF5V2l0aFNpemUoYnVmZmVyLnJlYWRVSW50MzIoKSwgYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja0J5dGVBcnJheVdpdGhTaXplID0gZnVuY3Rpb24gKHNpemUsIGJ1ZmZlcikge1xuICAgICAgICB2YXIgdmFsdWUgPSBuZXcgSW50OEFycmF5KHNpemUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgdmFsdWVbaV0gPSBidWZmZXIucmVhZEludDgoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBVbnBhY2tlci5wcm90b3R5cGUuX3VucGFja01hcCA9IGZ1bmN0aW9uIChtYXJrZXIsIG1hcmtlckhpZ2gsIG1hcmtlckxvdywgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKSB7XG4gICAgICAgIGlmIChtYXJrZXJIaWdoID09PSBUSU5ZX01BUCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja01hcFdpdGhTaXplKG1hcmtlckxvdywgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IE1BUF84KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrTWFwV2l0aFNpemUoYnVmZmVyLnJlYWRVSW50OCgpLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gTUFQXzE2KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrTWFwV2l0aFNpemUoYnVmZmVyLnJlYWRVSW50MTYoKSwgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXJrZXIgPT09IE1BUF8zMikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VucGFja01hcFdpdGhTaXplKGJ1ZmZlci5yZWFkVUludDMyKCksIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5wYWNrZXIucHJvdG90eXBlLl91bnBhY2tNYXBXaXRoU2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gdGhpcy51bnBhY2soYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKTtcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSB0aGlzLnVucGFjayhidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIFVucGFja2VyLnByb3RvdHlwZS5fdW5wYWNrU3RydWN0ID0gZnVuY3Rpb24gKG1hcmtlciwgbWFya2VySGlnaCwgbWFya2VyTG93LCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpIHtcbiAgICAgICAgaWYgKG1hcmtlckhpZ2ggPT09IFRJTllfU1RSVUNUKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5wYWNrU3RydWN0V2l0aFNpemUobWFya2VyTG93LCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hcmtlciA9PT0gU1RSVUNUXzgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tTdHJ1Y3RXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQ4KCksIGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWFya2VyID09PSBTVFJVQ1RfMTYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnBhY2tTdHJ1Y3RXaXRoU2l6ZShidWZmZXIucmVhZFVJbnQxNigpLCBidWZmZXIsIGh5ZHJhdGVTdHJ1Y3R1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVucGFja2VyLnByb3RvdHlwZS5fdW5wYWNrU3RydWN0V2l0aFNpemUgPSBmdW5jdGlvbiAoc3RydWN0U2l6ZSwgYnVmZmVyLCBoeWRyYXRlU3RydWN0dXJlKSB7XG4gICAgICAgIHZhciBzaWduYXR1cmUgPSBidWZmZXIucmVhZFVJbnQ4KCk7XG4gICAgICAgIHZhciBzdHJ1Y3R1cmUgPSBuZXcgc3RydWN0dXJlXzEuU3RydWN0dXJlKHNpZ25hdHVyZSwgW10pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cnVjdFNpemU7IGkrKykge1xuICAgICAgICAgICAgc3RydWN0dXJlLmZpZWxkcy5wdXNoKHRoaXMudW5wYWNrKGJ1ZmZlciwgaHlkcmF0ZVN0cnVjdHVyZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoeWRyYXRlU3RydWN0dXJlKHN0cnVjdHVyZSk7XG4gICAgfTtcbiAgICByZXR1cm4gVW5wYWNrZXI7XG59KCkpO1xuZXhwb3J0cy5VbnBhY2tlciA9IFVucGFja2VyO1xuZnVuY3Rpb24gaXNJdGVyYWJsZShvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIG9ialtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Unpacker = exports.Packer = void 0;\nvar v1 = __importStar(__webpack_require__(/*! ./packstream-v1 */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js\"));\nvar Packer = /** @class */ (function (_super) {\n    __extends(Packer, _super);\n    function Packer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Packer.prototype.disableByteArrays = function () {\n        throw new Error('Bolt V2 should always support byte arrays');\n    };\n    return Packer;\n}(v1.Packer));\nexports.Packer = Packer;\nvar Unpacker = /** @class */ (function (_super) {\n    __extends(Unpacker, _super);\n    /**\n     * @constructor\n     * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n     * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n     */\n    function Unpacker(disableLosslessIntegers, useBigInt) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (useBigInt === void 0) { useBigInt = false; }\n        return _super.call(this, disableLosslessIntegers, useBigInt) || this;\n    }\n    return Unpacker;\n}(v1.Unpacker));\nexports.Unpacker = Unpacker;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9wYWNrc3RyZWFtLXYyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLGNBQWM7QUFDakMsc0JBQXNCLG1CQUFPLENBQUMsMEdBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9wYWNrc3RyZWFtL3BhY2tzdHJlYW0tdjIuanM/MjUyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlVucGFja2VyID0gZXhwb3J0cy5QYWNrZXIgPSB2b2lkIDA7XG52YXIgdjEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vcGFja3N0cmVhbS12MVwiKSk7XG52YXIgUGFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQYWNrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGFja2VyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFBhY2tlci5wcm90b3R5cGUuZGlzYWJsZUJ5dGVBcnJheXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQm9sdCBWMiBzaG91bGQgYWx3YXlzIHN1cHBvcnQgYnl0ZSBhcnJheXMnKTtcbiAgICB9O1xuICAgIHJldHVybiBQYWNrZXI7XG59KHYxLlBhY2tlcikpO1xuZXhwb3J0cy5QYWNrZXIgPSBQYWNrZXI7XG52YXIgVW5wYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVucGFja2VyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgaWYgdGhpcyB1bnBhY2tlciBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gbmF0aXZlIEpTIG51bWJlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1c2VCaWdJbnQgaWYgdGhpcyB1bnBhY2tlciBzaG91bGQgY29udmVydCBhbGwgcmVjZWl2ZWQgaW50ZWdlcnMgdG8gQmlnaW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gVW5wYWNrZXIoZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCkge1xuICAgICAgICBpZiAoZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMgPT09IHZvaWQgMCkgeyBkaXNhYmxlTG9zc2xlc3NJbnRlZ2VycyA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh1c2VCaWdJbnQgPT09IHZvaWQgMCkgeyB1c2VCaWdJbnQgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgZGlzYWJsZUxvc3NsZXNzSW50ZWdlcnMsIHVzZUJpZ0ludCkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFVucGFja2VyO1xufSh2MS5VbnBhY2tlcikpO1xuZXhwb3J0cy5VbnBhY2tlciA9IFVucGFja2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifyStructSize = exports.Structure = void 0;\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\n/**\n * A Structure have a signature and fields.\n */\nvar Structure = /** @class */ (function () {\n    /**\n     * Create new instance\n     */\n    function Structure(signature, fields) {\n        this.signature = signature;\n        this.fields = fields;\n    }\n    Object.defineProperty(Structure.prototype, \"size\", {\n        get: function () {\n            return this.fields.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Structure.prototype.toString = function () {\n        var fieldStr = '';\n        for (var i = 0; i < this.fields.length; i++) {\n            if (i > 0) {\n                fieldStr += ', ';\n            }\n            fieldStr += this.fields[i];\n        }\n        return 'Structure(' + this.signature + ', [' + fieldStr + '])';\n    };\n    return Structure;\n}());\nexports.Structure = Structure;\nfunction verifyStructSize(structName, expectedSize, actualSize) {\n    if (expectedSize !== actualSize) {\n        throw (0, neo4j_driver_core_1.newError)(\"Wrong struct size for \".concat(structName, \", expected \").concat(expectedSize, \" but was \").concat(actualSize), PROTOCOL_ERROR);\n    }\n}\nexports.verifyStructSize = verifyStructSize;\nexports[\"default\"] = Structure;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcGFja3N0cmVhbS9zdHJ1Y3R1cmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0IsR0FBRyxpQkFBaUI7QUFDNUMsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9wYWNrc3RyZWFtL3N0cnVjdHVyZS5qcz9iNTg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmVyaWZ5U3RydWN0U2l6ZSA9IGV4cG9ydHMuU3RydWN0dXJlID0gdm9pZCAwO1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgUFJPVE9DT0xfRVJST1IgPSBuZW80al9kcml2ZXJfY29yZV8xLmVycm9yLlBST1RPQ09MX0VSUk9SO1xuLyoqXG4gKiBBIFN0cnVjdHVyZSBoYXZlIGEgc2lnbmF0dXJlIGFuZCBmaWVsZHMuXG4gKi9cbnZhciBTdHJ1Y3R1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG5ldyBpbnN0YW5jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0cnVjdHVyZShzaWduYXR1cmUsIGZpZWxkcykge1xuICAgICAgICB0aGlzLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJ1Y3R1cmUucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpZWxkcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdHJ1Y3R1cmUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmllbGRTdHIgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZmllbGRTdHIgKz0gJywgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpZWxkU3RyICs9IHRoaXMuZmllbGRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnU3RydWN0dXJlKCcgKyB0aGlzLnNpZ25hdHVyZSArICcsIFsnICsgZmllbGRTdHIgKyAnXSknO1xuICAgIH07XG4gICAgcmV0dXJuIFN0cnVjdHVyZTtcbn0oKSk7XG5leHBvcnRzLlN0cnVjdHVyZSA9IFN0cnVjdHVyZTtcbmZ1bmN0aW9uIHZlcmlmeVN0cnVjdFNpemUoc3RydWN0TmFtZSwgZXhwZWN0ZWRTaXplLCBhY3R1YWxTaXplKSB7XG4gICAgaWYgKGV4cGVjdGVkU2l6ZSAhPT0gYWN0dWFsU2l6ZSkge1xuICAgICAgICB0aHJvdyAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJXcm9uZyBzdHJ1Y3Qgc2l6ZSBmb3IgXCIuY29uY2F0KHN0cnVjdE5hbWUsIFwiLCBleHBlY3RlZCBcIikuY29uY2F0KGV4cGVjdGVkU2l6ZSwgXCIgYnV0IHdhcyBcIikuY29uY2F0KGFjdHVhbFNpemUpLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgfVxufVxuZXhwb3J0cy52ZXJpZnlTdHJ1Y3RTaXplID0gdmVyaWZ5U3RydWN0U2l6ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN0cnVjdHVyZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/pool/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DEFAULT_MAX_SIZE = exports.DEFAULT_ACQUISITION_TIMEOUT = exports.PoolConfig = exports.Pool = void 0;\nvar pool_config_1 = __importStar(__webpack_require__(/*! ./pool-config */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool-config.js\"));\nexports.PoolConfig = pool_config_1.default;\nObject.defineProperty(exports, \"DEFAULT_ACQUISITION_TIMEOUT\", ({ enumerable: true, get: function () { return pool_config_1.DEFAULT_ACQUISITION_TIMEOUT; } }));\nObject.defineProperty(exports, \"DEFAULT_MAX_SIZE\", ({ enumerable: true, get: function () { return pool_config_1.DEFAULT_MAX_SIZE; } }));\nvar pool_1 = __importDefault(__webpack_require__(/*! ./pool */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool.js\"));\nexports.Pool = pool_1.default;\nexports[\"default\"] = pool_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcG9vbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QixHQUFHLG1DQUFtQyxHQUFHLGtCQUFrQixHQUFHLFlBQVk7QUFDbEcsaUNBQWlDLG1CQUFPLENBQUMsZ0dBQWU7QUFDeEQsa0JBQWtCO0FBQ2xCLCtEQUE4RCxFQUFFLHFDQUFxQyxxREFBcUQsRUFBQztBQUMzSixvREFBbUQsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDckksNkJBQTZCLG1CQUFPLENBQUMsa0ZBQVE7QUFDN0MsWUFBWTtBQUNaLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcG9vbC9pbmRleC5qcz9iZGM0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ERUZBVUxUX01BWF9TSVpFID0gZXhwb3J0cy5ERUZBVUxUX0FDUVVJU0lUSU9OX1RJTUVPVVQgPSBleHBvcnRzLlBvb2xDb25maWcgPSBleHBvcnRzLlBvb2wgPSB2b2lkIDA7XG52YXIgcG9vbF9jb25maWdfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9wb29sLWNvbmZpZ1wiKSk7XG5leHBvcnRzLlBvb2xDb25maWcgPSBwb29sX2NvbmZpZ18xLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJERUZBVUxUX0FDUVVJU0lUSU9OX1RJTUVPVVRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBvb2xfY29uZmlnXzEuREVGQVVMVF9BQ1FVSVNJVElPTl9USU1FT1VUOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiREVGQVVMVF9NQVhfU0laRVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcG9vbF9jb25maWdfMS5ERUZBVUxUX01BWF9TSVpFOyB9IH0pO1xudmFyIHBvb2xfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wb29sXCIpKTtcbmV4cG9ydHMuUG9vbCA9IHBvb2xfMS5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0gcG9vbF8xLmRlZmF1bHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool-config.js":
/*!***************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/pool/pool-config.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DEFAULT_ACQUISITION_TIMEOUT = exports.DEFAULT_MAX_SIZE = void 0;\nvar DEFAULT_MAX_SIZE = 100;\nexports.DEFAULT_MAX_SIZE = DEFAULT_MAX_SIZE;\nvar DEFAULT_ACQUISITION_TIMEOUT = 60 * 1000; // 60 seconds\nexports.DEFAULT_ACQUISITION_TIMEOUT = DEFAULT_ACQUISITION_TIMEOUT;\nvar PoolConfig = /** @class */ (function () {\n    function PoolConfig(maxSize, acquisitionTimeout) {\n        this.maxSize = valueOrDefault(maxSize, DEFAULT_MAX_SIZE);\n        this.acquisitionTimeout = valueOrDefault(acquisitionTimeout, DEFAULT_ACQUISITION_TIMEOUT);\n    }\n    PoolConfig.defaultConfig = function () {\n        return new PoolConfig(DEFAULT_MAX_SIZE, DEFAULT_ACQUISITION_TIMEOUT);\n    };\n    PoolConfig.fromDriverConfig = function (config) {\n        var maxSizeConfigured = isConfigured(config.maxConnectionPoolSize);\n        var maxSize = maxSizeConfigured\n            ? config.maxConnectionPoolSize\n            : DEFAULT_MAX_SIZE;\n        var acquisitionTimeoutConfigured = isConfigured(config.connectionAcquisitionTimeout);\n        var acquisitionTimeout = acquisitionTimeoutConfigured\n            ? config.connectionAcquisitionTimeout\n            : DEFAULT_ACQUISITION_TIMEOUT;\n        return new PoolConfig(maxSize, acquisitionTimeout);\n    };\n    return PoolConfig;\n}());\nexports[\"default\"] = PoolConfig;\nfunction valueOrDefault(value, defaultValue) {\n    return value === 0 || value ? value : defaultValue;\n}\nfunction isConfigured(value) {\n    return value === 0 || value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcG9vbC9wb29sLWNvbmZpZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1DQUFtQyxHQUFHLHdCQUF3QjtBQUM5RDtBQUNBLHdCQUF3QjtBQUN4Qiw2Q0FBNkM7QUFDN0MsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW80ai1uZXh0LWFwcC8uL25vZGVfbW9kdWxlcy9uZW80ai1kcml2ZXItYm9sdC1jb25uZWN0aW9uL2xpYi9wb29sL3Bvb2wtY29uZmlnLmpzP2VhMTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ERUZBVUxUX0FDUVVJU0lUSU9OX1RJTUVPVVQgPSBleHBvcnRzLkRFRkFVTFRfTUFYX1NJWkUgPSB2b2lkIDA7XG52YXIgREVGQVVMVF9NQVhfU0laRSA9IDEwMDtcbmV4cG9ydHMuREVGQVVMVF9NQVhfU0laRSA9IERFRkFVTFRfTUFYX1NJWkU7XG52YXIgREVGQVVMVF9BQ1FVSVNJVElPTl9USU1FT1VUID0gNjAgKiAxMDAwOyAvLyA2MCBzZWNvbmRzXG5leHBvcnRzLkRFRkFVTFRfQUNRVUlTSVRJT05fVElNRU9VVCA9IERFRkFVTFRfQUNRVUlTSVRJT05fVElNRU9VVDtcbnZhciBQb29sQ29uZmlnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBvb2xDb25maWcobWF4U2l6ZSwgYWNxdWlzaXRpb25UaW1lb3V0KSB7XG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IHZhbHVlT3JEZWZhdWx0KG1heFNpemUsIERFRkFVTFRfTUFYX1NJWkUpO1xuICAgICAgICB0aGlzLmFjcXVpc2l0aW9uVGltZW91dCA9IHZhbHVlT3JEZWZhdWx0KGFjcXVpc2l0aW9uVGltZW91dCwgREVGQVVMVF9BQ1FVSVNJVElPTl9USU1FT1VUKTtcbiAgICB9XG4gICAgUG9vbENvbmZpZy5kZWZhdWx0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvb2xDb25maWcoREVGQVVMVF9NQVhfU0laRSwgREVGQVVMVF9BQ1FVSVNJVElPTl9USU1FT1VUKTtcbiAgICB9O1xuICAgIFBvb2xDb25maWcuZnJvbURyaXZlckNvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdmFyIG1heFNpemVDb25maWd1cmVkID0gaXNDb25maWd1cmVkKGNvbmZpZy5tYXhDb25uZWN0aW9uUG9vbFNpemUpO1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IG1heFNpemVDb25maWd1cmVkXG4gICAgICAgICAgICA/IGNvbmZpZy5tYXhDb25uZWN0aW9uUG9vbFNpemVcbiAgICAgICAgICAgIDogREVGQVVMVF9NQVhfU0laRTtcbiAgICAgICAgdmFyIGFjcXVpc2l0aW9uVGltZW91dENvbmZpZ3VyZWQgPSBpc0NvbmZpZ3VyZWQoY29uZmlnLmNvbm5lY3Rpb25BY3F1aXNpdGlvblRpbWVvdXQpO1xuICAgICAgICB2YXIgYWNxdWlzaXRpb25UaW1lb3V0ID0gYWNxdWlzaXRpb25UaW1lb3V0Q29uZmlndXJlZFxuICAgICAgICAgICAgPyBjb25maWcuY29ubmVjdGlvbkFjcXVpc2l0aW9uVGltZW91dFxuICAgICAgICAgICAgOiBERUZBVUxUX0FDUVVJU0lUSU9OX1RJTUVPVVQ7XG4gICAgICAgIHJldHVybiBuZXcgUG9vbENvbmZpZyhtYXhTaXplLCBhY3F1aXNpdGlvblRpbWVvdXQpO1xuICAgIH07XG4gICAgcmV0dXJuIFBvb2xDb25maWc7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUG9vbENvbmZpZztcbmZ1bmN0aW9uIHZhbHVlT3JEZWZhdWx0KHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgfHwgdmFsdWUgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cbmZ1bmN0aW9uIGlzQ29uZmlndXJlZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCB8fCB2YWx1ZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool-config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool.js":
/*!********************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/pool/pool.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar pool_config_1 = __importDefault(__webpack_require__(/*! ./pool-config */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool-config.js\"));\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Logger = neo4j_driver_core_1.internal.logger.Logger;\nvar Pool = /** @class */ (function () {\n    /**\n     * @param {function(acquisitionContext: object, address: ServerAddress, function(address: ServerAddress, resource: object): Promise<object>): Promise<object>} create\n     *                an allocation function that creates a promise with a new resource. It's given an address for which to\n     *                allocate the connection and a function that will return the resource to the pool if invoked, which is\n     *                meant to be called on .dispose or .close or whatever mechanism the resource uses to finalize.\n     * @param {function(acquisitionContext: object, resource: object): boolean} validateOnAcquire\n     *                called at various times when an instance is acquired\n     *                If this returns false, the resource will be evicted\n     * @param {function(resource: object): boolean} validateOnRelease\n     *                called at various times when an instance is released\n     *                If this returns false, the resource will be evicted\n     * @param {function(resource: object): Promise<void>} destroy\n     *                called with the resource when it is evicted from this pool\n     * @param {function(resource: object, observer: { onError }): void} installIdleObserver\n     *                called when the resource is released back to pool\n     * @param {function(resource: object): void} removeIdleObserver\n     *                called when the resource is acquired from the pool\n     * @param {PoolConfig} config configuration for the new driver.\n     * @param {Logger} log the driver logger.\n     */\n    function Pool(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.create, create = _c === void 0 ? function (acquisitionContext, address, release) { return Promise.resolve(); } : _c, _d = _b.destroy, destroy = _d === void 0 ? function (conn) { return Promise.resolve(); } : _d, _e = _b.validateOnAcquire, validateOnAcquire = _e === void 0 ? function (acquisitionContext, conn) { return true; } : _e, _f = _b.validateOnRelease, validateOnRelease = _f === void 0 ? function (conn) { return true; } : _f, _g = _b.installIdleObserver, installIdleObserver = _g === void 0 ? function (conn, observer) { } : _g, _h = _b.removeIdleObserver, removeIdleObserver = _h === void 0 ? function (conn) { } : _h, _j = _b.config, config = _j === void 0 ? pool_config_1.default.defaultConfig() : _j, _k = _b.log, log = _k === void 0 ? Logger.noOp() : _k;\n        this._create = create;\n        this._destroy = destroy;\n        this._validateOnAcquire = validateOnAcquire;\n        this._validateOnRelease = validateOnRelease;\n        this._installIdleObserver = installIdleObserver;\n        this._removeIdleObserver = removeIdleObserver;\n        this._maxSize = config.maxSize;\n        this._acquisitionTimeout = config.acquisitionTimeout;\n        this._pools = {};\n        this._pendingCreates = {};\n        this._acquireRequests = {};\n        this._activeResourceCounts = {};\n        this._release = this._release.bind(this);\n        this._log = log;\n        this._closed = false;\n    }\n    /**\n     * Acquire and idle resource fom the pool or create a new one.\n     * @param {object} acquisitionContext the acquisition context used for create and validateOnAcquire connection\n     * @param {ServerAddress} address the address for which we're acquiring.\n     * @param {object} config the config\n     * @param {boolean} config.requireNew Indicate it requires a new resource\n     * @return {Promise<Object>} resource that is ready to use.\n     */\n    Pool.prototype.acquire = function (acquisitionContext, address, config) {\n        var _this = this;\n        var key = address.asKey();\n        // We're out of resources and will try to acquire later on when an existing resource is released.\n        var allRequests = this._acquireRequests;\n        var requests = allRequests[key];\n        if (!requests) {\n            allRequests[key] = [];\n        }\n        return new Promise(function (resolve, reject) {\n            var request = null;\n            var timeoutId = setTimeout(function () {\n                // acquisition timeout fired\n                // remove request from the queue of pending requests, if it's still there\n                // request might've been taken out by the release operation\n                var pendingRequests = allRequests[key];\n                if (pendingRequests) {\n                    allRequests[key] = pendingRequests.filter(function (item) { return item !== request; });\n                }\n                if (request.isCompleted()) {\n                    // request already resolved/rejected by the release operation; nothing to do\n                }\n                else {\n                    // request is still pending and needs to be failed\n                    var activeCount = _this.activeResourceCount(address);\n                    var idleCount = _this.has(address) ? _this._pools[key].length : 0;\n                    request.reject((0, neo4j_driver_core_1.newError)(\"Connection acquisition timed out in \".concat(_this._acquisitionTimeout, \" ms. Pool status: Active conn count = \").concat(activeCount, \", Idle conn count = \").concat(idleCount, \".\")));\n                }\n            }, _this._acquisitionTimeout);\n            request = new PendingRequest(key, acquisitionContext, config, resolve, reject, timeoutId, _this._log);\n            allRequests[key].push(request);\n            _this._processPendingAcquireRequests(address);\n        });\n    };\n    /**\n     * Destroy all idle resources for the given address.\n     * @param {ServerAddress} address the address of the server to purge its pool.\n     * @returns {Promise<void>} A promise that is resolved when the resources are purged\n     */\n    Pool.prototype.purge = function (address) {\n        return this._purgeKey(address.asKey());\n    };\n    Pool.prototype.apply = function (address, resourceConsumer) {\n        var key = address.asKey();\n        if (key in this._pools) {\n            this._pools[key].apply(resourceConsumer);\n        }\n    };\n    /**\n     * Destroy all idle resources in this pool.\n     * @returns {Promise<void>} A promise that is resolved when the resources are purged\n     */\n    Pool.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this._closed = true;\n                        return [4 /*yield*/, Promise.all(Object.keys(this._pools).map(function (key) { return _this._purgeKey(key); }))];\n                    case 1: \n                    /**\n                     * The lack of Promise consuming was making the driver do not close properly in the scenario\n                     * captured at result.test.js:it('should handle missing onCompleted'). The test was timing out\n                     * because while wainting for the driver close.\n                     *\n                     * Consuming the Promise.all or by calling then or by awaiting in the result inside this method solved\n                     * the issue somehow.\n                     *\n                     * PS: the return of this method was already awaited at PooledConnectionProvider.close, but the await bellow\n                     * seems to be need also.\n                     */\n                    return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Keep the idle resources for the provided addresses and purge the rest.\n     * @returns {Promise<void>} A promise that is resolved when the other resources are purged\n     */\n    Pool.prototype.keepAll = function (addresses) {\n        var _this = this;\n        var keysToKeep = addresses.map(function (a) { return a.asKey(); });\n        var keysPresent = Object.keys(this._pools);\n        var keysToPurge = keysPresent.filter(function (k) { return keysToKeep.indexOf(k) === -1; });\n        return Promise.all(keysToPurge.map(function (key) { return _this._purgeKey(key); }));\n    };\n    /**\n     * Check if this pool contains resources for the given address.\n     * @param {ServerAddress} address the address of the server to check.\n     * @return {boolean} `true` when pool contains entries for the given key, <code>false</code> otherwise.\n     */\n    Pool.prototype.has = function (address) {\n        return address.asKey() in this._pools;\n    };\n    /**\n     * Get count of active (checked out of the pool) resources for the given key.\n     * @param {ServerAddress} address the address of the server to check.\n     * @return {number} count of resources acquired by clients.\n     */\n    Pool.prototype.activeResourceCount = function (address) {\n        return this._activeResourceCounts[address.asKey()] || 0;\n    };\n    Pool.prototype._getOrInitializePoolFor = function (key) {\n        var pool = this._pools[key];\n        if (!pool) {\n            pool = new SingleAddressPool();\n            this._pools[key] = pool;\n            this._pendingCreates[key] = 0;\n        }\n        return pool;\n    };\n    Pool.prototype._acquire = function (acquisitionContext, address, requireNew) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key, pool, resource_1, numConnections, resource, numConnections, resource_2;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._closed) {\n                            throw (0, neo4j_driver_core_1.newError)('Pool is closed, it is no more able to serve requests.');\n                        }\n                        key = address.asKey();\n                        pool = this._getOrInitializePoolFor(key);\n                        if (!!requireNew) return [3 /*break*/, 6];\n                        _a.label = 1;\n                    case 1:\n                        if (!pool.length) return [3 /*break*/, 6];\n                        resource_1 = pool.pop();\n                        if (this._removeIdleObserver) {\n                            this._removeIdleObserver(resource_1);\n                        }\n                        return [4 /*yield*/, this._validateOnAcquire(acquisitionContext, resource_1)];\n                    case 2:\n                        if (!_a.sent()) return [3 /*break*/, 3];\n                        // idle resource is valid and can be acquired\n                        resourceAcquired(key, this._activeResourceCounts);\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource_1, \" acquired from the pool \").concat(key));\n                        }\n                        return [2 /*return*/, { resource: resource_1, pool: pool }];\n                    case 3:\n                        pool.removeInUse(resource_1);\n                        return [4 /*yield*/, this._destroy(resource_1)];\n                    case 4:\n                        _a.sent();\n                        _a.label = 5;\n                    case 5: return [3 /*break*/, 1];\n                    case 6:\n                        // Ensure requested max pool size\n                        if (this._maxSize > 0) {\n                            numConnections = this.activeResourceCount(address) + this._pendingCreates[key];\n                            if (numConnections >= this._maxSize) {\n                                // Will put this request in queue instead since the pool is full\n                                return [2 /*return*/, { resource: null, pool: pool }];\n                            }\n                        }\n                        // there exist no idle valid resources, create a new one for acquisition\n                        // Keep track of how many pending creates there are to avoid making too many connections.\n                        this._pendingCreates[key] = this._pendingCreates[key] + 1;\n                        _a.label = 7;\n                    case 7:\n                        _a.trys.push([7, , 11, 12]);\n                        numConnections = this.activeResourceCount(address) + pool.length;\n                        if (!(numConnections >= this._maxSize && requireNew)) return [3 /*break*/, 9];\n                        resource_2 = pool.pop();\n                        if (this._removeIdleObserver) {\n                            this._removeIdleObserver(resource_2);\n                        }\n                        pool.removeInUse(resource_2);\n                        return [4 /*yield*/, this._destroy(resource_2)];\n                    case 8:\n                        _a.sent();\n                        _a.label = 9;\n                    case 9: return [4 /*yield*/, this._create(acquisitionContext, address, function (address, resource) { return _this._release(address, resource, pool); })];\n                    case 10:\n                        // Invoke callback that creates actual connection\n                        resource = _a.sent();\n                        pool.pushInUse(resource);\n                        resourceAcquired(key, this._activeResourceCounts);\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" created for the pool \").concat(key));\n                        }\n                        return [3 /*break*/, 12];\n                    case 11:\n                        this._pendingCreates[key] = this._pendingCreates[key] - 1;\n                        return [7 /*endfinally*/];\n                    case 12: return [2 /*return*/, { resource: resource, pool: pool }];\n                }\n            });\n        });\n    };\n    Pool.prototype._release = function (address, resource, pool) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        key = address.asKey();\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, , 9, 10]);\n                        if (!pool.isActive()) return [3 /*break*/, 6];\n                        return [4 /*yield*/, this._validateOnRelease(resource)];\n                    case 2:\n                        if (!!(_a.sent())) return [3 /*break*/, 4];\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" destroyed and can't be released to the pool \").concat(key, \" because it is not functional\"));\n                        }\n                        pool.removeInUse(resource);\n                        return [4 /*yield*/, this._destroy(resource)];\n                    case 3:\n                        _a.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        if (this._installIdleObserver) {\n                            this._installIdleObserver(resource, {\n                                onError: function (error) {\n                                    _this._log.debug(\"Idle connection \".concat(resource, \" destroyed because of error: \").concat(error));\n                                    var pool = _this._pools[key];\n                                    if (pool) {\n                                        _this._pools[key] = pool.filter(function (r) { return r !== resource; });\n                                        pool.removeInUse(resource);\n                                    }\n                                    // let's not care about background clean-ups due to errors but just trigger the destroy\n                                    // process for the resource, we especially catch any errors and ignore them to avoid\n                                    // unhandled promise rejection warnings\n                                    _this._destroy(resource).catch(function () { });\n                                }\n                            });\n                        }\n                        pool.push(resource);\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" released to the pool \").concat(key));\n                        }\n                        _a.label = 5;\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        // key has been purged, don't put it back, just destroy the resource\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" destroyed and can't be released to the pool \").concat(key, \" because pool has been purged\"));\n                        }\n                        pool.removeInUse(resource);\n                        return [4 /*yield*/, this._destroy(resource)];\n                    case 7:\n                        _a.sent();\n                        _a.label = 8;\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        resourceReleased(key, this._activeResourceCounts);\n                        this._processPendingAcquireRequests(address);\n                        return [7 /*endfinally*/];\n                    case 10: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Pool.prototype._purgeKey = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var pool, destructionList, resource;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        pool = this._pools[key];\n                        destructionList = [];\n                        if (!pool) return [3 /*break*/, 2];\n                        while (pool.length) {\n                            resource = pool.pop();\n                            if (this._removeIdleObserver) {\n                                this._removeIdleObserver(resource);\n                            }\n                            destructionList.push(this._destroy(resource));\n                        }\n                        pool.close();\n                        delete this._pools[key];\n                        return [4 /*yield*/, Promise.all(destructionList)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Pool.prototype._processPendingAcquireRequests = function (address) {\n        var _this = this;\n        var key = address.asKey();\n        var requests = this._acquireRequests[key];\n        if (requests) {\n            var pendingRequest_1 = requests.shift(); // pop a pending acquire request\n            if (pendingRequest_1) {\n                this._acquire(pendingRequest_1.context, address, pendingRequest_1.requireNew)\n                    .catch(function (error) {\n                    // failed to acquire/create a new connection to resolve the pending acquire request\n                    // propagate the error by failing the pending request\n                    pendingRequest_1.reject(error);\n                    return { resource: null };\n                })\n                    .then(function (_a) {\n                    var resource = _a.resource, pool = _a.pool;\n                    if (resource) {\n                        // managed to acquire a valid resource from the pool\n                        if (pendingRequest_1.isCompleted()) {\n                            // request has been completed, most likely failed by a timeout\n                            // return the acquired resource back to the pool\n                            _this._release(address, resource, pool);\n                        }\n                        else {\n                            // request is still pending and can be resolved with the newly acquired resource\n                            pendingRequest_1.resolve(resource); // resolve the pending request with the acquired resource\n                        }\n                    }\n                    else {\n                        // failed to acquire a valid resource from the pool\n                        // return the pending request back to the pool\n                        if (!pendingRequest_1.isCompleted()) {\n                            if (!_this._acquireRequests[key]) {\n                                _this._acquireRequests[key] = [];\n                            }\n                            _this._acquireRequests[key].unshift(pendingRequest_1);\n                        }\n                    }\n                });\n            }\n            else {\n                delete this._acquireRequests[key];\n            }\n        }\n    };\n    return Pool;\n}());\n/**\n * Increment active (checked out of the pool) resource counter.\n * @param {string} key the resource group identifier (server address for connections).\n * @param {Object.<string, number>} activeResourceCounts the object holding active counts per key.\n */\nfunction resourceAcquired(key, activeResourceCounts) {\n    var currentCount = activeResourceCounts[key] || 0;\n    activeResourceCounts[key] = currentCount + 1;\n}\n/**\n * Decrement active (checked out of the pool) resource counter.\n * @param {string} key the resource group identifier (server address for connections).\n * @param {Object.<string, number>} activeResourceCounts the object holding active counts per key.\n */\nfunction resourceReleased(key, activeResourceCounts) {\n    var currentCount = activeResourceCounts[key] || 0;\n    var nextCount = currentCount - 1;\n    if (nextCount > 0) {\n        activeResourceCounts[key] = nextCount;\n    }\n    else {\n        delete activeResourceCounts[key];\n    }\n}\nvar PendingRequest = /** @class */ (function () {\n    function PendingRequest(key, context, config, resolve, reject, timeoutId, log) {\n        this._key = key;\n        this._context = context;\n        this._resolve = resolve;\n        this._reject = reject;\n        this._timeoutId = timeoutId;\n        this._log = log;\n        this._completed = false;\n        this._config = config || {};\n    }\n    Object.defineProperty(PendingRequest.prototype, \"context\", {\n        get: function () {\n            return this._context;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PendingRequest.prototype, \"requireNew\", {\n        get: function () {\n            return this._config.requireNew || false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PendingRequest.prototype.isCompleted = function () {\n        return this._completed;\n    };\n    PendingRequest.prototype.resolve = function (resource) {\n        if (this._completed) {\n            return;\n        }\n        this._completed = true;\n        clearTimeout(this._timeoutId);\n        if (this._log.isDebugEnabled()) {\n            this._log.debug(\"\".concat(resource, \" acquired from the pool \").concat(this._key));\n        }\n        this._resolve(resource);\n    };\n    PendingRequest.prototype.reject = function (error) {\n        if (this._completed) {\n            return;\n        }\n        this._completed = true;\n        clearTimeout(this._timeoutId);\n        this._reject(error);\n    };\n    return PendingRequest;\n}());\nvar SingleAddressPool = /** @class */ (function () {\n    function SingleAddressPool() {\n        this._active = true;\n        this._elements = [];\n        this._elementsInUse = new Set();\n    }\n    SingleAddressPool.prototype.isActive = function () {\n        return this._active;\n    };\n    SingleAddressPool.prototype.close = function () {\n        this._active = false;\n        this._elements = [];\n        this._elementsInUse = new Set();\n    };\n    SingleAddressPool.prototype.filter = function (predicate) {\n        this._elements = this._elements.filter(predicate);\n        return this;\n    };\n    SingleAddressPool.prototype.apply = function (resourceConsumer) {\n        this._elements.forEach(resourceConsumer);\n        this._elementsInUse.forEach(resourceConsumer);\n    };\n    Object.defineProperty(SingleAddressPool.prototype, \"length\", {\n        get: function () {\n            return this._elements.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SingleAddressPool.prototype.pop = function () {\n        var element = this._elements.pop();\n        this._elementsInUse.add(element);\n        return element;\n    };\n    SingleAddressPool.prototype.push = function (element) {\n        this._elementsInUse.delete(element);\n        return this._elements.push(element);\n    };\n    SingleAddressPool.prototype.pushInUse = function (element) {\n        this._elementsInUse.add(element);\n    };\n    SingleAddressPool.prototype.removeInUse = function (element) {\n        this._elementsInUse.delete(element);\n    };\n    return SingleAddressPool;\n}());\nexports[\"default\"] = Pool;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcG9vbC9wb29sLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxjQUFjLDZCQUE2QiwwQkFBMEIsY0FBYyxxQkFBcUI7QUFDeEcsaUJBQWlCLG9EQUFvRCxxRUFBcUUsY0FBYztBQUN4Six1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxtQ0FBbUMsU0FBUztBQUM1QyxtQ0FBbUMsV0FBVyxVQUFVO0FBQ3hELDBDQUEwQyxjQUFjO0FBQ3hEO0FBQ0EsOEdBQThHLE9BQU87QUFDckgsaUZBQWlGLGlCQUFpQjtBQUNsRyx5REFBeUQsZ0JBQWdCLFFBQVE7QUFDakYsK0NBQStDLGdCQUFnQixnQkFBZ0I7QUFDL0U7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLFVBQVUsWUFBWSxhQUFhLFNBQVMsVUFBVTtBQUN0RCxvQ0FBb0MsU0FBUztBQUM3QztBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLG1CQUFPLENBQUMsZ0dBQWU7QUFDM0QsMEJBQTBCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0pBQW9KO0FBQ25LO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUVBQWlFO0FBQ2hGO0FBQ0E7QUFDQSxlQUFlLHFDQUFxQztBQUNwRDtBQUNBO0FBQ0EsZUFBZSwyQ0FBMkM7QUFDMUQ7QUFDQSxlQUFlLHVDQUF1QyxTQUFTLFNBQVM7QUFDeEU7QUFDQSxlQUFlLGtDQUFrQztBQUNqRDtBQUNBLGVBQWUsWUFBWTtBQUMzQixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBLG9DQUFvQyxpR0FBaUcsNEJBQTRCLG1FQUFtRSw0QkFBNEIsMkdBQTJHLGVBQWUsdUZBQXVGLGVBQWUsdUdBQXVHLDJGQUEyRjtBQUNscUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsZUFBZTtBQUM5QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLDBCQUEwQjtBQUMxRztBQUNBO0FBQ0EsbUZBQW1GO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1Ryw4QkFBOEI7QUFDckk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELG1CQUFtQjtBQUN6RTtBQUNBLDREQUE0RCxzQ0FBc0M7QUFDbEcsNERBQTRELDhCQUE4QjtBQUMxRjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsa0NBQWtDO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDRCQUE0QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBIQUEwSCxpREFBaUQ7QUFDM0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGdDQUFnQztBQUNyRjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsd0JBQXdCO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Y7QUFDbEY7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL3Bvb2wvcG9vbC5qcz9jOTgyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFwiTmVvNGpcIlxuICogTmVvNGogU3dlZGVuIEFCIFtodHRwczovL25lbzRqLmNvbV1cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBwb29sX2NvbmZpZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3Bvb2wtY29uZmlnXCIpKTtcbnZhciBuZW80al9kcml2ZXJfY29yZV8xID0gcmVxdWlyZShcIm5lbzRqLWRyaXZlci1jb3JlXCIpO1xudmFyIExvZ2dlciA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50ZXJuYWwubG9nZ2VyLkxvZ2dlcjtcbnZhciBQb29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYWNxdWlzaXRpb25Db250ZXh0OiBvYmplY3QsIGFkZHJlc3M6IFNlcnZlckFkZHJlc3MsIGZ1bmN0aW9uKGFkZHJlc3M6IFNlcnZlckFkZHJlc3MsIHJlc291cmNlOiBvYmplY3QpOiBQcm9taXNlPG9iamVjdD4pOiBQcm9taXNlPG9iamVjdD59IGNyZWF0ZVxuICAgICAqICAgICAgICAgICAgICAgIGFuIGFsbG9jYXRpb24gZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgcHJvbWlzZSB3aXRoIGEgbmV3IHJlc291cmNlLiBJdCdzIGdpdmVuIGFuIGFkZHJlc3MgZm9yIHdoaWNoIHRvXG4gICAgICogICAgICAgICAgICAgICAgYWxsb2NhdGUgdGhlIGNvbm5lY3Rpb24gYW5kIGEgZnVuY3Rpb24gdGhhdCB3aWxsIHJldHVybiB0aGUgcmVzb3VyY2UgdG8gdGhlIHBvb2wgaWYgaW52b2tlZCwgd2hpY2ggaXNcbiAgICAgKiAgICAgICAgICAgICAgICBtZWFudCB0byBiZSBjYWxsZWQgb24gLmRpc3Bvc2Ugb3IgLmNsb3NlIG9yIHdoYXRldmVyIG1lY2hhbmlzbSB0aGUgcmVzb3VyY2UgdXNlcyB0byBmaW5hbGl6ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFjcXVpc2l0aW9uQ29udGV4dDogb2JqZWN0LCByZXNvdXJjZTogb2JqZWN0KTogYm9vbGVhbn0gdmFsaWRhdGVPbkFjcXVpcmVcbiAgICAgKiAgICAgICAgICAgICAgICBjYWxsZWQgYXQgdmFyaW91cyB0aW1lcyB3aGVuIGFuIGluc3RhbmNlIGlzIGFjcXVpcmVkXG4gICAgICogICAgICAgICAgICAgICAgSWYgdGhpcyByZXR1cm5zIGZhbHNlLCB0aGUgcmVzb3VyY2Ugd2lsbCBiZSBldmljdGVkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihyZXNvdXJjZTogb2JqZWN0KTogYm9vbGVhbn0gdmFsaWRhdGVPblJlbGVhc2VcbiAgICAgKiAgICAgICAgICAgICAgICBjYWxsZWQgYXQgdmFyaW91cyB0aW1lcyB3aGVuIGFuIGluc3RhbmNlIGlzIHJlbGVhc2VkXG4gICAgICogICAgICAgICAgICAgICAgSWYgdGhpcyByZXR1cm5zIGZhbHNlLCB0aGUgcmVzb3VyY2Ugd2lsbCBiZSBldmljdGVkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihyZXNvdXJjZTogb2JqZWN0KTogUHJvbWlzZTx2b2lkPn0gZGVzdHJveVxuICAgICAqICAgICAgICAgICAgICAgIGNhbGxlZCB3aXRoIHRoZSByZXNvdXJjZSB3aGVuIGl0IGlzIGV2aWN0ZWQgZnJvbSB0aGlzIHBvb2xcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHJlc291cmNlOiBvYmplY3QsIG9ic2VydmVyOiB7IG9uRXJyb3IgfSk6IHZvaWR9IGluc3RhbGxJZGxlT2JzZXJ2ZXJcbiAgICAgKiAgICAgICAgICAgICAgICBjYWxsZWQgd2hlbiB0aGUgcmVzb3VyY2UgaXMgcmVsZWFzZWQgYmFjayB0byBwb29sXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihyZXNvdXJjZTogb2JqZWN0KTogdm9pZH0gcmVtb3ZlSWRsZU9ic2VydmVyXG4gICAgICogICAgICAgICAgICAgICAgY2FsbGVkIHdoZW4gdGhlIHJlc291cmNlIGlzIGFjcXVpcmVkIGZyb20gdGhlIHBvb2xcbiAgICAgKiBAcGFyYW0ge1Bvb2xDb25maWd9IGNvbmZpZyBjb25maWd1cmF0aW9uIGZvciB0aGUgbmV3IGRyaXZlci5cbiAgICAgKiBAcGFyYW0ge0xvZ2dlcn0gbG9nIHRoZSBkcml2ZXIgbG9nZ2VyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvb2woX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9jID0gX2IuY3JlYXRlLCBjcmVhdGUgPSBfYyA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKGFjcXVpc2l0aW9uQ29udGV4dCwgYWRkcmVzcywgcmVsZWFzZSkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7IH0gOiBfYywgX2QgPSBfYi5kZXN0cm95LCBkZXN0cm95ID0gX2QgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChjb25uKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsgfSA6IF9kLCBfZSA9IF9iLnZhbGlkYXRlT25BY3F1aXJlLCB2YWxpZGF0ZU9uQWNxdWlyZSA9IF9lID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoYWNxdWlzaXRpb25Db250ZXh0LCBjb25uKSB7IHJldHVybiB0cnVlOyB9IDogX2UsIF9mID0gX2IudmFsaWRhdGVPblJlbGVhc2UsIHZhbGlkYXRlT25SZWxlYXNlID0gX2YgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChjb25uKSB7IHJldHVybiB0cnVlOyB9IDogX2YsIF9nID0gX2IuaW5zdGFsbElkbGVPYnNlcnZlciwgaW5zdGFsbElkbGVPYnNlcnZlciA9IF9nID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoY29ubiwgb2JzZXJ2ZXIpIHsgfSA6IF9nLCBfaCA9IF9iLnJlbW92ZUlkbGVPYnNlcnZlciwgcmVtb3ZlSWRsZU9ic2VydmVyID0gX2ggPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChjb25uKSB7IH0gOiBfaCwgX2ogPSBfYi5jb25maWcsIGNvbmZpZyA9IF9qID09PSB2b2lkIDAgPyBwb29sX2NvbmZpZ18xLmRlZmF1bHQuZGVmYXVsdENvbmZpZygpIDogX2osIF9rID0gX2IubG9nLCBsb2cgPSBfayA9PT0gdm9pZCAwID8gTG9nZ2VyLm5vT3AoKSA6IF9rO1xuICAgICAgICB0aGlzLl9jcmVhdGUgPSBjcmVhdGU7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3kgPSBkZXN0cm95O1xuICAgICAgICB0aGlzLl92YWxpZGF0ZU9uQWNxdWlyZSA9IHZhbGlkYXRlT25BY3F1aXJlO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZU9uUmVsZWFzZSA9IHZhbGlkYXRlT25SZWxlYXNlO1xuICAgICAgICB0aGlzLl9pbnN0YWxsSWRsZU9ic2VydmVyID0gaW5zdGFsbElkbGVPYnNlcnZlcjtcbiAgICAgICAgdGhpcy5fcmVtb3ZlSWRsZU9ic2VydmVyID0gcmVtb3ZlSWRsZU9ic2VydmVyO1xuICAgICAgICB0aGlzLl9tYXhTaXplID0gY29uZmlnLm1heFNpemU7XG4gICAgICAgIHRoaXMuX2FjcXVpc2l0aW9uVGltZW91dCA9IGNvbmZpZy5hY3F1aXNpdGlvblRpbWVvdXQ7XG4gICAgICAgIHRoaXMuX3Bvb2xzID0ge307XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDcmVhdGVzID0ge307XG4gICAgICAgIHRoaXMuX2FjcXVpcmVSZXF1ZXN0cyA9IHt9O1xuICAgICAgICB0aGlzLl9hY3RpdmVSZXNvdXJjZUNvdW50cyA9IHt9O1xuICAgICAgICB0aGlzLl9yZWxlYXNlID0gdGhpcy5fcmVsZWFzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2cgPSBsb2c7XG4gICAgICAgIHRoaXMuX2Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBY3F1aXJlIGFuZCBpZGxlIHJlc291cmNlIGZvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhY3F1aXNpdGlvbkNvbnRleHQgdGhlIGFjcXVpc2l0aW9uIGNvbnRleHQgdXNlZCBmb3IgY3JlYXRlIGFuZCB2YWxpZGF0ZU9uQWNxdWlyZSBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIHtTZXJ2ZXJBZGRyZXNzfSBhZGRyZXNzIHRoZSBhZGRyZXNzIGZvciB3aGljaCB3ZSdyZSBhY3F1aXJpbmcuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyB0aGUgY29uZmlnXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjb25maWcucmVxdWlyZU5ldyBJbmRpY2F0ZSBpdCByZXF1aXJlcyBhIG5ldyByZXNvdXJjZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gcmVzb3VyY2UgdGhhdCBpcyByZWFkeSB0byB1c2UuXG4gICAgICovXG4gICAgUG9vbC5wcm90b3R5cGUuYWNxdWlyZSA9IGZ1bmN0aW9uIChhY3F1aXNpdGlvbkNvbnRleHQsIGFkZHJlc3MsIGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIga2V5ID0gYWRkcmVzcy5hc0tleSgpO1xuICAgICAgICAvLyBXZSdyZSBvdXQgb2YgcmVzb3VyY2VzIGFuZCB3aWxsIHRyeSB0byBhY3F1aXJlIGxhdGVyIG9uIHdoZW4gYW4gZXhpc3RpbmcgcmVzb3VyY2UgaXMgcmVsZWFzZWQuXG4gICAgICAgIHZhciBhbGxSZXF1ZXN0cyA9IHRoaXMuX2FjcXVpcmVSZXF1ZXN0cztcbiAgICAgICAgdmFyIHJlcXVlc3RzID0gYWxsUmVxdWVzdHNba2V5XTtcbiAgICAgICAgaWYgKCFyZXF1ZXN0cykge1xuICAgICAgICAgICAgYWxsUmVxdWVzdHNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gYWNxdWlzaXRpb24gdGltZW91dCBmaXJlZFxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSByZXF1ZXN0IGZyb20gdGhlIHF1ZXVlIG9mIHBlbmRpbmcgcmVxdWVzdHMsIGlmIGl0J3Mgc3RpbGwgdGhlcmVcbiAgICAgICAgICAgICAgICAvLyByZXF1ZXN0IG1pZ2h0J3ZlIGJlZW4gdGFrZW4gb3V0IGJ5IHRoZSByZWxlYXNlIG9wZXJhdGlvblxuICAgICAgICAgICAgICAgIHZhciBwZW5kaW5nUmVxdWVzdHMgPSBhbGxSZXF1ZXN0c1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nUmVxdWVzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUmVxdWVzdHNba2V5XSA9IHBlbmRpbmdSZXF1ZXN0cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gIT09IHJlcXVlc3Q7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5pc0NvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgYWxyZWFkeSByZXNvbHZlZC9yZWplY3RlZCBieSB0aGUgcmVsZWFzZSBvcGVyYXRpb247IG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgaXMgc3RpbGwgcGVuZGluZyBhbmQgbmVlZHMgdG8gYmUgZmFpbGVkXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVDb3VudCA9IF90aGlzLmFjdGl2ZVJlc291cmNlQ291bnQoYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZGxlQ291bnQgPSBfdGhpcy5oYXMoYWRkcmVzcykgPyBfdGhpcy5fcG9vbHNba2V5XS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnJlamVjdCgoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5uZXdFcnJvcikoXCJDb25uZWN0aW9uIGFjcXVpc2l0aW9uIHRpbWVkIG91dCBpbiBcIi5jb25jYXQoX3RoaXMuX2FjcXVpc2l0aW9uVGltZW91dCwgXCIgbXMuIFBvb2wgc3RhdHVzOiBBY3RpdmUgY29ubiBjb3VudCA9IFwiKS5jb25jYXQoYWN0aXZlQ291bnQsIFwiLCBJZGxlIGNvbm4gY291bnQgPSBcIikuY29uY2F0KGlkbGVDb3VudCwgXCIuXCIpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgX3RoaXMuX2FjcXVpc2l0aW9uVGltZW91dCk7XG4gICAgICAgICAgICByZXF1ZXN0ID0gbmV3IFBlbmRpbmdSZXF1ZXN0KGtleSwgYWNxdWlzaXRpb25Db250ZXh0LCBjb25maWcsIHJlc29sdmUsIHJlamVjdCwgdGltZW91dElkLCBfdGhpcy5fbG9nKTtcbiAgICAgICAgICAgIGFsbFJlcXVlc3RzW2tleV0ucHVzaChyZXF1ZXN0KTtcbiAgICAgICAgICAgIF90aGlzLl9wcm9jZXNzUGVuZGluZ0FjcXVpcmVSZXF1ZXN0cyhhZGRyZXNzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFsbCBpZGxlIHJlc291cmNlcyBmb3IgdGhlIGdpdmVuIGFkZHJlc3MuXG4gICAgICogQHBhcmFtIHtTZXJ2ZXJBZGRyZXNzfSBhZGRyZXNzIHRoZSBhZGRyZXNzIG9mIHRoZSBzZXJ2ZXIgdG8gcHVyZ2UgaXRzIHBvb2wuXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHJlc291cmNlcyBhcmUgcHVyZ2VkXG4gICAgICovXG4gICAgUG9vbC5wcm90b3R5cGUucHVyZ2UgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVyZ2VLZXkoYWRkcmVzcy5hc0tleSgpKTtcbiAgICB9O1xuICAgIFBvb2wucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGFkZHJlc3MsIHJlc291cmNlQ29uc3VtZXIpIHtcbiAgICAgICAgdmFyIGtleSA9IGFkZHJlc3MuYXNLZXkoKTtcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9wb29scykge1xuICAgICAgICAgICAgdGhpcy5fcG9vbHNba2V5XS5hcHBseShyZXNvdXJjZUNvbnN1bWVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbGwgaWRsZSByZXNvdXJjZXMgaW4gdGhpcyBwb29sLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSByZXNvdXJjZXMgYXJlIHB1cmdlZFxuICAgICAqL1xuICAgIFBvb2wucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHRoaXMuX3Bvb2xzKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gX3RoaXMuX3B1cmdlS2V5KGtleSk7IH0pKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBUaGUgbGFjayBvZiBQcm9taXNlIGNvbnN1bWluZyB3YXMgbWFraW5nIHRoZSBkcml2ZXIgZG8gbm90IGNsb3NlIHByb3Blcmx5IGluIHRoZSBzY2VuYXJpb1xuICAgICAgICAgICAgICAgICAgICAgKiBjYXB0dXJlZCBhdCByZXN1bHQudGVzdC5qczppdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIG9uQ29tcGxldGVkJykuIFRoZSB0ZXN0IHdhcyB0aW1pbmcgb3V0XG4gICAgICAgICAgICAgICAgICAgICAqIGJlY2F1c2Ugd2hpbGUgd2FpbnRpbmcgZm9yIHRoZSBkcml2ZXIgY2xvc2UuXG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIENvbnN1bWluZyB0aGUgUHJvbWlzZS5hbGwgb3IgYnkgY2FsbGluZyB0aGVuIG9yIGJ5IGF3YWl0aW5nIGluIHRoZSByZXN1bHQgaW5zaWRlIHRoaXMgbWV0aG9kIHNvbHZlZFxuICAgICAgICAgICAgICAgICAgICAgKiB0aGUgaXNzdWUgc29tZWhvdy5cbiAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICogUFM6IHRoZSByZXR1cm4gb2YgdGhpcyBtZXRob2Qgd2FzIGFscmVhZHkgYXdhaXRlZCBhdCBQb29sZWRDb25uZWN0aW9uUHJvdmlkZXIuY2xvc2UsIGJ1dCB0aGUgYXdhaXQgYmVsbG93XG4gICAgICAgICAgICAgICAgICAgICAqIHNlZW1zIHRvIGJlIG5lZWQgYWxzby5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXAgdGhlIGlkbGUgcmVzb3VyY2VzIGZvciB0aGUgcHJvdmlkZWQgYWRkcmVzc2VzIGFuZCBwdXJnZSB0aGUgcmVzdC5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgb3RoZXIgcmVzb3VyY2VzIGFyZSBwdXJnZWRcbiAgICAgKi9cbiAgICBQb29sLnByb3RvdHlwZS5rZWVwQWxsID0gZnVuY3Rpb24gKGFkZHJlc3Nlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIga2V5c1RvS2VlcCA9IGFkZHJlc3Nlcy5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYXNLZXkoKTsgfSk7XG4gICAgICAgIHZhciBrZXlzUHJlc2VudCA9IE9iamVjdC5rZXlzKHRoaXMuX3Bvb2xzKTtcbiAgICAgICAgdmFyIGtleXNUb1B1cmdlID0ga2V5c1ByZXNlbnQuZmlsdGVyKGZ1bmN0aW9uIChrKSB7IHJldHVybiBrZXlzVG9LZWVwLmluZGV4T2YoaykgPT09IC0xOyB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGtleXNUb1B1cmdlLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBfdGhpcy5fcHVyZ2VLZXkoa2V5KTsgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyBwb29sIGNvbnRhaW5zIHJlc291cmNlcyBmb3IgdGhlIGdpdmVuIGFkZHJlc3MuXG4gICAgICogQHBhcmFtIHtTZXJ2ZXJBZGRyZXNzfSBhZGRyZXNzIHRoZSBhZGRyZXNzIG9mIHRoZSBzZXJ2ZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIHdoZW4gcG9vbCBjb250YWlucyBlbnRyaWVzIGZvciB0aGUgZ2l2ZW4ga2V5LCA8Y29kZT5mYWxzZTwvY29kZT4gb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFBvb2wucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBhZGRyZXNzLmFzS2V5KCkgaW4gdGhpcy5fcG9vbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgY291bnQgb2YgYWN0aXZlIChjaGVja2VkIG91dCBvZiB0aGUgcG9vbCkgcmVzb3VyY2VzIGZvciB0aGUgZ2l2ZW4ga2V5LlxuICAgICAqIEBwYXJhbSB7U2VydmVyQWRkcmVzc30gYWRkcmVzcyB0aGUgYWRkcmVzcyBvZiB0aGUgc2VydmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gY291bnQgb2YgcmVzb3VyY2VzIGFjcXVpcmVkIGJ5IGNsaWVudHMuXG4gICAgICovXG4gICAgUG9vbC5wcm90b3R5cGUuYWN0aXZlUmVzb3VyY2VDb3VudCA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVSZXNvdXJjZUNvdW50c1thZGRyZXNzLmFzS2V5KCldIHx8IDA7XG4gICAgfTtcbiAgICBQb29sLnByb3RvdHlwZS5fZ2V0T3JJbml0aWFsaXplUG9vbEZvciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHBvb2wgPSB0aGlzLl9wb29sc1trZXldO1xuICAgICAgICBpZiAoIXBvb2wpIHtcbiAgICAgICAgICAgIHBvb2wgPSBuZXcgU2luZ2xlQWRkcmVzc1Bvb2woKTtcbiAgICAgICAgICAgIHRoaXMuX3Bvb2xzW2tleV0gPSBwb29sO1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0NyZWF0ZXNba2V5XSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvb2w7XG4gICAgfTtcbiAgICBQb29sLnByb3RvdHlwZS5fYWNxdWlyZSA9IGZ1bmN0aW9uIChhY3F1aXNpdGlvbkNvbnRleHQsIGFkZHJlc3MsIHJlcXVpcmVOZXcpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGtleSwgcG9vbCwgcmVzb3VyY2VfMSwgbnVtQ29ubmVjdGlvbnMsIHJlc291cmNlLCBudW1Db25uZWN0aW9ucywgcmVzb3VyY2VfMjtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdQb29sIGlzIGNsb3NlZCwgaXQgaXMgbm8gbW9yZSBhYmxlIHRvIHNlcnZlIHJlcXVlc3RzLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gYWRkcmVzcy5hc0tleSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9vbCA9IHRoaXMuX2dldE9ySW5pdGlhbGl6ZVBvb2xGb3Ioa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXJlcXVpcmVOZXcpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBvb2wubGVuZ3RoKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlXzEgPSBwb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlbW92ZUlkbGVPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUlkbGVPYnNlcnZlcihyZXNvdXJjZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3ZhbGlkYXRlT25BY3F1aXJlKGFjcXVpc2l0aW9uQ29udGV4dCwgcmVzb3VyY2VfMSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9hLnNlbnQoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZGxlIHJlc291cmNlIGlzIHZhbGlkIGFuZCBjYW4gYmUgYWNxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlQWNxdWlyZWQoa2V5LCB0aGlzLl9hY3RpdmVSZXNvdXJjZUNvdW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoXCJcIi5jb25jYXQocmVzb3VyY2VfMSwgXCIgYWNxdWlyZWQgZnJvbSB0aGUgcG9vbCBcIikuY29uY2F0KGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHsgcmVzb3VyY2U6IHJlc291cmNlXzEsIHBvb2w6IHBvb2wgfV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvb2wucmVtb3ZlSW5Vc2UocmVzb3VyY2VfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9kZXN0cm95KHJlc291cmNlXzEpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgcmVxdWVzdGVkIG1heCBwb29sIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXhTaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bUNvbm5lY3Rpb25zID0gdGhpcy5hY3RpdmVSZXNvdXJjZUNvdW50KGFkZHJlc3MpICsgdGhpcy5fcGVuZGluZ0NyZWF0ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtQ29ubmVjdGlvbnMgPj0gdGhpcy5fbWF4U2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaWxsIHB1dCB0aGlzIHJlcXVlc3QgaW4gcXVldWUgaW5zdGVhZCBzaW5jZSB0aGUgcG9vbCBpcyBmdWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IHJlc291cmNlOiBudWxsLCBwb29sOiBwb29sIH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGV4aXN0IG5vIGlkbGUgdmFsaWQgcmVzb3VyY2VzLCBjcmVhdGUgYSBuZXcgb25lIGZvciBhY3F1aXNpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBob3cgbWFueSBwZW5kaW5nIGNyZWF0ZXMgdGhlcmUgYXJlIHRvIGF2b2lkIG1ha2luZyB0b28gbWFueSBjb25uZWN0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdDcmVhdGVzW2tleV0gPSB0aGlzLl9wZW5kaW5nQ3JlYXRlc1trZXldICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFs3LCAsIDExLCAxMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtQ29ubmVjdGlvbnMgPSB0aGlzLmFjdGl2ZVJlc291cmNlQ291bnQoYWRkcmVzcykgKyBwb29sLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG51bUNvbm5lY3Rpb25zID49IHRoaXMuX21heFNpemUgJiYgcmVxdWlyZU5ldykpIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfMiA9IHBvb2wucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVtb3ZlSWRsZU9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlSWRsZU9ic2VydmVyKHJlc291cmNlXzIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9vbC5yZW1vdmVJblVzZShyZXNvdXJjZV8yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2Rlc3Ryb3kocmVzb3VyY2VfMildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY3JlYXRlKGFjcXVpc2l0aW9uQ29udGV4dCwgYWRkcmVzcywgZnVuY3Rpb24gKGFkZHJlc3MsIHJlc291cmNlKSB7IHJldHVybiBfdGhpcy5fcmVsZWFzZShhZGRyZXNzLCByZXNvdXJjZSwgcG9vbCk7IH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludm9rZSBjYWxsYmFjayB0aGF0IGNyZWF0ZXMgYWN0dWFsIGNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9vbC5wdXNoSW5Vc2UocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VBY3F1aXJlZChrZXksIHRoaXMuX2FjdGl2ZVJlc291cmNlQ291bnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sb2cuaXNEZWJ1Z0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5kZWJ1ZyhcIlwiLmNvbmNhdChyZXNvdXJjZSwgXCIgY3JlYXRlZCBmb3IgdGhlIHBvb2wgXCIpLmNvbmNhdChrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdDcmVhdGVzW2tleV0gPSB0aGlzLl9wZW5kaW5nQ3JlYXRlc1trZXldIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6IHJldHVybiBbMiAvKnJldHVybiovLCB7IHJlc291cmNlOiByZXNvdXJjZSwgcG9vbDogcG9vbCB9XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb29sLnByb3RvdHlwZS5fcmVsZWFzZSA9IGZ1bmN0aW9uIChhZGRyZXNzLCByZXNvdXJjZSwgcG9vbCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIga2V5O1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGFkZHJlc3MuYXNLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBvb2wuaXNBY3RpdmUoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl92YWxpZGF0ZU9uUmVsZWFzZShyZXNvdXJjZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISEoX2Euc2VudCgpKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9nLmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoXCJcIi5jb25jYXQocmVzb3VyY2UsIFwiIGRlc3Ryb3llZCBhbmQgY2FuJ3QgYmUgcmVsZWFzZWQgdG8gdGhlIHBvb2wgXCIpLmNvbmNhdChrZXksIFwiIGJlY2F1c2UgaXQgaXMgbm90IGZ1bmN0aW9uYWxcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9vbC5yZW1vdmVJblVzZShyZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9kZXN0cm95KHJlc291cmNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5zdGFsbElkbGVPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbGxJZGxlT2JzZXJ2ZXIocmVzb3VyY2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbG9nLmRlYnVnKFwiSWRsZSBjb25uZWN0aW9uIFwiLmNvbmNhdChyZXNvdXJjZSwgXCIgZGVzdHJveWVkIGJlY2F1c2Ugb2YgZXJyb3I6IFwiKS5jb25jYXQoZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb29sID0gX3RoaXMuX3Bvb2xzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9vbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wb29sc1trZXldID0gcG9vbC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIgIT09IHJlc291cmNlOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb29sLnJlbW92ZUluVXNlKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCdzIG5vdCBjYXJlIGFib3V0IGJhY2tncm91bmQgY2xlYW4tdXBzIGR1ZSB0byBlcnJvcnMgYnV0IGp1c3QgdHJpZ2dlciB0aGUgZGVzdHJveVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBmb3IgdGhlIHJlc291cmNlLCB3ZSBlc3BlY2lhbGx5IGNhdGNoIGFueSBlcnJvcnMgYW5kIGlnbm9yZSB0aGVtIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24gd2FybmluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kZXN0cm95KHJlc291cmNlKS5jYXRjaChmdW5jdGlvbiAoKSB7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwb29sLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvZy5pc0RlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiXCIuY29uY2F0KHJlc291cmNlLCBcIiByZWxlYXNlZCB0byB0aGUgcG9vbCBcIikuY29uY2F0KGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBrZXkgaGFzIGJlZW4gcHVyZ2VkLCBkb24ndCBwdXQgaXQgYmFjaywganVzdCBkZXN0cm95IHRoZSByZXNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvZy5pc0RlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmRlYnVnKFwiXCIuY29uY2F0KHJlc291cmNlLCBcIiBkZXN0cm95ZWQgYW5kIGNhbid0IGJlIHJlbGVhc2VkIHRvIHRoZSBwb29sIFwiKS5jb25jYXQoa2V5LCBcIiBiZWNhdXNlIHBvb2wgaGFzIGJlZW4gcHVyZ2VkXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvb2wucmVtb3ZlSW5Vc2UocmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fZGVzdHJveShyZXNvdXJjZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDg7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszIC8qYnJlYWsqLywgMTBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZVJlbGVhc2VkKGtleSwgdGhpcy5fYWN0aXZlUmVzb3VyY2VDb3VudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc1BlbmRpbmdBY3F1aXJlUmVxdWVzdHMoYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUG9vbC5wcm90b3R5cGUuX3B1cmdlS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcG9vbCwgZGVzdHJ1Y3Rpb25MaXN0LCByZXNvdXJjZTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvb2wgPSB0aGlzLl9wb29sc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJ1Y3Rpb25MaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBvb2wpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBvb2wubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBwb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZW1vdmVJZGxlT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlSWRsZU9ic2VydmVyKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJ1Y3Rpb25MaXN0LnB1c2godGhpcy5fZGVzdHJveShyZXNvdXJjZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9vbC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Bvb2xzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChkZXN0cnVjdGlvbkxpc3QpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb29sLnByb3RvdHlwZS5fcHJvY2Vzc1BlbmRpbmdBY3F1aXJlUmVxdWVzdHMgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIga2V5ID0gYWRkcmVzcy5hc0tleSgpO1xuICAgICAgICB2YXIgcmVxdWVzdHMgPSB0aGlzLl9hY3F1aXJlUmVxdWVzdHNba2V5XTtcbiAgICAgICAgaWYgKHJlcXVlc3RzKSB7XG4gICAgICAgICAgICB2YXIgcGVuZGluZ1JlcXVlc3RfMSA9IHJlcXVlc3RzLnNoaWZ0KCk7IC8vIHBvcCBhIHBlbmRpbmcgYWNxdWlyZSByZXF1ZXN0XG4gICAgICAgICAgICBpZiAocGVuZGluZ1JlcXVlc3RfMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjcXVpcmUocGVuZGluZ1JlcXVlc3RfMS5jb250ZXh0LCBhZGRyZXNzLCBwZW5kaW5nUmVxdWVzdF8xLnJlcXVpcmVOZXcpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbGVkIHRvIGFjcXVpcmUvY3JlYXRlIGEgbmV3IGNvbm5lY3Rpb24gdG8gcmVzb2x2ZSB0aGUgcGVuZGluZyBhY3F1aXJlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGFnYXRlIHRoZSBlcnJvciBieSBmYWlsaW5nIHRoZSBwZW5kaW5nIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1JlcXVlc3RfMS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByZXNvdXJjZTogbnVsbCB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBfYS5yZXNvdXJjZSwgcG9vbCA9IF9hLnBvb2w7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFuYWdlZCB0byBhY3F1aXJlIGEgdmFsaWQgcmVzb3VyY2UgZnJvbSB0aGUgcG9vbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdSZXF1ZXN0XzEuaXNDb21wbGV0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgaGFzIGJlZW4gY29tcGxldGVkLCBtb3N0IGxpa2VseSBmYWlsZWQgYnkgYSB0aW1lb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBhY3F1aXJlZCByZXNvdXJjZSBiYWNrIHRvIHRoZSBwb29sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlbGVhc2UoYWRkcmVzcywgcmVzb3VyY2UsIHBvb2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWVzdCBpcyBzdGlsbCBwZW5kaW5nIGFuZCBjYW4gYmUgcmVzb2x2ZWQgd2l0aCB0aGUgbmV3bHkgYWNxdWlyZWQgcmVzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nUmVxdWVzdF8xLnJlc29sdmUocmVzb3VyY2UpOyAvLyByZXNvbHZlIHRoZSBwZW5kaW5nIHJlcXVlc3Qgd2l0aCB0aGUgYWNxdWlyZWQgcmVzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhaWxlZCB0byBhY3F1aXJlIGEgdmFsaWQgcmVzb3VyY2UgZnJvbSB0aGUgcG9vbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBwZW5kaW5nIHJlcXVlc3QgYmFjayB0byB0aGUgcG9vbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nUmVxdWVzdF8xLmlzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9hY3F1aXJlUmVxdWVzdHNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYWNxdWlyZVJlcXVlc3RzW2tleV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FjcXVpcmVSZXF1ZXN0c1trZXldLnVuc2hpZnQocGVuZGluZ1JlcXVlc3RfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9hY3F1aXJlUmVxdWVzdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBvb2w7XG59KCkpO1xuLyoqXG4gKiBJbmNyZW1lbnQgYWN0aXZlIChjaGVja2VkIG91dCBvZiB0aGUgcG9vbCkgcmVzb3VyY2UgY291bnRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIHJlc291cmNlIGdyb3VwIGlkZW50aWZpZXIgKHNlcnZlciBhZGRyZXNzIGZvciBjb25uZWN0aW9ucykuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBudW1iZXI+fSBhY3RpdmVSZXNvdXJjZUNvdW50cyB0aGUgb2JqZWN0IGhvbGRpbmcgYWN0aXZlIGNvdW50cyBwZXIga2V5LlxuICovXG5mdW5jdGlvbiByZXNvdXJjZUFjcXVpcmVkKGtleSwgYWN0aXZlUmVzb3VyY2VDb3VudHMpIHtcbiAgICB2YXIgY3VycmVudENvdW50ID0gYWN0aXZlUmVzb3VyY2VDb3VudHNba2V5XSB8fCAwO1xuICAgIGFjdGl2ZVJlc291cmNlQ291bnRzW2tleV0gPSBjdXJyZW50Q291bnQgKyAxO1xufVxuLyoqXG4gKiBEZWNyZW1lbnQgYWN0aXZlIChjaGVja2VkIG91dCBvZiB0aGUgcG9vbCkgcmVzb3VyY2UgY291bnRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIHJlc291cmNlIGdyb3VwIGlkZW50aWZpZXIgKHNlcnZlciBhZGRyZXNzIGZvciBjb25uZWN0aW9ucykuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBudW1iZXI+fSBhY3RpdmVSZXNvdXJjZUNvdW50cyB0aGUgb2JqZWN0IGhvbGRpbmcgYWN0aXZlIGNvdW50cyBwZXIga2V5LlxuICovXG5mdW5jdGlvbiByZXNvdXJjZVJlbGVhc2VkKGtleSwgYWN0aXZlUmVzb3VyY2VDb3VudHMpIHtcbiAgICB2YXIgY3VycmVudENvdW50ID0gYWN0aXZlUmVzb3VyY2VDb3VudHNba2V5XSB8fCAwO1xuICAgIHZhciBuZXh0Q291bnQgPSBjdXJyZW50Q291bnQgLSAxO1xuICAgIGlmIChuZXh0Q291bnQgPiAwKSB7XG4gICAgICAgIGFjdGl2ZVJlc291cmNlQ291bnRzW2tleV0gPSBuZXh0Q291bnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWxldGUgYWN0aXZlUmVzb3VyY2VDb3VudHNba2V5XTtcbiAgICB9XG59XG52YXIgUGVuZGluZ1JlcXVlc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGVuZGluZ1JlcXVlc3Qoa2V5LCBjb250ZXh0LCBjb25maWcsIHJlc29sdmUsIHJlamVjdCwgdGltZW91dElkLCBsb2cpIHtcbiAgICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIHRoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICAgICAgdGhpcy5fdGltZW91dElkID0gdGltZW91dElkO1xuICAgICAgICB0aGlzLl9sb2cgPSBsb2c7XG4gICAgICAgIHRoaXMuX2NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWcgfHwge307XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQZW5kaW5nUmVxdWVzdC5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGVuZGluZ1JlcXVlc3QucHJvdG90eXBlLCBcInJlcXVpcmVOZXdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWcucmVxdWlyZU5ldyB8fCBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFBlbmRpbmdSZXF1ZXN0LnByb3RvdHlwZS5pc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBsZXRlZDtcbiAgICB9O1xuICAgIFBlbmRpbmdSZXF1ZXN0LnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKTtcbiAgICAgICAgaWYgKHRoaXMuX2xvZy5pc0RlYnVnRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuZGVidWcoXCJcIi5jb25jYXQocmVzb3VyY2UsIFwiIGFjcXVpcmVkIGZyb20gdGhlIHBvb2wgXCIpLmNvbmNhdCh0aGlzLl9rZXkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNvbHZlKHJlc291cmNlKTtcbiAgICB9O1xuICAgIFBlbmRpbmdSZXF1ZXN0LnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpO1xuICAgICAgICB0aGlzLl9yZWplY3QoZXJyb3IpO1xuICAgIH07XG4gICAgcmV0dXJuIFBlbmRpbmdSZXF1ZXN0O1xufSgpKTtcbnZhciBTaW5nbGVBZGRyZXNzUG9vbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTaW5nbGVBZGRyZXNzUG9vbCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHNJblVzZSA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgU2luZ2xlQWRkcmVzc1Bvb2wucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICAgIH07XG4gICAgU2luZ2xlQWRkcmVzc1Bvb2wucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHNJblVzZSA9IG5ldyBTZXQoKTtcbiAgICB9O1xuICAgIFNpbmdsZUFkZHJlc3NQb29sLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzID0gdGhpcy5fZWxlbWVudHMuZmlsdGVyKHByZWRpY2F0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU2luZ2xlQWRkcmVzc1Bvb2wucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKHJlc291cmNlQ29uc3VtZXIpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuZm9yRWFjaChyZXNvdXJjZUNvbnN1bWVyKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHNJblVzZS5mb3JFYWNoKHJlc291cmNlQ29uc3VtZXIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbmdsZUFkZHJlc3NQb29sLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW5nbGVBZGRyZXNzUG9vbC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRzLnBvcCgpO1xuICAgICAgICB0aGlzLl9lbGVtZW50c0luVXNlLmFkZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICBTaW5nbGVBZGRyZXNzUG9vbC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzSW5Vc2UuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9O1xuICAgIFNpbmdsZUFkZHJlc3NQb29sLnByb3RvdHlwZS5wdXNoSW5Vc2UgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50c0luVXNlLmFkZChlbGVtZW50KTtcbiAgICB9O1xuICAgIFNpbmdsZUFkZHJlc3NQb29sLnByb3RvdHlwZS5yZW1vdmVJblVzZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzSW5Vc2UuZGVsZXRlKGVsZW1lbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbmdsZUFkZHJlc3NQb29sO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFBvb2w7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RoutingTable = exports.Rediscovery = void 0;\nvar rediscovery_1 = __importDefault(__webpack_require__(/*! ./rediscovery */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js\"));\nexports.Rediscovery = rediscovery_1.default;\nvar routing_table_1 = __importDefault(__webpack_require__(/*! ./routing-table */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js\"));\nexports.RoutingTable = routing_table_1.default;\nexports[\"default\"] = rediscovery_1.default;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3ZlcnkvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLG1CQUFtQjtBQUMxQyxvQ0FBb0MsbUJBQU8sQ0FBQyx1R0FBZTtBQUMzRCxtQkFBbUI7QUFDbkIsc0NBQXNDLG1CQUFPLENBQUMsMkdBQWlCO0FBQy9ELG9CQUFvQjtBQUNwQixrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL3JlZGlzY292ZXJ5L2luZGV4LmpzPzkzNmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb3V0aW5nVGFibGUgPSBleHBvcnRzLlJlZGlzY292ZXJ5ID0gdm9pZCAwO1xudmFyIHJlZGlzY292ZXJ5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcmVkaXNjb3ZlcnlcIikpO1xuZXhwb3J0cy5SZWRpc2NvdmVyeSA9IHJlZGlzY292ZXJ5XzEuZGVmYXVsdDtcbnZhciByb3V0aW5nX3RhYmxlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcm91dGluZy10YWJsZVwiKSk7XG5leHBvcnRzLlJvdXRpbmdUYWJsZSA9IHJvdXRpbmdfdGFibGVfMS5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0gcmVkaXNjb3ZlcnlfMS5kZWZhdWx0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar routing_table_1 = __importDefault(__webpack_require__(/*! ./routing-table */ \"(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js\"));\n// eslint-disable-next-line no-unused-vars\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar Rediscovery = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {object} routingContext\n     */\n    function Rediscovery(routingContext) {\n        this._routingContext = routingContext;\n    }\n    /**\n     * Try to fetch new routing table from the given router.\n     * @param {Session} session the session to use.\n     * @param {string} database the database for which to lookup routing table.\n     * @param {ServerAddress} routerAddress the URL of the router.\n     * @param {string} impersonatedUser The impersonated user\n     * @return {Promise<RoutingTable>} promise resolved with new routing table or null when connection error happened.\n     */\n    Rediscovery.prototype.lookupRoutingTableOnRouter = function (session, database, routerAddress, impersonatedUser) {\n        var _this = this;\n        return session._acquireConnection(function (connection) {\n            return _this._requestRawRoutingTable(connection, session, database, routerAddress, impersonatedUser).then(function (rawRoutingTable) {\n                if (rawRoutingTable.isNull) {\n                    return null;\n                }\n                return routing_table_1.default.fromRawRoutingTable(database, routerAddress, rawRoutingTable);\n            });\n        });\n    };\n    Rediscovery.prototype._requestRawRoutingTable = function (connection, session, database, routerAddress, impersonatedUser) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            connection.protocol().requestRoutingInformation({\n                routingContext: _this._routingContext,\n                databaseName: database,\n                impersonatedUser: impersonatedUser,\n                sessionContext: {\n                    bookmarks: session._lastBookmarks,\n                    mode: session._mode,\n                    database: session._database,\n                    afterComplete: session._onComplete\n                },\n                onCompleted: resolve,\n                onError: reject\n            });\n        });\n    };\n    return Rediscovery;\n}());\nexports[\"default\"] = Rediscovery;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3ZlcnkvcmVkaXNjb3ZlcnkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtQkFBTyxDQUFDLDJHQUFpQjtBQUMvRDtBQUNBLDBCQUEwQixtQkFBTyxDQUFDLDhFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsUUFBUTtBQUN2QixlQUFlLGVBQWU7QUFDOUIsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQix1QkFBdUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvNGotbmV4dC1hcHAvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3ZlcnkvcmVkaXNjb3ZlcnkuanM/MzE2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29weXJpZ2h0IChjKSBcIk5lbzRqXCJcbiAqIE5lbzRqIFN3ZWRlbiBBQiBbaHR0cHM6Ly9uZW80ai5jb21dXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgcm91dGluZ190YWJsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JvdXRpbmctdGFibGVcIikpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG52YXIgbmVvNGpfZHJpdmVyX2NvcmVfMSA9IHJlcXVpcmUoXCJuZW80ai1kcml2ZXItY29yZVwiKTtcbnZhciBSZWRpc2NvdmVyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcm91dGluZ0NvbnRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWRpc2NvdmVyeShyb3V0aW5nQ29udGV4dCkge1xuICAgICAgICB0aGlzLl9yb3V0aW5nQ29udGV4dCA9IHJvdXRpbmdDb250ZXh0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcnkgdG8gZmV0Y2ggbmV3IHJvdXRpbmcgdGFibGUgZnJvbSB0aGUgZ2l2ZW4gcm91dGVyLlxuICAgICAqIEBwYXJhbSB7U2Vzc2lvbn0gc2Vzc2lvbiB0aGUgc2Vzc2lvbiB0byB1c2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFiYXNlIHRoZSBkYXRhYmFzZSBmb3Igd2hpY2ggdG8gbG9va3VwIHJvdXRpbmcgdGFibGUuXG4gICAgICogQHBhcmFtIHtTZXJ2ZXJBZGRyZXNzfSByb3V0ZXJBZGRyZXNzIHRoZSBVUkwgb2YgdGhlIHJvdXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1wZXJzb25hdGVkVXNlciBUaGUgaW1wZXJzb25hdGVkIHVzZXJcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFJvdXRpbmdUYWJsZT59IHByb21pc2UgcmVzb2x2ZWQgd2l0aCBuZXcgcm91dGluZyB0YWJsZSBvciBudWxsIHdoZW4gY29ubmVjdGlvbiBlcnJvciBoYXBwZW5lZC5cbiAgICAgKi9cbiAgICBSZWRpc2NvdmVyeS5wcm90b3R5cGUubG9va3VwUm91dGluZ1RhYmxlT25Sb3V0ZXIgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZGF0YWJhc2UsIHJvdXRlckFkZHJlc3MsIGltcGVyc29uYXRlZFVzZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHNlc3Npb24uX2FjcXVpcmVDb25uZWN0aW9uKGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX3JlcXVlc3RSYXdSb3V0aW5nVGFibGUoY29ubmVjdGlvbiwgc2Vzc2lvbiwgZGF0YWJhc2UsIHJvdXRlckFkZHJlc3MsIGltcGVyc29uYXRlZFVzZXIpLnRoZW4oZnVuY3Rpb24gKHJhd1JvdXRpbmdUYWJsZSkge1xuICAgICAgICAgICAgICAgIGlmIChyYXdSb3V0aW5nVGFibGUuaXNOdWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcm91dGluZ190YWJsZV8xLmRlZmF1bHQuZnJvbVJhd1JvdXRpbmdUYWJsZShkYXRhYmFzZSwgcm91dGVyQWRkcmVzcywgcmF3Um91dGluZ1RhYmxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlZGlzY292ZXJ5LnByb3RvdHlwZS5fcmVxdWVzdFJhd1JvdXRpbmdUYWJsZSA9IGZ1bmN0aW9uIChjb25uZWN0aW9uLCBzZXNzaW9uLCBkYXRhYmFzZSwgcm91dGVyQWRkcmVzcywgaW1wZXJzb25hdGVkVXNlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgY29ubmVjdGlvbi5wcm90b2NvbCgpLnJlcXVlc3RSb3V0aW5nSW5mb3JtYXRpb24oe1xuICAgICAgICAgICAgICAgIHJvdXRpbmdDb250ZXh0OiBfdGhpcy5fcm91dGluZ0NvbnRleHQsXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VOYW1lOiBkYXRhYmFzZSxcbiAgICAgICAgICAgICAgICBpbXBlcnNvbmF0ZWRVc2VyOiBpbXBlcnNvbmF0ZWRVc2VyLFxuICAgICAgICAgICAgICAgIHNlc3Npb25Db250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgIGJvb2ttYXJrczogc2Vzc2lvbi5fbGFzdEJvb2ttYXJrcyxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogc2Vzc2lvbi5fbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2U6IHNlc3Npb24uX2RhdGFiYXNlLFxuICAgICAgICAgICAgICAgICAgICBhZnRlckNvbXBsZXRlOiBzZXNzaW9uLl9vbkNvbXBsZXRlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiByZWplY3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWRpc2NvdmVyeTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBSZWRpc2NvdmVyeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js":
/*!************************************************************************************!*\
  !*** ./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createValidRoutingTable = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = __webpack_require__(/*! neo4j-driver-core */ \"(rsc)/./node_modules/neo4j-driver-core/lib/index.js\");\nvar _a = neo4j_driver_core_1.internal.constants, WRITE = _a.ACCESS_MODE_WRITE, READ = _a.ACCESS_MODE_READ, ServerAddress = neo4j_driver_core_1.internal.serverAddress.ServerAddress;\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar MIN_ROUTERS = 1;\n/**\n * The routing table object used to determine the role of the servers in the driver.\n */\nvar RoutingTable = /** @class */ (function () {\n    function RoutingTable(_a) {\n        var _b = _a === void 0 ? {} : _a, database = _b.database, routers = _b.routers, readers = _b.readers, writers = _b.writers, expirationTime = _b.expirationTime, ttl = _b.ttl;\n        this.database = database || null;\n        this.databaseName = database || 'default database';\n        this.routers = routers || [];\n        this.readers = readers || [];\n        this.writers = writers || [];\n        this.expirationTime = expirationTime || (0, neo4j_driver_core_1.int)(0);\n        this.ttl = ttl;\n    }\n    /**\n     * Create a valid routing table from a raw object\n     *\n     * @param {string} database the database name. It is used for logging purposes\n     * @param {ServerAddress} routerAddress The router address, it is used for loggin purposes\n     * @param {RawRoutingTable} rawRoutingTable Method used to get the raw routing table to be processed\n     * @param {RoutingTable} The valid Routing Table\n     */\n    RoutingTable.fromRawRoutingTable = function (database, routerAddress, rawRoutingTable) {\n        return createValidRoutingTable(database, routerAddress, rawRoutingTable);\n    };\n    RoutingTable.prototype.forget = function (address) {\n        // Don't remove it from the set of routers, since that might mean we lose our ability to re-discover,\n        // just remove it from the set of readers and writers, so that we don't use it for actual work without\n        // performing discovery first.\n        this.readers = removeFromArray(this.readers, address);\n        this.writers = removeFromArray(this.writers, address);\n    };\n    RoutingTable.prototype.forgetRouter = function (address) {\n        this.routers = removeFromArray(this.routers, address);\n    };\n    RoutingTable.prototype.forgetWriter = function (address) {\n        this.writers = removeFromArray(this.writers, address);\n    };\n    /**\n     * Check if this routing table is fresh to perform the required operation.\n     * @param {string} accessMode the type of operation. Allowed values are {@link READ} and {@link WRITE}.\n     * @return {boolean} `true` when this table contains servers to serve the required operation, `false` otherwise.\n     */\n    RoutingTable.prototype.isStaleFor = function (accessMode) {\n        return (this.expirationTime.lessThan(Date.now()) ||\n            this.routers.length < MIN_ROUTERS ||\n            (accessMode === READ && this.readers.length === 0) ||\n            (accessMode === WRITE && this.writers.length === 0));\n    };\n    /**\n     * Check if this routing table is expired for specified amount of duration\n     *\n     * @param {Integer} duration amount of duration in milliseconds to check for expiration\n     * @returns {boolean}\n     */\n    RoutingTable.prototype.isExpiredFor = function (duration) {\n        return this.expirationTime.add(duration).lessThan(Date.now());\n    };\n    RoutingTable.prototype.allServers = function () {\n        return __spreadArray(__spreadArray(__spreadArray([], __read(this.routers), false), __read(this.readers), false), __read(this.writers), false);\n    };\n    RoutingTable.prototype.toString = function () {\n        return ('RoutingTable[' +\n            \"database=\".concat(this.databaseName, \", \") +\n            \"expirationTime=\".concat(this.expirationTime, \", \") +\n            \"currentTime=\".concat(Date.now(), \", \") +\n            \"routers=[\".concat(this.routers, \"], \") +\n            \"readers=[\".concat(this.readers, \"], \") +\n            \"writers=[\".concat(this.writers, \"]]\"));\n    };\n    return RoutingTable;\n}());\nexports[\"default\"] = RoutingTable;\n/**\n * Remove all occurrences of the element in the array.\n * @param {Array} array the array to filter.\n * @param {Object} element the element to remove.\n * @return {Array} new filtered array.\n */\nfunction removeFromArray(array, element) {\n    return array.filter(function (item) { return item.asKey() !== element.asKey(); });\n}\n/**\n * Create a valid routing table from a raw object\n *\n * @param {string} db the database name. It is used for logging purposes\n * @param {ServerAddress} routerAddress The router address, it is used for loggin purposes\n * @param {RawRoutingTable} rawRoutingTable Method used to get the raw routing table to be processed\n * @param {RoutingTable} The valid Routing Table\n */\nfunction createValidRoutingTable(database, routerAddress, rawRoutingTable) {\n    var ttl = rawRoutingTable.ttl;\n    var expirationTime = calculateExpirationTime(rawRoutingTable, routerAddress);\n    var _a = parseServers(rawRoutingTable, routerAddress), routers = _a.routers, readers = _a.readers, writers = _a.writers;\n    assertNonEmpty(routers, 'routers', routerAddress);\n    assertNonEmpty(readers, 'readers', routerAddress);\n    return new RoutingTable({\n        database: database || rawRoutingTable.db,\n        routers: routers,\n        readers: readers,\n        writers: writers,\n        expirationTime: expirationTime,\n        ttl: ttl\n    });\n}\nexports.createValidRoutingTable = createValidRoutingTable;\n/**\n * Parse server from the RawRoutingTable.\n *\n * @param {RawRoutingTable} rawRoutingTable the raw routing table\n * @param {string} routerAddress the router address\n * @returns {Object} The object with the list of routers, readers and writers\n */\nfunction parseServers(rawRoutingTable, routerAddress) {\n    try {\n        var routers_1 = [];\n        var readers_1 = [];\n        var writers_1 = [];\n        rawRoutingTable.servers.forEach(function (server) {\n            var role = server.role;\n            var addresses = server.addresses;\n            if (role === 'ROUTE') {\n                routers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n            else if (role === 'WRITE') {\n                writers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n            else if (role === 'READ') {\n                readers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n        });\n        return {\n            routers: routers_1,\n            readers: readers_1,\n            writers: writers_1\n        };\n    }\n    catch (error) {\n        throw (0, neo4j_driver_core_1.newError)(\"Unable to parse servers entry from router \".concat(routerAddress, \" from addresses:\\n\").concat(neo4j_driver_core_1.json.stringify(rawRoutingTable.servers), \"\\nError message: \").concat(error.message), PROTOCOL_ERROR);\n    }\n}\n/**\n * Call the expiration time using the ttls from the raw routing table and return it\n *\n * @param {RawRoutingTable} rawRoutingTable the routing table\n * @param {string} routerAddress the router address\n * @returns {number} the ttl\n */\nfunction calculateExpirationTime(rawRoutingTable, routerAddress) {\n    try {\n        var now = (0, neo4j_driver_core_1.int)(Date.now());\n        var expires = (0, neo4j_driver_core_1.int)(rawRoutingTable.ttl)\n            .multiply(1000)\n            .add(now);\n        // if the server uses a really big expire time like Long.MAX_VALUE this may have overflowed\n        if (expires.lessThan(now)) {\n            return neo4j_driver_core_1.Integer.MAX_VALUE;\n        }\n        return expires;\n    }\n    catch (error) {\n        throw (0, neo4j_driver_core_1.newError)(\"Unable to parse TTL entry from router \".concat(routerAddress, \" from raw routing table:\\n\").concat(neo4j_driver_core_1.json.stringify(rawRoutingTable), \"\\nError message: \").concat(error.message), PROTOCOL_ERROR);\n    }\n}\n/**\n * Assert if serverAddressesArray is not empty, throws and PROTOCOL_ERROR otherwise\n *\n * @param {string[]} serverAddressesArray array of addresses\n * @param {string} serversName the server name\n * @param {string} routerAddress the router address\n */\nfunction assertNonEmpty(serverAddressesArray, serversName, routerAddress) {\n    if (serverAddressesArray.length === 0) {\n        throw (0, neo4j_driver_core_1.newError)('Received no ' + serversName + ' from router ' + routerAddress, PROTOCOL_ERROR);\n    }\n}\nfunction parseArray(addresses) {\n    if (!Array.isArray(addresses)) {\n        throw new TypeError('Array expected but got: ' + addresses);\n    }\n    return Array.from(addresses);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmVvNGotZHJpdmVyLWJvbHQtY29ubmVjdGlvbi9saWIvcmVkaXNjb3Zlcnkvcm91dGluZy10YWJsZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsT0FBTztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUJBQU8sQ0FBQyw4RUFBbUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsZUFBZTtBQUM5QixlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVEsc0RBQXNELFlBQVksS0FBSyxZQUFZO0FBQzFHLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2Y7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQSwwQ0FBMEMsMENBQTBDO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQixXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25lbzRqLW5leHQtYXBwLy4vbm9kZV9tb2R1bGVzL25lbzRqLWRyaXZlci1ib2x0LWNvbm5lY3Rpb24vbGliL3JlZGlzY292ZXJ5L3JvdXRpbmctdGFibGUuanM/OGMwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlVmFsaWRSb3V0aW5nVGFibGUgPSB2b2lkIDA7XG4vKipcbiAqIENvcHlyaWdodCAoYykgXCJOZW80alwiXG4gKiBOZW80aiBTd2VkZW4gQUIgW2h0dHBzOi8vbmVvNGouY29tXVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIG5lbzRqX2RyaXZlcl9jb3JlXzEgPSByZXF1aXJlKFwibmVvNGotZHJpdmVyLWNvcmVcIik7XG52YXIgX2EgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLmNvbnN0YW50cywgV1JJVEUgPSBfYS5BQ0NFU1NfTU9ERV9XUklURSwgUkVBRCA9IF9hLkFDQ0VTU19NT0RFX1JFQUQsIFNlcnZlckFkZHJlc3MgPSBuZW80al9kcml2ZXJfY29yZV8xLmludGVybmFsLnNlcnZlckFkZHJlc3MuU2VydmVyQWRkcmVzcztcbnZhciBQUk9UT0NPTF9FUlJPUiA9IG5lbzRqX2RyaXZlcl9jb3JlXzEuZXJyb3IuUFJPVE9DT0xfRVJST1I7XG52YXIgTUlOX1JPVVRFUlMgPSAxO1xuLyoqXG4gKiBUaGUgcm91dGluZyB0YWJsZSBvYmplY3QgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHJvbGUgb2YgdGhlIHNlcnZlcnMgaW4gdGhlIGRyaXZlci5cbiAqL1xudmFyIFJvdXRpbmdUYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSb3V0aW5nVGFibGUoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIGRhdGFiYXNlID0gX2IuZGF0YWJhc2UsIHJvdXRlcnMgPSBfYi5yb3V0ZXJzLCByZWFkZXJzID0gX2IucmVhZGVycywgd3JpdGVycyA9IF9iLndyaXRlcnMsIGV4cGlyYXRpb25UaW1lID0gX2IuZXhwaXJhdGlvblRpbWUsIHR0bCA9IF9iLnR0bDtcbiAgICAgICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VOYW1lID0gZGF0YWJhc2UgfHwgJ2RlZmF1bHQgZGF0YWJhc2UnO1xuICAgICAgICB0aGlzLnJvdXRlcnMgPSByb3V0ZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLnJlYWRlcnMgPSByZWFkZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLndyaXRlcnMgPSB3cml0ZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWUgfHwgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEuaW50KSgwKTtcbiAgICAgICAgdGhpcy50dGwgPSB0dGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZhbGlkIHJvdXRpbmcgdGFibGUgZnJvbSBhIHJhdyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhYmFzZSB0aGUgZGF0YWJhc2UgbmFtZS4gSXQgaXMgdXNlZCBmb3IgbG9nZ2luZyBwdXJwb3Nlc1xuICAgICAqIEBwYXJhbSB7U2VydmVyQWRkcmVzc30gcm91dGVyQWRkcmVzcyBUaGUgcm91dGVyIGFkZHJlc3MsIGl0IGlzIHVzZWQgZm9yIGxvZ2dpbiBwdXJwb3Nlc1xuICAgICAqIEBwYXJhbSB7UmF3Um91dGluZ1RhYmxlfSByYXdSb3V0aW5nVGFibGUgTWV0aG9kIHVzZWQgdG8gZ2V0IHRoZSByYXcgcm91dGluZyB0YWJsZSB0byBiZSBwcm9jZXNzZWRcbiAgICAgKiBAcGFyYW0ge1JvdXRpbmdUYWJsZX0gVGhlIHZhbGlkIFJvdXRpbmcgVGFibGVcbiAgICAgKi9cbiAgICBSb3V0aW5nVGFibGUuZnJvbVJhd1JvdXRpbmdUYWJsZSA9IGZ1bmN0aW9uIChkYXRhYmFzZSwgcm91dGVyQWRkcmVzcywgcmF3Um91dGluZ1RhYmxlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVWYWxpZFJvdXRpbmdUYWJsZShkYXRhYmFzZSwgcm91dGVyQWRkcmVzcywgcmF3Um91dGluZ1RhYmxlKTtcbiAgICB9O1xuICAgIFJvdXRpbmdUYWJsZS5wcm90b3R5cGUuZm9yZ2V0ID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgLy8gRG9uJ3QgcmVtb3ZlIGl0IGZyb20gdGhlIHNldCBvZiByb3V0ZXJzLCBzaW5jZSB0aGF0IG1pZ2h0IG1lYW4gd2UgbG9zZSBvdXIgYWJpbGl0eSB0byByZS1kaXNjb3ZlcixcbiAgICAgICAgLy8ganVzdCByZW1vdmUgaXQgZnJvbSB0aGUgc2V0IG9mIHJlYWRlcnMgYW5kIHdyaXRlcnMsIHNvIHRoYXQgd2UgZG9uJ3QgdXNlIGl0IGZvciBhY3R1YWwgd29yayB3aXRob3V0XG4gICAgICAgIC8vIHBlcmZvcm1pbmcgZGlzY292ZXJ5IGZpcnN0LlxuICAgICAgICB0aGlzLnJlYWRlcnMgPSByZW1vdmVGcm9tQXJyYXkodGhpcy5yZWFkZXJzLCBhZGRyZXNzKTtcbiAgICAgICAgdGhpcy53cml0ZXJzID0gcmVtb3ZlRnJvbUFycmF5KHRoaXMud3JpdGVycywgYWRkcmVzcyk7XG4gICAgfTtcbiAgICBSb3V0aW5nVGFibGUucHJvdG90eXBlLmZvcmdldFJvdXRlciA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMucm91dGVycyA9IHJlbW92ZUZyb21BcnJheSh0aGlzLnJvdXRlcnMsIGFkZHJlc3MpO1xuICAgIH07XG4gICAgUm91dGluZ1RhYmxlLnByb3RvdHlwZS5mb3JnZXRXcml0ZXIgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICB0aGlzLndyaXRlcnMgPSByZW1vdmVGcm9tQXJyYXkodGhpcy53cml0ZXJzLCBhZGRyZXNzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgcm91dGluZyB0YWJsZSBpcyBmcmVzaCB0byBwZXJmb3JtIHRoZSByZXF1aXJlZCBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjY2Vzc01vZGUgdGhlIHR5cGUgb2Ygb3BlcmF0aW9uLiBBbGxvd2VkIHZhbHVlcyBhcmUge0BsaW5rIFJFQUR9IGFuZCB7QGxpbmsgV1JJVEV9LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCB3aGVuIHRoaXMgdGFibGUgY29udGFpbnMgc2VydmVycyB0byBzZXJ2ZSB0aGUgcmVxdWlyZWQgb3BlcmF0aW9uLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBSb3V0aW5nVGFibGUucHJvdG90eXBlLmlzU3RhbGVGb3IgPSBmdW5jdGlvbiAoYWNjZXNzTW9kZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZXhwaXJhdGlvblRpbWUubGVzc1RoYW4oRGF0ZS5ub3coKSkgfHxcbiAgICAgICAgICAgIHRoaXMucm91dGVycy5sZW5ndGggPCBNSU5fUk9VVEVSUyB8fFxuICAgICAgICAgICAgKGFjY2Vzc01vZGUgPT09IFJFQUQgJiYgdGhpcy5yZWFkZXJzLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgIChhY2Nlc3NNb2RlID09PSBXUklURSAmJiB0aGlzLndyaXRlcnMubGVuZ3RoID09PSAwKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGlzIHJvdXRpbmcgdGFibGUgaXMgZXhwaXJlZCBmb3Igc3BlY2lmaWVkIGFtb3VudCBvZiBkdXJhdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBkdXJhdGlvbiBhbW91bnQgb2YgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzIHRvIGNoZWNrIGZvciBleHBpcmF0aW9uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgUm91dGluZ1RhYmxlLnByb3RvdHlwZS5pc0V4cGlyZWRGb3IgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwaXJhdGlvblRpbWUuYWRkKGR1cmF0aW9uKS5sZXNzVGhhbihEYXRlLm5vdygpKTtcbiAgICB9O1xuICAgIFJvdXRpbmdUYWJsZS5wcm90b3R5cGUuYWxsU2VydmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQodGhpcy5yb3V0ZXJzKSwgZmFsc2UpLCBfX3JlYWQodGhpcy5yZWFkZXJzKSwgZmFsc2UpLCBfX3JlYWQodGhpcy53cml0ZXJzKSwgZmFsc2UpO1xuICAgIH07XG4gICAgUm91dGluZ1RhYmxlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICgnUm91dGluZ1RhYmxlWycgK1xuICAgICAgICAgICAgXCJkYXRhYmFzZT1cIi5jb25jYXQodGhpcy5kYXRhYmFzZU5hbWUsIFwiLCBcIikgK1xuICAgICAgICAgICAgXCJleHBpcmF0aW9uVGltZT1cIi5jb25jYXQodGhpcy5leHBpcmF0aW9uVGltZSwgXCIsIFwiKSArXG4gICAgICAgICAgICBcImN1cnJlbnRUaW1lPVwiLmNvbmNhdChEYXRlLm5vdygpLCBcIiwgXCIpICtcbiAgICAgICAgICAgIFwicm91dGVycz1bXCIuY29uY2F0KHRoaXMucm91dGVycywgXCJdLCBcIikgK1xuICAgICAgICAgICAgXCJyZWFkZXJzPVtcIi5jb25jYXQodGhpcy5yZWFkZXJzLCBcIl0sIFwiKSArXG4gICAgICAgICAgICBcIndyaXRlcnM9W1wiLmNvbmNhdCh0aGlzLndyaXRlcnMsIFwiXV1cIikpO1xuICAgIH07XG4gICAgcmV0dXJuIFJvdXRpbmdUYWJsZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0aW5nVGFibGU7XG4vKipcbiAqIFJlbW92ZSBhbGwgb2NjdXJyZW5jZXMgb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGFycmF5LlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgdGhlIGFycmF5IHRvIGZpbHRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge0FycmF5fSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUZyb21BcnJheShhcnJheSwgZWxlbWVudCkge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uYXNLZXkoKSAhPT0gZWxlbWVudC5hc0tleSgpOyB9KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgdmFsaWQgcm91dGluZyB0YWJsZSBmcm9tIGEgcmF3IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYiB0aGUgZGF0YWJhc2UgbmFtZS4gSXQgaXMgdXNlZCBmb3IgbG9nZ2luZyBwdXJwb3Nlc1xuICogQHBhcmFtIHtTZXJ2ZXJBZGRyZXNzfSByb3V0ZXJBZGRyZXNzIFRoZSByb3V0ZXIgYWRkcmVzcywgaXQgaXMgdXNlZCBmb3IgbG9nZ2luIHB1cnBvc2VzXG4gKiBAcGFyYW0ge1Jhd1JvdXRpbmdUYWJsZX0gcmF3Um91dGluZ1RhYmxlIE1ldGhvZCB1c2VkIHRvIGdldCB0aGUgcmF3IHJvdXRpbmcgdGFibGUgdG8gYmUgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge1JvdXRpbmdUYWJsZX0gVGhlIHZhbGlkIFJvdXRpbmcgVGFibGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVmFsaWRSb3V0aW5nVGFibGUoZGF0YWJhc2UsIHJvdXRlckFkZHJlc3MsIHJhd1JvdXRpbmdUYWJsZSkge1xuICAgIHZhciB0dGwgPSByYXdSb3V0aW5nVGFibGUudHRsO1xuICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNhbGN1bGF0ZUV4cGlyYXRpb25UaW1lKHJhd1JvdXRpbmdUYWJsZSwgcm91dGVyQWRkcmVzcyk7XG4gICAgdmFyIF9hID0gcGFyc2VTZXJ2ZXJzKHJhd1JvdXRpbmdUYWJsZSwgcm91dGVyQWRkcmVzcyksIHJvdXRlcnMgPSBfYS5yb3V0ZXJzLCByZWFkZXJzID0gX2EucmVhZGVycywgd3JpdGVycyA9IF9hLndyaXRlcnM7XG4gICAgYXNzZXJ0Tm9uRW1wdHkocm91dGVycywgJ3JvdXRlcnMnLCByb3V0ZXJBZGRyZXNzKTtcbiAgICBhc3NlcnROb25FbXB0eShyZWFkZXJzLCAncmVhZGVycycsIHJvdXRlckFkZHJlc3MpO1xuICAgIHJldHVybiBuZXcgUm91dGluZ1RhYmxlKHtcbiAgICAgICAgZGF0YWJhc2U6IGRhdGFiYXNlIHx8IHJhd1JvdXRpbmdUYWJsZS5kYixcbiAgICAgICAgcm91dGVyczogcm91dGVycyxcbiAgICAgICAgcmVhZGVyczogcmVhZGVycyxcbiAgICAgICAgd3JpdGVyczogd3JpdGVycyxcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgICB0dGw6IHR0bFxuICAgIH0pO1xufVxuZXhwb3J0cy5jcmVhdGVWYWxpZFJvdXRpbmdUYWJsZSA9IGNyZWF0ZVZhbGlkUm91dGluZ1RhYmxlO1xuLyoqXG4gKiBQYXJzZSBzZXJ2ZXIgZnJvbSB0aGUgUmF3Um91dGluZ1RhYmxlLlxuICpcbiAqIEBwYXJhbSB7UmF3Um91dGluZ1RhYmxlfSByYXdSb3V0aW5nVGFibGUgdGhlIHJhdyByb3V0aW5nIHRhYmxlXG4gKiBAcGFyYW0ge3N0cmluZ30gcm91dGVyQWRkcmVzcyB0aGUgcm91dGVyIGFkZHJlc3NcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvYmplY3Qgd2l0aCB0aGUgbGlzdCBvZiByb3V0ZXJzLCByZWFkZXJzIGFuZCB3cml0ZXJzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU2VydmVycyhyYXdSb3V0aW5nVGFibGUsIHJvdXRlckFkZHJlc3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgcm91dGVyc18xID0gW107XG4gICAgICAgIHZhciByZWFkZXJzXzEgPSBbXTtcbiAgICAgICAgdmFyIHdyaXRlcnNfMSA9IFtdO1xuICAgICAgICByYXdSb3V0aW5nVGFibGUuc2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHZhciByb2xlID0gc2VydmVyLnJvbGU7XG4gICAgICAgICAgICB2YXIgYWRkcmVzc2VzID0gc2VydmVyLmFkZHJlc3NlcztcbiAgICAgICAgICAgIGlmIChyb2xlID09PSAnUk9VVEUnKSB7XG4gICAgICAgICAgICAgICAgcm91dGVyc18xID0gcGFyc2VBcnJheShhZGRyZXNzZXMpLm1hcChmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2VydmVyQWRkcmVzcy5mcm9tVXJsKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocm9sZSA9PT0gJ1dSSVRFJykge1xuICAgICAgICAgICAgICAgIHdyaXRlcnNfMSA9IHBhcnNlQXJyYXkoYWRkcmVzc2VzKS5tYXAoZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZlckFkZHJlc3MuZnJvbVVybChhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJvbGUgPT09ICdSRUFEJykge1xuICAgICAgICAgICAgICAgIHJlYWRlcnNfMSA9IHBhcnNlQXJyYXkoYWRkcmVzc2VzKS5tYXAoZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNlcnZlckFkZHJlc3MuZnJvbVVybChhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3V0ZXJzOiByb3V0ZXJzXzEsXG4gICAgICAgICAgICByZWFkZXJzOiByZWFkZXJzXzEsXG4gICAgICAgICAgICB3cml0ZXJzOiB3cml0ZXJzXzFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLm5ld0Vycm9yKShcIlVuYWJsZSB0byBwYXJzZSBzZXJ2ZXJzIGVudHJ5IGZyb20gcm91dGVyIFwiLmNvbmNhdChyb3V0ZXJBZGRyZXNzLCBcIiBmcm9tIGFkZHJlc3NlczpcXG5cIikuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocmF3Um91dGluZ1RhYmxlLnNlcnZlcnMpLCBcIlxcbkVycm9yIG1lc3NhZ2U6IFwiKS5jb25jYXQoZXJyb3IubWVzc2FnZSksIFBST1RPQ09MX0VSUk9SKTtcbiAgICB9XG59XG4vKipcbiAqIENhbGwgdGhlIGV4cGlyYXRpb24gdGltZSB1c2luZyB0aGUgdHRscyBmcm9tIHRoZSByYXcgcm91dGluZyB0YWJsZSBhbmQgcmV0dXJuIGl0XG4gKlxuICogQHBhcmFtIHtSYXdSb3V0aW5nVGFibGV9IHJhd1JvdXRpbmdUYWJsZSB0aGUgcm91dGluZyB0YWJsZVxuICogQHBhcmFtIHtzdHJpbmd9IHJvdXRlckFkZHJlc3MgdGhlIHJvdXRlciBhZGRyZXNzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgdHRsXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUV4cGlyYXRpb25UaW1lKHJhd1JvdXRpbmdUYWJsZSwgcm91dGVyQWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBub3cgPSAoMCwgbmVvNGpfZHJpdmVyX2NvcmVfMS5pbnQpKERhdGUubm93KCkpO1xuICAgICAgICB2YXIgZXhwaXJlcyA9ICgwLCBuZW80al9kcml2ZXJfY29yZV8xLmludCkocmF3Um91dGluZ1RhYmxlLnR0bClcbiAgICAgICAgICAgIC5tdWx0aXBseSgxMDAwKVxuICAgICAgICAgICAgLmFkZChub3cpO1xuICAgICAgICAvLyBpZiB0aGUgc2VydmVyIHVzZXMgYSByZWFsbHkgYmlnIGV4cGlyZSB0aW1lIGxpa2UgTG9uZy5NQVhfVkFMVUUgdGhpcyBtYXkgaGF2ZSBvdmVyZmxvd2VkXG4gICAgICAgIGlmIChleHBpcmVzLmxlc3NUaGFuKG5vdykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZW80al9kcml2ZXJfY29yZV8xLkludGVnZXIuTUFYX1ZBTFVFO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHBpcmVzO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKFwiVW5hYmxlIHRvIHBhcnNlIFRUTCBlbnRyeSBmcm9tIHJvdXRlciBcIi5jb25jYXQocm91dGVyQWRkcmVzcywgXCIgZnJvbSByYXcgcm91dGluZyB0YWJsZTpcXG5cIikuY29uY2F0KG5lbzRqX2RyaXZlcl9jb3JlXzEuanNvbi5zdHJpbmdpZnkocmF3Um91dGluZ1RhYmxlKSwgXCJcXG5FcnJvciBtZXNzYWdlOiBcIikuY29uY2F0KGVycm9yLm1lc3NhZ2UpLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgfVxufVxuLyoqXG4gKiBBc3NlcnQgaWYgc2VydmVyQWRkcmVzc2VzQXJyYXkgaXMgbm90IGVtcHR5LCB0aHJvd3MgYW5kIFBST1RPQ09MX0VSUk9SIG90aGVyd2lzZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNlcnZlckFkZHJlc3Nlc0FycmF5IGFycmF5IG9mIGFkZHJlc3Nlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNlcnZlcnNOYW1lIHRoZSBzZXJ2ZXIgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHJvdXRlckFkZHJlc3MgdGhlIHJvdXRlciBhZGRyZXNzXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vbkVtcHR5KHNlcnZlckFkZHJlc3Nlc0FycmF5LCBzZXJ2ZXJzTmFtZSwgcm91dGVyQWRkcmVzcykge1xuICAgIGlmIChzZXJ2ZXJBZGRyZXNzZXNBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgKDAsIG5lbzRqX2RyaXZlcl9jb3JlXzEubmV3RXJyb3IpKCdSZWNlaXZlZCBubyAnICsgc2VydmVyc05hbWUgKyAnIGZyb20gcm91dGVyICcgKyByb3V0ZXJBZGRyZXNzLCBQUk9UT0NPTF9FUlJPUik7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VBcnJheShhZGRyZXNzZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWRkcmVzc2VzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheSBleHBlY3RlZCBidXQgZ290OiAnICsgYWRkcmVzc2VzKTtcbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYWRkcmVzc2VzKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js\n");

/***/ })

};
;